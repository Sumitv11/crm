var YT=e=>{throw TypeError(e)};var q6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _y=(e,t,r)=>t.has(e)||YT("Cannot "+r);var ee=(e,t,r)=>(_y(e,t,"read from private field"),r?r.call(e):t.get(e)),Rt=(e,t,r)=>t.has(e)?YT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),at=(e,t,r,n)=>(_y(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),kt=(e,t,r)=>(_y(e,t,"access private method"),r);var Jg=(e,t,r,n)=>({set _(s){at(e,t,s,r)},get _(){return ee(e,t,n)}});var sRe=q6((Vs,Ws)=>{function Y6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Xv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jy={exports:{}},Bh={},By={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function Q6(){if(QT)return jt;QT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,y={};function w(z,N,O){this.props=z,this.context=N,this.refs=y,this.updater=O||C}w.prototype.isReactComponent={},w.prototype.setState=function(z,N){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,N,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function b(){}b.prototype=w.prototype;function F(z,N,O){this.props=z,this.context=N,this.refs=y,this.updater=O||C}var E=F.prototype=new b;E.constructor=F,S(E,w.prototype),E.isPureReactComponent=!0;var R=Array.isArray,A=Object.prototype.hasOwnProperty,D={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function I(z,N,O){var H,G={},J=null,oe=null;if(N!=null)for(H in N.ref!==void 0&&(oe=N.ref),N.key!==void 0&&(J=""+N.key),N)A.call(N,H)&&!M.hasOwnProperty(H)&&(G[H]=N[H]);var ve=arguments.length-2;if(ve===1)G.children=O;else if(1<ve){for(var X=Array(ve),ne=0;ne<ve;ne++)X[ne]=arguments[ne+2];G.children=X}if(z&&z.defaultProps)for(H in ve=z.defaultProps,ve)G[H]===void 0&&(G[H]=ve[H]);return{$$typeof:e,type:z,key:J,ref:oe,props:G,_owner:D.current}}function L(z,N){return{$$typeof:e,type:z.type,key:N,ref:z.ref,props:z.props,_owner:z._owner}}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function W(z){var N={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(O){return N[O]})}var B=/\/+/g;function ie(z,N){return typeof z=="object"&&z!==null&&z.key!=null?W(""+z.key):N.toString(36)}function Se(z,N,O,H,G){var J=typeof z;(J==="undefined"||J==="boolean")&&(z=null);var oe=!1;if(z===null)oe=!0;else switch(J){case"string":case"number":oe=!0;break;case"object":switch(z.$$typeof){case e:case t:oe=!0}}if(oe)return oe=z,G=G(oe),z=H===""?"."+ie(oe,0):H,R(G)?(O="",z!=null&&(O=z.replace(B,"$&/")+"/"),Se(G,N,O,"",function(ne){return ne})):G!=null&&(j(G)&&(G=L(G,O+(!G.key||oe&&oe.key===G.key?"":(""+G.key).replace(B,"$&/")+"/")+z)),N.push(G)),1;if(oe=0,H=H===""?".":H+":",R(z))for(var ve=0;ve<z.length;ve++){J=z[ve];var X=H+ie(J,ve);oe+=Se(J,N,O,X,G)}else if(X=g(z),typeof X=="function")for(z=X.call(z),ve=0;!(J=z.next()).done;)J=J.value,X=H+ie(J,ve++),oe+=Se(J,N,O,X,G);else if(J==="object")throw N=String(z),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return oe}function Ee(z,N,O){if(z==null)return z;var H=[],G=0;return Se(z,H,"","",function(J){return N.call(O,J,G++)}),H}function xe(z){if(z._status===-1){var N=z._result;N=N(),N.then(function(O){(z._status===0||z._status===-1)&&(z._status=1,z._result=O)},function(O){(z._status===0||z._status===-1)&&(z._status=2,z._result=O)}),z._status===-1&&(z._status=0,z._result=N)}if(z._status===1)return z._result.default;throw z._result}var ae={current:null},Z={transition:null},re={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:Z,ReactCurrentOwner:D};function ue(){throw Error("act(...) is not supported in production builds of React.")}return jt.Children={map:Ee,forEach:function(z,N,O){Ee(z,function(){N.apply(this,arguments)},O)},count:function(z){var N=0;return Ee(z,function(){N++}),N},toArray:function(z){return Ee(z,function(N){return N})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},jt.Component=w,jt.Fragment=r,jt.Profiler=s,jt.PureComponent=F,jt.StrictMode=n,jt.Suspense=l,jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,jt.act=ue,jt.cloneElement=function(z,N,O){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var H=S({},z.props),G=z.key,J=z.ref,oe=z._owner;if(N!=null){if(N.ref!==void 0&&(J=N.ref,oe=D.current),N.key!==void 0&&(G=""+N.key),z.type&&z.type.defaultProps)var ve=z.type.defaultProps;for(X in N)A.call(N,X)&&!M.hasOwnProperty(X)&&(H[X]=N[X]===void 0&&ve!==void 0?ve[X]:N[X])}var X=arguments.length-2;if(X===1)H.children=O;else if(1<X){ve=Array(X);for(var ne=0;ne<X;ne++)ve[ne]=arguments[ne+2];H.children=ve}return{$$typeof:e,type:z.type,key:G,ref:J,props:H,_owner:oe}},jt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},jt.createElement=I,jt.createFactory=function(z){var N=I.bind(null,z);return N.type=z,N},jt.createRef=function(){return{current:null}},jt.forwardRef=function(z){return{$$typeof:a,render:z}},jt.isValidElement=j,jt.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:xe}},jt.memo=function(z,N){return{$$typeof:u,type:z,compare:N===void 0?null:N}},jt.startTransition=function(z){var N=Z.transition;Z.transition={};try{z()}finally{Z.transition=N}},jt.unstable_act=ue,jt.useCallback=function(z,N){return ae.current.useCallback(z,N)},jt.useContext=function(z){return ae.current.useContext(z)},jt.useDebugValue=function(){},jt.useDeferredValue=function(z){return ae.current.useDeferredValue(z)},jt.useEffect=function(z,N){return ae.current.useEffect(z,N)},jt.useId=function(){return ae.current.useId()},jt.useImperativeHandle=function(z,N,O){return ae.current.useImperativeHandle(z,N,O)},jt.useInsertionEffect=function(z,N){return ae.current.useInsertionEffect(z,N)},jt.useLayoutEffect=function(z,N){return ae.current.useLayoutEffect(z,N)},jt.useMemo=function(z,N){return ae.current.useMemo(z,N)},jt.useReducer=function(z,N,O){return ae.current.useReducer(z,N,O)},jt.useRef=function(z){return ae.current.useRef(z)},jt.useState=function(z){return ae.current.useState(z)},jt.useSyncExternalStore=function(z,N,O){return ae.current.useSyncExternalStore(z,N,O)},jt.useTransition=function(){return ae.current.useTransition()},jt.version="18.3.1",jt}var XT;function Jv(){return XT||(XT=1,By.exports=Q6()),By.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT;function X6(){if(JT)return Bh;JT=1;var e=Jv(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var f,p={},g=null,C=null;u!==void 0&&(g=""+u),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(C=l.ref);for(f in l)n.call(l,f)&&!i.hasOwnProperty(f)&&(p[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)p[f]===void 0&&(p[f]=l[f]);return{$$typeof:t,type:a,key:g,ref:C,props:p,_owner:s.current}}return Bh.Fragment=r,Bh.jsx=o,Bh.jsxs=o,Bh}var ZT;function J6(){return ZT||(ZT=1,jy.exports=X6()),jy.exports}var d=J6(),v=Jv();const De=Xv(v),BM=Y6({__proto__:null,default:De},[v]);var Zg={},Gy={exports:{}},ps={},Hy={exports:{}},Vy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function Z6(){return eP||(eP=1,function(e){function t(Z,re){var ue=Z.length;Z.push(re);e:for(;0<ue;){var z=ue-1>>>1,N=Z[z];if(0<s(N,re))Z[z]=re,Z[ue]=N,ue=z;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var re=Z[0],ue=Z.pop();if(ue!==re){Z[0]=ue;e:for(var z=0,N=Z.length,O=N>>>1;z<O;){var H=2*(z+1)-1,G=Z[H],J=H+1,oe=Z[J];if(0>s(G,ue))J<N&&0>s(oe,G)?(Z[z]=oe,Z[J]=ue,z=J):(Z[z]=G,Z[H]=ue,z=H);else if(J<N&&0>s(oe,ue))Z[z]=oe,Z[J]=ue,z=J;else break e}}return re}function s(Z,re){var ue=Z.sortIndex-re.sortIndex;return ue!==0?ue:Z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,p=null,g=3,C=!1,S=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Z){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=Z)n(u),re.sortIndex=re.expirationTime,t(l,re);else break;re=r(u)}}function R(Z){if(y=!1,E(Z),!S)if(r(l)!==null)S=!0,xe(A);else{var re=r(u);re!==null&&ae(R,re.startTime-Z)}}function A(Z,re){S=!1,y&&(y=!1,b(I),I=-1),C=!0;var ue=g;try{for(E(re),p=r(l);p!==null&&(!(p.expirationTime>re)||Z&&!W());){var z=p.callback;if(typeof z=="function"){p.callback=null,g=p.priorityLevel;var N=z(p.expirationTime<=re);re=e.unstable_now(),typeof N=="function"?p.callback=N:p===r(l)&&n(l),E(re)}else n(l);p=r(l)}if(p!==null)var O=!0;else{var H=r(u);H!==null&&ae(R,H.startTime-re),O=!1}return O}finally{p=null,g=ue,C=!1}}var D=!1,M=null,I=-1,L=5,j=-1;function W(){return!(e.unstable_now()-j<L)}function B(){if(M!==null){var Z=e.unstable_now();j=Z;var re=!0;try{re=M(!0,Z)}finally{re?ie():(D=!1,M=null)}}else D=!1}var ie;if(typeof F=="function")ie=function(){F(B)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ee=Se.port2;Se.port1.onmessage=B,ie=function(){Ee.postMessage(null)}}else ie=function(){w(B,0)};function xe(Z){M=Z,D||(D=!0,ie())}function ae(Z,re){I=w(function(){Z(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){S||C||(S=!0,xe(A))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var ue=g;g=re;try{return Z()}finally{g=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ue=g;g=Z;try{return re()}finally{g=ue}},e.unstable_scheduleCallback=function(Z,re,ue){var z=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?z+ue:z):ue=z,Z){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ue+N,Z={id:f++,callback:re,priorityLevel:Z,startTime:ue,expirationTime:N,sortIndex:-1},ue>z?(Z.sortIndex=ue,t(u,Z),r(l)===null&&Z===r(u)&&(y?(b(I),I=-1):y=!0,ae(R,ue-z))):(Z.sortIndex=N,t(l,Z),S||C||(S=!0,xe(A))),Z},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(Z){var re=g;return function(){var ue=g;g=re;try{return Z.apply(this,arguments)}finally{g=ue}}}}(Vy)),Vy}var tP;function e8(){return tP||(tP=1,Hy.exports=Z6()),Hy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function t8(){if(rP)return ps;rP=1;var e=Jv(),t=e8();function r(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,m=1;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(c,h){o(c,h),o(c+"Capture",h)}function o(c,h){for(s[c]=h,c=0;c<h.length;c++)n.add(h[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(c){return l.call(p,c)?!0:l.call(f,c)?!1:u.test(c)?p[c]=!0:(f[c]=!0,!1)}function C(c,h,m,x){if(m!==null&&m.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function S(c,h,m,x){if(h===null||typeof h>"u"||C(c,h,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function y(c,h,m,x,T,P,k){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=x,this.attributeNamespace=T,this.mustUseProperty=m,this.propertyName=c,this.type=h,this.sanitizeURL=P,this.removeEmptyString=k}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){w[c]=new y(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];w[h]=new y(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){w[c]=new y(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){w[c]=new y(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){w[c]=new y(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){w[c]=new y(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){w[c]=new y(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){w[c]=new y(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){w[c]=new y(c,5,!1,c.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function F(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(b,F);w[h]=new y(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(b,F);w[h]=new y(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(b,F);w[h]=new y(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){w[c]=new y(c,1,!1,c.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){w[c]=new y(c,1,!1,c.toLowerCase(),null,!0,!0)});function E(c,h,m,x){var T=w.hasOwnProperty(h)?w[h]:null;(T!==null?T.type!==0:x||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(S(h,m,T,x)&&(m=null),x||T===null?g(h)&&(m===null?c.removeAttribute(h):c.setAttribute(h,""+m)):T.mustUseProperty?c[T.propertyName]=m===null?T.type===3?!1:"":m:(h=T.attributeName,x=T.attributeNamespace,m===null?c.removeAttribute(h):(T=T.type,m=T===3||T===4&&m===!0?"":""+m,x?c.setAttributeNS(x,h,m):c.setAttribute(h,m))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),W=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),Z=Symbol.iterator;function re(c){return c===null||typeof c!="object"?null:(c=Z&&c[Z]||c["@@iterator"],typeof c=="function"?c:null)}var ue=Object.assign,z;function N(c){if(z===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);z=h&&h[1]||""}return`
`+z+c}var O=!1;function H(c,h){if(!c||O)return"";O=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(we){var x=we}Reflect.construct(c,[],h)}else{try{h.call()}catch(we){x=we}c.call(h.prototype)}else{try{throw Error()}catch(we){x=we}c()}}catch(we){if(we&&x&&typeof we.stack=="string"){for(var T=we.stack.split(`
`),P=x.stack.split(`
`),k=T.length-1,Q=P.length-1;1<=k&&0<=Q&&T[k]!==P[Q];)Q--;for(;1<=k&&0<=Q;k--,Q--)if(T[k]!==P[Q]){if(k!==1||Q!==1)do if(k--,Q--,0>Q||T[k]!==P[Q]){var te=`
`+T[k].replace(" at new "," at ");return c.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",c.displayName)),te}while(1<=k&&0<=Q);break}}}finally{O=!1,Error.prepareStackTrace=m}return(c=c?c.displayName||c.name:"")?N(c):""}function G(c){switch(c.tag){case 5:return N(c.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return c=H(c.type,!1),c;case 11:return c=H(c.type.render,!1),c;case 1:return c=H(c.type,!0),c;default:return""}}function J(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case M:return"Fragment";case D:return"Portal";case L:return"Profiler";case I:return"StrictMode";case ie:return"Suspense";case Se:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case W:return(c.displayName||"Context")+".Consumer";case j:return(c._context.displayName||"Context")+".Provider";case B:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Ee:return h=c.displayName||null,h!==null?h:J(c.type)||"Memo";case xe:h=c._payload,c=c._init;try{return J(c(h))}catch{}}return null}function oe(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(h);case 8:return h===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function ve(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function X(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ne(c){var h=X(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),x=""+c[h];if(!c.hasOwnProperty(h)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,P=m.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return T.call(this)},set:function(k){x=""+k,P.call(this,k)}}),Object.defineProperty(c,h,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(k){x=""+k},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Ne(c){c._valueTracker||(c._valueTracker=ne(c))}function Ae(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var m=h.getValue(),x="";return c&&(x=X(c)?c.checked?"true":"false":c.value),c=x,c!==m?(h.setValue(c),!0):!1}function Qe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Je(c,h){var m=h.checked;return ue({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??c._wrapperState.initialChecked})}function ft(c,h){var m=h.defaultValue==null?"":h.defaultValue,x=h.checked!=null?h.checked:h.defaultChecked;m=ve(h.value!=null?h.value:m),c._wrapperState={initialChecked:x,initialValue:m,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function xt(c,h){h=h.checked,h!=null&&E(c,"checked",h,!1)}function We(c,h){xt(c,h);var m=ve(h.value),x=h.type;if(m!=null)x==="number"?(m===0&&c.value===""||c.value!=m)&&(c.value=""+m):c.value!==""+m&&(c.value=""+m);else if(x==="submit"||x==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?Ke(c,h.type,m):h.hasOwnProperty("defaultValue")&&Ke(c,h.type,ve(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function le(c,h,m){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var x=h.type;if(!(x!=="submit"&&x!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,m||h===c.value||(c.value=h),c.defaultValue=h}m=c.name,m!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,m!==""&&(c.name=m)}function Ke(c,h,m){(h!=="number"||Qe(c.ownerDocument)!==c)&&(m==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+m&&(c.defaultValue=""+m))}var ct=Array.isArray;function Nt(c,h,m,x){if(c=c.options,h){h={};for(var T=0;T<m.length;T++)h["$"+m[T]]=!0;for(m=0;m<c.length;m++)T=h.hasOwnProperty("$"+c[m].value),c[m].selected!==T&&(c[m].selected=T),T&&x&&(c[m].defaultSelected=!0)}else{for(m=""+ve(m),h=null,T=0;T<c.length;T++){if(c[T].value===m){c[T].selected=!0,x&&(c[T].defaultSelected=!0);return}h!==null||c[T].disabled||(h=c[T])}h!==null&&(h.selected=!0)}}function de(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return ue({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function He(c,h){var m=h.value;if(m==null){if(m=h.children,h=h.defaultValue,m!=null){if(h!=null)throw Error(r(92));if(ct(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),m=h}c._wrapperState={initialValue:ve(m)}}function Ue(c,h){var m=ve(h.value),x=ve(h.defaultValue);m!=null&&(m=""+m,m!==c.value&&(c.value=m),h.defaultValue==null&&c.defaultValue!==m&&(c.defaultValue=m)),x!=null&&(c.defaultValue=""+x)}function tt(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function rt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?rt(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Vt,zr=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,m,x,T){MSApp.execUnsafeLocalFunction(function(){return c(h,m,x,T)})}:c}(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(Vt=Vt||document.createElement("div"),Vt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Vt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function Oe(c,h){if(h){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=h;return}}c.textContent=h}var vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];Object.keys(vt).forEach(function(c){ur.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),vt[h]=vt[c]})});function nn(c,h,m){return h==null||typeof h=="boolean"||h===""?"":m||typeof h!="number"||h===0||vt.hasOwnProperty(c)&&vt[c]?(""+h).trim():h+"px"}function Qs(c,h){c=c.style;for(var m in h)if(h.hasOwnProperty(m)){var x=m.indexOf("--")===0,T=nn(m,h[m],x);m==="float"&&(m="cssFloat"),x?c.setProperty(m,T):c[m]=T}}var Me=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(c,h){if(h){if(Me[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function Wt(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gn=null;function yi(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Si=null,Xs=null,As=null;function Eo(c){if(c=Rh(c)){if(typeof Si!="function")throw Error(r(280));var h=c.stateNode;h&&(h=fg(h),Si(c.stateNode,c.type,h))}}function Up(c){Xs?As?As.push(c):As=[c]:Xs=c}function zp(){if(Xs){var c=Xs,h=As;if(As=Xs=null,Eo(c),h)for(c=0;c<h.length;c++)Eo(h[c])}}function $p(c,h){return c(h)}function Kp(){}var nh=!1;function qp(c,h,m){if(nh)return c(h,m);nh=!0;try{return $p(c,h,m)}finally{nh=!1,(Xs!==null||As!==null)&&(Kp(),zp())}}function Al(c,h){var m=c.stateNode;if(m===null)return null;var x=fg(m);if(x===null)return null;m=x[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(c=c.type,x=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!x;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,h,typeof m));return m}var sh=!1;if(a)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){sh=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{sh=!1}function nC(c,h,m,x,T,P,k,Q,te){var we=Array.prototype.slice.call(arguments,3);try{h.apply(m,we)}catch(je){this.onError(je)}}var Dl=!1,nu=null,_=!1,K=null,V={onError:function(c){Dl=!0,nu=c}};function U(c,h,m,x,T,P,k,Q,te){Dl=!1,nu=null,nC.apply(V,arguments)}function q(c,h,m,x,T,P,k,Q,te){if(U.apply(this,arguments),Dl){if(Dl){var we=nu;Dl=!1,nu=null}else throw Error(r(198));_||(_=!0,K=we)}}function Y(c){var h=c,m=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(m=h.return),c=h.return;while(c)}return h.tag===3?m:null}function ge(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function Pe(c){if(Y(c)!==c)throw Error(r(188))}function pe(c){var h=c.alternate;if(!h){if(h=Y(c),h===null)throw Error(r(188));return h!==c?null:c}for(var m=c,x=h;;){var T=m.return;if(T===null)break;var P=T.alternate;if(P===null){if(x=T.return,x!==null){m=x;continue}break}if(T.child===P.child){for(P=T.child;P;){if(P===m)return Pe(T),c;if(P===x)return Pe(T),h;P=P.sibling}throw Error(r(188))}if(m.return!==x.return)m=T,x=P;else{for(var k=!1,Q=T.child;Q;){if(Q===m){k=!0,m=T,x=P;break}if(Q===x){k=!0,x=T,m=P;break}Q=Q.sibling}if(!k){for(Q=P.child;Q;){if(Q===m){k=!0,m=P,x=T;break}if(Q===x){k=!0,x=P,m=T;break}Q=Q.sibling}if(!k)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:h}function Ce(c){return c=pe(c),c!==null?ye(c):null}function ye(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=ye(c);if(h!==null)return h;c=c.sibling}return null}var Be=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,ot=t.unstable_shouldYield,ze=t.unstable_requestPaint,Ve=t.unstable_now,Mt=t.unstable_getCurrentPriorityLevel,dr=t.unstable_ImmediatePriority,fr=t.unstable_UserBlockingPriority,Gr=t.unstable_NormalPriority,Ml=t.unstable_LowPriority,pa=t.unstable_IdlePriority,qi=null,sn=null;function ih(c){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(qi,c,void 0,(c.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:hG,uG=Math.log,dG=Math.LN2;function hG(c){return c>>>=0,c===0?32:31-(uG(c)/dG|0)|0}var Yp=64,Qp=4194304;function oh(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Xp(c,h){var m=c.pendingLanes;if(m===0)return 0;var x=0,T=c.suspendedLanes,P=c.pingedLanes,k=m&268435455;if(k!==0){var Q=k&~T;Q!==0?x=oh(Q):(P&=k,P!==0&&(x=oh(P)))}else k=m&~T,k!==0?x=oh(k):P!==0&&(x=oh(P));if(x===0)return 0;if(h!==0&&h!==x&&(h&T)===0&&(T=x&-x,P=h&-h,T>=P||T===16&&(P&4194240)!==0))return h;if((x&4)!==0&&(x|=m&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=x;0<h;)m=31-Hr(h),T=1<<m,x|=c[m],h&=~T;return x}function fG(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pG(c,h){for(var m=c.suspendedLanes,x=c.pingedLanes,T=c.expirationTimes,P=c.pendingLanes;0<P;){var k=31-Hr(P),Q=1<<k,te=T[k];te===-1?((Q&m)===0||(Q&x)!==0)&&(T[k]=fG(Q,h)):te<=h&&(c.expiredLanes|=Q),P&=~Q}}function sC(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function FE(){var c=Yp;return Yp<<=1,(Yp&4194240)===0&&(Yp=64),c}function iC(c){for(var h=[],m=0;31>m;m++)h.push(c);return h}function ah(c,h,m){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Hr(h),c[h]=m}function gG(c,h){var m=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var x=c.eventTimes;for(c=c.expirationTimes;0<m;){var T=31-Hr(m),P=1<<T;h[T]=0,x[T]=-1,c[T]=-1,m&=~P}}function oC(c,h){var m=c.entangledLanes|=h;for(c=c.entanglements;m;){var x=31-Hr(m),T=1<<x;T&h|c[x]&h&&(c[x]|=h),m&=~T}}var nr=0;function TE(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var PE,aC,AE,DE,ME,lC=!1,Jp=[],ga=null,ma=null,va=null,lh=new Map,ch=new Map,Ca=[],mG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NE(c,h){switch(c){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":lh.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(h.pointerId)}}function uh(c,h,m,x,T,P){return c===null||c.nativeEvent!==P?(c={blockedOn:h,domEventName:m,eventSystemFlags:x,nativeEvent:P,targetContainers:[T]},h!==null&&(h=Rh(h),h!==null&&aC(h)),c):(c.eventSystemFlags|=x,h=c.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),c)}function vG(c,h,m,x,T){switch(h){case"focusin":return ga=uh(ga,c,h,m,x,T),!0;case"dragenter":return ma=uh(ma,c,h,m,x,T),!0;case"mouseover":return va=uh(va,c,h,m,x,T),!0;case"pointerover":var P=T.pointerId;return lh.set(P,uh(lh.get(P)||null,c,h,m,x,T)),!0;case"gotpointercapture":return P=T.pointerId,ch.set(P,uh(ch.get(P)||null,c,h,m,x,T)),!0}return!1}function IE(c){var h=Nl(c.target);if(h!==null){var m=Y(h);if(m!==null){if(h=m.tag,h===13){if(h=ge(m),h!==null){c.blockedOn=h,ME(c.priority,function(){AE(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Zp(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var m=uC(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(m===null){m=c.nativeEvent;var x=new m.constructor(m.type,m);gn=x,m.target.dispatchEvent(x),gn=null}else return h=Rh(m),h!==null&&aC(h),c.blockedOn=m,!1;h.shift()}return!0}function OE(c,h,m){Zp(c)&&m.delete(h)}function CG(){lC=!1,ga!==null&&Zp(ga)&&(ga=null),ma!==null&&Zp(ma)&&(ma=null),va!==null&&Zp(va)&&(va=null),lh.forEach(OE),ch.forEach(OE)}function dh(c,h){c.blockedOn===h&&(c.blockedOn=null,lC||(lC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CG)))}function hh(c){function h(T){return dh(T,c)}if(0<Jp.length){dh(Jp[0],c);for(var m=1;m<Jp.length;m++){var x=Jp[m];x.blockedOn===c&&(x.blockedOn=null)}}for(ga!==null&&dh(ga,c),ma!==null&&dh(ma,c),va!==null&&dh(va,c),lh.forEach(h),ch.forEach(h),m=0;m<Ca.length;m++)x=Ca[m],x.blockedOn===c&&(x.blockedOn=null);for(;0<Ca.length&&(m=Ca[0],m.blockedOn===null);)IE(m),m.blockedOn===null&&Ca.shift()}var su=R.ReactCurrentBatchConfig,eg=!0;function yG(c,h,m,x){var T=nr,P=su.transition;su.transition=null;try{nr=1,cC(c,h,m,x)}finally{nr=T,su.transition=P}}function SG(c,h,m,x){var T=nr,P=su.transition;su.transition=null;try{nr=4,cC(c,h,m,x)}finally{nr=T,su.transition=P}}function cC(c,h,m,x){if(eg){var T=uC(c,h,m,x);if(T===null)TC(c,h,x,tg,m),NE(c,x);else if(vG(T,c,h,m,x))x.stopPropagation();else if(NE(c,x),h&4&&-1<mG.indexOf(c)){for(;T!==null;){var P=Rh(T);if(P!==null&&PE(P),P=uC(c,h,m,x),P===null&&TC(c,h,x,tg,m),P===T)break;T=P}T!==null&&x.stopPropagation()}else TC(c,h,x,null,m)}}var tg=null;function uC(c,h,m,x){if(tg=null,c=yi(x),c=Nl(c),c!==null)if(h=Y(c),h===null)c=null;else if(m=h.tag,m===13){if(c=ge(h),c!==null)return c;c=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return tg=c,null}function kE(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mt()){case dr:return 1;case fr:return 4;case Gr:case Ml:return 16;case pa:return 536870912;default:return 16}default:return 16}}var ya=null,dC=null,rg=null;function LE(){if(rg)return rg;var c,h=dC,m=h.length,x,T="value"in ya?ya.value:ya.textContent,P=T.length;for(c=0;c<m&&h[c]===T[c];c++);var k=m-c;for(x=1;x<=k&&h[m-x]===T[P-x];x++);return rg=T.slice(c,1<x?1-x:void 0)}function ng(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function sg(){return!0}function _E(){return!1}function Ds(c){function h(m,x,T,P,k){this._reactName=m,this._targetInst=T,this.type=x,this.nativeEvent=P,this.target=k,this.currentTarget=null;for(var Q in c)c.hasOwnProperty(Q)&&(m=c[Q],this[Q]=m?m(P):P[Q]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?sg:_E,this.isPropagationStopped=_E,this}return ue(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=sg)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=sg)},persist:function(){},isPersistent:sg}),h}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hC=Ds(iu),fh=ue({},iu,{view:0,detail:0}),wG=Ds(fh),fC,pC,ph,ig=ue({},fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mC,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==ph&&(ph&&c.type==="mousemove"?(fC=c.screenX-ph.screenX,pC=c.screenY-ph.screenY):pC=fC=0,ph=c),fC)},movementY:function(c){return"movementY"in c?c.movementY:pC}}),jE=Ds(ig),xG=ue({},ig,{dataTransfer:0}),bG=Ds(xG),RG=ue({},fh,{relatedTarget:0}),gC=Ds(RG),EG=ue({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),FG=Ds(EG),TG=ue({},iu,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),PG=Ds(TG),AG=ue({},iu,{data:0}),BE=Ds(AG),DG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IG(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=NG[c])?!!h[c]:!1}function mC(){return IG}var OG=ue({},fh,{key:function(c){if(c.key){var h=DG[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=ng(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?MG[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mC,charCode:function(c){return c.type==="keypress"?ng(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ng(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),kG=Ds(OG),LG=ue({},ig,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GE=Ds(LG),_G=ue({},fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mC}),jG=Ds(_G),BG=ue({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),GG=Ds(BG),HG=ue({},ig,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),VG=Ds(HG),WG=[9,13,27,32],vC=a&&"CompositionEvent"in window,gh=null;a&&"documentMode"in document&&(gh=document.documentMode);var UG=a&&"TextEvent"in window&&!gh,HE=a&&(!vC||gh&&8<gh&&11>=gh),VE=" ",WE=!1;function UE(c,h){switch(c){case"keyup":return WG.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zE(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ou=!1;function zG(c,h){switch(c){case"compositionend":return zE(h);case"keypress":return h.which!==32?null:(WE=!0,VE);case"textInput":return c=h.data,c===VE&&WE?null:c;default:return null}}function $G(c,h){if(ou)return c==="compositionend"||!vC&&UE(c,h)?(c=LE(),rg=dC=ya=null,ou=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return HE&&h.locale!=="ko"?null:h.data;default:return null}}var KG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $E(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!KG[c.type]:h==="textarea"}function KE(c,h,m,x){Up(x),h=ug(h,"onChange"),0<h.length&&(m=new hC("onChange","change",null,m,x),c.push({event:m,listeners:h}))}var mh=null,vh=null;function qG(c){dF(c,0)}function og(c){var h=du(c);if(Ae(h))return c}function YG(c,h){if(c==="change")return h}var qE=!1;if(a){var CC;if(a){var yC="oninput"in document;if(!yC){var YE=document.createElement("div");YE.setAttribute("oninput","return;"),yC=typeof YE.oninput=="function"}CC=yC}else CC=!1;qE=CC&&(!document.documentMode||9<document.documentMode)}function QE(){mh&&(mh.detachEvent("onpropertychange",XE),vh=mh=null)}function XE(c){if(c.propertyName==="value"&&og(vh)){var h=[];KE(h,vh,c,yi(c)),qp(qG,h)}}function QG(c,h,m){c==="focusin"?(QE(),mh=h,vh=m,mh.attachEvent("onpropertychange",XE)):c==="focusout"&&QE()}function XG(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return og(vh)}function JG(c,h){if(c==="click")return og(h)}function ZG(c,h){if(c==="input"||c==="change")return og(h)}function e6(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var wi=typeof Object.is=="function"?Object.is:e6;function Ch(c,h){if(wi(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var m=Object.keys(c),x=Object.keys(h);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var T=m[x];if(!l.call(h,T)||!wi(c[T],h[T]))return!1}return!0}function JE(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ZE(c,h){var m=JE(c);c=0;for(var x;m;){if(m.nodeType===3){if(x=c+m.textContent.length,c<=h&&x>=h)return{node:m,offset:h-c};c=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=JE(m)}}function eF(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?eF(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function tF(){for(var c=window,h=Qe();h instanceof c.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)c=h.contentWindow;else break;h=Qe(c.document)}return h}function SC(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function t6(c){var h=tF(),m=c.focusedElem,x=c.selectionRange;if(h!==m&&m&&m.ownerDocument&&eF(m.ownerDocument.documentElement,m)){if(x!==null&&SC(m)){if(h=x.start,c=x.end,c===void 0&&(c=h),"selectionStart"in m)m.selectionStart=h,m.selectionEnd=Math.min(c,m.value.length);else if(c=(h=m.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var T=m.textContent.length,P=Math.min(x.start,T);x=x.end===void 0?P:Math.min(x.end,T),!c.extend&&P>x&&(T=x,x=P,P=T),T=ZE(m,P);var k=ZE(m,x);T&&k&&(c.rangeCount!==1||c.anchorNode!==T.node||c.anchorOffset!==T.offset||c.focusNode!==k.node||c.focusOffset!==k.offset)&&(h=h.createRange(),h.setStart(T.node,T.offset),c.removeAllRanges(),P>x?(c.addRange(h),c.extend(k.node,k.offset)):(h.setEnd(k.node,k.offset),c.addRange(h)))}}for(h=[],c=m;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<h.length;m++)c=h[m],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var r6=a&&"documentMode"in document&&11>=document.documentMode,au=null,wC=null,yh=null,xC=!1;function rF(c,h,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;xC||au==null||au!==Qe(x)||(x=au,"selectionStart"in x&&SC(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),yh&&Ch(yh,x)||(yh=x,x=ug(wC,"onSelect"),0<x.length&&(h=new hC("onSelect","select",null,h,m),c.push({event:h,listeners:x}),h.target=au)))}function ag(c,h){var m={};return m[c.toLowerCase()]=h.toLowerCase(),m["Webkit"+c]="webkit"+h,m["Moz"+c]="moz"+h,m}var lu={animationend:ag("Animation","AnimationEnd"),animationiteration:ag("Animation","AnimationIteration"),animationstart:ag("Animation","AnimationStart"),transitionend:ag("Transition","TransitionEnd")},bC={},nF={};a&&(nF=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function lg(c){if(bC[c])return bC[c];if(!lu[c])return c;var h=lu[c],m;for(m in h)if(h.hasOwnProperty(m)&&m in nF)return bC[c]=h[m];return c}var sF=lg("animationend"),iF=lg("animationiteration"),oF=lg("animationstart"),aF=lg("transitionend"),lF=new Map,cF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(c,h){lF.set(c,h),i(h,[c])}for(var RC=0;RC<cF.length;RC++){var EC=cF[RC],n6=EC.toLowerCase(),s6=EC[0].toUpperCase()+EC.slice(1);Sa(n6,"on"+s6)}Sa(sF,"onAnimationEnd"),Sa(iF,"onAnimationIteration"),Sa(oF,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(aF,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sh));function uF(c,h,m){var x=c.type||"unknown-event";c.currentTarget=m,q(x,h,void 0,c),c.currentTarget=null}function dF(c,h){h=(h&4)!==0;for(var m=0;m<c.length;m++){var x=c[m],T=x.event;x=x.listeners;e:{var P=void 0;if(h)for(var k=x.length-1;0<=k;k--){var Q=x[k],te=Q.instance,we=Q.currentTarget;if(Q=Q.listener,te!==P&&T.isPropagationStopped())break e;uF(T,Q,we),P=te}else for(k=0;k<x.length;k++){if(Q=x[k],te=Q.instance,we=Q.currentTarget,Q=Q.listener,te!==P&&T.isPropagationStopped())break e;uF(T,Q,we),P=te}}}if(_)throw c=K,_=!1,K=null,c}function mr(c,h){var m=h[IC];m===void 0&&(m=h[IC]=new Set);var x=c+"__bubble";m.has(x)||(hF(h,c,2,!1),m.add(x))}function FC(c,h,m){var x=0;h&&(x|=4),hF(m,c,x,h)}var cg="_reactListening"+Math.random().toString(36).slice(2);function wh(c){if(!c[cg]){c[cg]=!0,n.forEach(function(m){m!=="selectionchange"&&(i6.has(m)||FC(m,!1,c),FC(m,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[cg]||(h[cg]=!0,FC("selectionchange",!1,h))}}function hF(c,h,m,x){switch(kE(h)){case 1:var T=yG;break;case 4:T=SG;break;default:T=cC}m=T.bind(null,h,m,c),T=void 0,!sh||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),x?T!==void 0?c.addEventListener(h,m,{capture:!0,passive:T}):c.addEventListener(h,m,!0):T!==void 0?c.addEventListener(h,m,{passive:T}):c.addEventListener(h,m,!1)}function TC(c,h,m,x,T){var P=x;if((h&1)===0&&(h&2)===0&&x!==null)e:for(;;){if(x===null)return;var k=x.tag;if(k===3||k===4){var Q=x.stateNode.containerInfo;if(Q===T||Q.nodeType===8&&Q.parentNode===T)break;if(k===4)for(k=x.return;k!==null;){var te=k.tag;if((te===3||te===4)&&(te=k.stateNode.containerInfo,te===T||te.nodeType===8&&te.parentNode===T))return;k=k.return}for(;Q!==null;){if(k=Nl(Q),k===null)return;if(te=k.tag,te===5||te===6){x=P=k;continue e}Q=Q.parentNode}}x=x.return}qp(function(){var we=P,je=yi(m),Ge=[];e:{var ke=lF.get(c);if(ke!==void 0){var st=hC,ut=c;switch(c){case"keypress":if(ng(m)===0)break e;case"keydown":case"keyup":st=kG;break;case"focusin":ut="focus",st=gC;break;case"focusout":ut="blur",st=gC;break;case"beforeblur":case"afterblur":st=gC;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=jE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=bG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=jG;break;case sF:case iF:case oF:st=FG;break;case aF:st=GG;break;case"scroll":st=wG;break;case"wheel":st=VG;break;case"copy":case"cut":case"paste":st=PG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=GE}var dt=(h&4)!==0,Vr=!dt&&c==="scroll",he=dt?ke!==null?ke+"Capture":null:ke;dt=[];for(var se=we,fe;se!==null;){fe=se;var $e=fe.stateNode;if(fe.tag===5&&$e!==null&&(fe=$e,he!==null&&($e=Al(se,he),$e!=null&&dt.push(xh(se,$e,fe)))),Vr)break;se=se.return}0<dt.length&&(ke=new st(ke,ut,null,m,je),Ge.push({event:ke,listeners:dt}))}}if((h&7)===0){e:{if(ke=c==="mouseover"||c==="pointerover",st=c==="mouseout"||c==="pointerout",ke&&m!==gn&&(ut=m.relatedTarget||m.fromElement)&&(Nl(ut)||ut[To]))break e;if((st||ke)&&(ke=je.window===je?je:(ke=je.ownerDocument)?ke.defaultView||ke.parentWindow:window,st?(ut=m.relatedTarget||m.toElement,st=we,ut=ut?Nl(ut):null,ut!==null&&(Vr=Y(ut),ut!==Vr||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(st=null,ut=we),st!==ut)){if(dt=jE,$e="onMouseLeave",he="onMouseEnter",se="mouse",(c==="pointerout"||c==="pointerover")&&(dt=GE,$e="onPointerLeave",he="onPointerEnter",se="pointer"),Vr=st==null?ke:du(st),fe=ut==null?ke:du(ut),ke=new dt($e,se+"leave",st,m,je),ke.target=Vr,ke.relatedTarget=fe,$e=null,Nl(je)===we&&(dt=new dt(he,se+"enter",ut,m,je),dt.target=fe,dt.relatedTarget=Vr,$e=dt),Vr=$e,st&&ut)t:{for(dt=st,he=ut,se=0,fe=dt;fe;fe=cu(fe))se++;for(fe=0,$e=he;$e;$e=cu($e))fe++;for(;0<se-fe;)dt=cu(dt),se--;for(;0<fe-se;)he=cu(he),fe--;for(;se--;){if(dt===he||he!==null&&dt===he.alternate)break t;dt=cu(dt),he=cu(he)}dt=null}else dt=null;st!==null&&fF(Ge,ke,st,dt,!1),ut!==null&&Vr!==null&&fF(Ge,Vr,ut,dt,!0)}}e:{if(ke=we?du(we):window,st=ke.nodeName&&ke.nodeName.toLowerCase(),st==="select"||st==="input"&&ke.type==="file")var ht=YG;else if($E(ke))if(qE)ht=ZG;else{ht=XG;var Et=QG}else(st=ke.nodeName)&&st.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(ht=JG);if(ht&&(ht=ht(c,we))){KE(Ge,ht,m,je);break e}Et&&Et(c,ke,we),c==="focusout"&&(Et=ke._wrapperState)&&Et.controlled&&ke.type==="number"&&Ke(ke,"number",ke.value)}switch(Et=we?du(we):window,c){case"focusin":($E(Et)||Et.contentEditable==="true")&&(au=Et,wC=we,yh=null);break;case"focusout":yh=wC=au=null;break;case"mousedown":xC=!0;break;case"contextmenu":case"mouseup":case"dragend":xC=!1,rF(Ge,m,je);break;case"selectionchange":if(r6)break;case"keydown":case"keyup":rF(Ge,m,je)}var Ft;if(vC)e:{switch(c){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else ou?UE(c,m)&&(Dt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Dt="onCompositionStart");Dt&&(HE&&m.locale!=="ko"&&(ou||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ou&&(Ft=LE()):(ya=je,dC="value"in ya?ya.value:ya.textContent,ou=!0)),Et=ug(we,Dt),0<Et.length&&(Dt=new BE(Dt,c,null,m,je),Ge.push({event:Dt,listeners:Et}),Ft?Dt.data=Ft:(Ft=zE(m),Ft!==null&&(Dt.data=Ft)))),(Ft=UG?zG(c,m):$G(c,m))&&(we=ug(we,"onBeforeInput"),0<we.length&&(je=new BE("onBeforeInput","beforeinput",null,m,je),Ge.push({event:je,listeners:we}),je.data=Ft))}dF(Ge,h)})}function xh(c,h,m){return{instance:c,listener:h,currentTarget:m}}function ug(c,h){for(var m=h+"Capture",x=[];c!==null;){var T=c,P=T.stateNode;T.tag===5&&P!==null&&(T=P,P=Al(c,m),P!=null&&x.unshift(xh(c,P,T)),P=Al(c,h),P!=null&&x.push(xh(c,P,T))),c=c.return}return x}function cu(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function fF(c,h,m,x,T){for(var P=h._reactName,k=[];m!==null&&m!==x;){var Q=m,te=Q.alternate,we=Q.stateNode;if(te!==null&&te===x)break;Q.tag===5&&we!==null&&(Q=we,T?(te=Al(m,P),te!=null&&k.unshift(xh(m,te,Q))):T||(te=Al(m,P),te!=null&&k.push(xh(m,te,Q)))),m=m.return}k.length!==0&&c.push({event:h,listeners:k})}var o6=/\r\n?/g,a6=/\u0000|\uFFFD/g;function pF(c){return(typeof c=="string"?c:""+c).replace(o6,`
`).replace(a6,"")}function dg(c,h,m){if(h=pF(h),pF(c)!==h&&m)throw Error(r(425))}function hg(){}var PC=null,AC=null;function DC(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var MC=typeof setTimeout=="function"?setTimeout:void 0,l6=typeof clearTimeout=="function"?clearTimeout:void 0,gF=typeof Promise=="function"?Promise:void 0,c6=typeof queueMicrotask=="function"?queueMicrotask:typeof gF<"u"?function(c){return gF.resolve(null).then(c).catch(u6)}:MC;function u6(c){setTimeout(function(){throw c})}function NC(c,h){var m=h,x=0;do{var T=m.nextSibling;if(c.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"){if(x===0){c.removeChild(T),hh(h);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=T}while(m);hh(h)}function wa(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function mF(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(h===0)return c;h--}else m==="/$"&&h++}c=c.previousSibling}return null}var uu=Math.random().toString(36).slice(2),Yi="__reactFiber$"+uu,bh="__reactProps$"+uu,To="__reactContainer$"+uu,IC="__reactEvents$"+uu,d6="__reactListeners$"+uu,h6="__reactHandles$"+uu;function Nl(c){var h=c[Yi];if(h)return h;for(var m=c.parentNode;m;){if(h=m[To]||m[Yi]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(c=mF(c);c!==null;){if(m=c[Yi])return m;c=mF(c)}return h}c=m,m=c.parentNode}return null}function Rh(c){return c=c[Yi]||c[To],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function du(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function fg(c){return c[bh]||null}var OC=[],hu=-1;function xa(c){return{current:c}}function vr(c){0>hu||(c.current=OC[hu],OC[hu]=null,hu--)}function pr(c,h){hu++,OC[hu]=c.current,c.current=h}var ba={},Tn=xa(ba),cs=xa(!1),Il=ba;function fu(c,h){var m=c.type.contextTypes;if(!m)return ba;var x=c.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===h)return x.__reactInternalMemoizedMaskedChildContext;var T={},P;for(P in m)T[P]=h[P];return x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=T),T}function us(c){return c=c.childContextTypes,c!=null}function pg(){vr(cs),vr(Tn)}function vF(c,h,m){if(Tn.current!==ba)throw Error(r(168));pr(Tn,h),pr(cs,m)}function CF(c,h,m){var x=c.stateNode;if(h=h.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var T in x)if(!(T in h))throw Error(r(108,oe(c)||"Unknown",T));return ue({},m,x)}function gg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ba,Il=Tn.current,pr(Tn,c),pr(cs,cs.current),!0}function yF(c,h,m){var x=c.stateNode;if(!x)throw Error(r(169));m?(c=CF(c,h,Il),x.__reactInternalMemoizedMergedChildContext=c,vr(cs),vr(Tn),pr(Tn,c)):vr(cs),pr(cs,m)}var Po=null,mg=!1,kC=!1;function SF(c){Po===null?Po=[c]:Po.push(c)}function f6(c){mg=!0,SF(c)}function Ra(){if(!kC&&Po!==null){kC=!0;var c=0,h=nr;try{var m=Po;for(nr=1;c<m.length;c++){var x=m[c];do x=x(!0);while(x!==null)}Po=null,mg=!1}catch(T){throw Po!==null&&(Po=Po.slice(c+1)),Be(dr,Ra),T}finally{nr=h,kC=!1}}return null}var pu=[],gu=0,vg=null,Cg=0,Js=[],Zs=0,Ol=null,Ao=1,Do="";function kl(c,h){pu[gu++]=Cg,pu[gu++]=vg,vg=c,Cg=h}function wF(c,h,m){Js[Zs++]=Ao,Js[Zs++]=Do,Js[Zs++]=Ol,Ol=c;var x=Ao;c=Do;var T=32-Hr(x)-1;x&=~(1<<T),m+=1;var P=32-Hr(h)+T;if(30<P){var k=T-T%5;P=(x&(1<<k)-1).toString(32),x>>=k,T-=k,Ao=1<<32-Hr(h)+T|m<<T|x,Do=P+c}else Ao=1<<P|m<<T|x,Do=c}function LC(c){c.return!==null&&(kl(c,1),wF(c,1,0))}function _C(c){for(;c===vg;)vg=pu[--gu],pu[gu]=null,Cg=pu[--gu],pu[gu]=null;for(;c===Ol;)Ol=Js[--Zs],Js[Zs]=null,Do=Js[--Zs],Js[Zs]=null,Ao=Js[--Zs],Js[Zs]=null}var Ms=null,Ns=null,br=!1,xi=null;function xF(c,h){var m=ni(5,null,null,0);m.elementType="DELETED",m.stateNode=h,m.return=c,h=c.deletions,h===null?(c.deletions=[m],c.flags|=16):h.push(m)}function bF(c,h){switch(c.tag){case 5:var m=c.type;return h=h.nodeType!==1||m.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,Ms=c,Ns=wa(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,Ms=c,Ns=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(m=Ol!==null?{id:Ao,overflow:Do}:null,c.memoizedState={dehydrated:h,treeContext:m,retryLane:1073741824},m=ni(18,null,null,0),m.stateNode=h,m.return=c,c.child=m,Ms=c,Ns=null,!0):!1;default:return!1}}function jC(c){return(c.mode&1)!==0&&(c.flags&128)===0}function BC(c){if(br){var h=Ns;if(h){var m=h;if(!bF(c,h)){if(jC(c))throw Error(r(418));h=wa(m.nextSibling);var x=Ms;h&&bF(c,h)?xF(x,m):(c.flags=c.flags&-4097|2,br=!1,Ms=c)}}else{if(jC(c))throw Error(r(418));c.flags=c.flags&-4097|2,br=!1,Ms=c}}}function RF(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ms=c}function yg(c){if(c!==Ms)return!1;if(!br)return RF(c),br=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!DC(c.type,c.memoizedProps)),h&&(h=Ns)){if(jC(c))throw EF(),Error(r(418));for(;h;)xF(c,h),h=wa(h.nextSibling)}if(RF(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"){if(h===0){Ns=wa(c.nextSibling);break e}h--}else m!=="$"&&m!=="$!"&&m!=="$?"||h++}c=c.nextSibling}Ns=null}}else Ns=Ms?wa(c.stateNode.nextSibling):null;return!0}function EF(){for(var c=Ns;c;)c=wa(c.nextSibling)}function mu(){Ns=Ms=null,br=!1}function GC(c){xi===null?xi=[c]:xi.push(c)}var p6=R.ReactCurrentBatchConfig;function Eh(c,h,m){if(c=m.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var x=m.stateNode}if(!x)throw Error(r(147,c));var T=x,P=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===P?h.ref:(h=function(k){var Q=T.refs;k===null?delete Q[P]:Q[P]=k},h._stringRef=P,h)}if(typeof c!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,c))}return c}function Sg(c,h){throw c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function FF(c){var h=c._init;return h(c._payload)}function TF(c){function h(he,se){if(c){var fe=he.deletions;fe===null?(he.deletions=[se],he.flags|=16):fe.push(se)}}function m(he,se){if(!c)return null;for(;se!==null;)h(he,se),se=se.sibling;return null}function x(he,se){for(he=new Map;se!==null;)se.key!==null?he.set(se.key,se):he.set(se.index,se),se=se.sibling;return he}function T(he,se){return he=Na(he,se),he.index=0,he.sibling=null,he}function P(he,se,fe){return he.index=fe,c?(fe=he.alternate,fe!==null?(fe=fe.index,fe<se?(he.flags|=2,se):fe):(he.flags|=2,se)):(he.flags|=1048576,se)}function k(he){return c&&he.alternate===null&&(he.flags|=2),he}function Q(he,se,fe,$e){return se===null||se.tag!==6?(se=My(fe,he.mode,$e),se.return=he,se):(se=T(se,fe),se.return=he,se)}function te(he,se,fe,$e){var ht=fe.type;return ht===M?je(he,se,fe.props.children,$e,fe.key):se!==null&&(se.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===xe&&FF(ht)===se.type)?($e=T(se,fe.props),$e.ref=Eh(he,se,fe),$e.return=he,$e):($e=Ug(fe.type,fe.key,fe.props,null,he.mode,$e),$e.ref=Eh(he,se,fe),$e.return=he,$e)}function we(he,se,fe,$e){return se===null||se.tag!==4||se.stateNode.containerInfo!==fe.containerInfo||se.stateNode.implementation!==fe.implementation?(se=Ny(fe,he.mode,$e),se.return=he,se):(se=T(se,fe.children||[]),se.return=he,se)}function je(he,se,fe,$e,ht){return se===null||se.tag!==7?(se=Wl(fe,he.mode,$e,ht),se.return=he,se):(se=T(se,fe),se.return=he,se)}function Ge(he,se,fe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=My(""+se,he.mode,fe),se.return=he,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return fe=Ug(se.type,se.key,se.props,null,he.mode,fe),fe.ref=Eh(he,null,se),fe.return=he,fe;case D:return se=Ny(se,he.mode,fe),se.return=he,se;case xe:var $e=se._init;return Ge(he,$e(se._payload),fe)}if(ct(se)||re(se))return se=Wl(se,he.mode,fe,null),se.return=he,se;Sg(he,se)}return null}function ke(he,se,fe,$e){var ht=se!==null?se.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return ht!==null?null:Q(he,se,""+fe,$e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case A:return fe.key===ht?te(he,se,fe,$e):null;case D:return fe.key===ht?we(he,se,fe,$e):null;case xe:return ht=fe._init,ke(he,se,ht(fe._payload),$e)}if(ct(fe)||re(fe))return ht!==null?null:je(he,se,fe,$e,null);Sg(he,fe)}return null}function st(he,se,fe,$e,ht){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return he=he.get(fe)||null,Q(se,he,""+$e,ht);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case A:return he=he.get($e.key===null?fe:$e.key)||null,te(se,he,$e,ht);case D:return he=he.get($e.key===null?fe:$e.key)||null,we(se,he,$e,ht);case xe:var Et=$e._init;return st(he,se,fe,Et($e._payload),ht)}if(ct($e)||re($e))return he=he.get(fe)||null,je(se,he,$e,ht,null);Sg(se,$e)}return null}function ut(he,se,fe,$e){for(var ht=null,Et=null,Ft=se,Dt=se=0,ln=null;Ft!==null&&Dt<fe.length;Dt++){Ft.index>Dt?(ln=Ft,Ft=null):ln=Ft.sibling;var $t=ke(he,Ft,fe[Dt],$e);if($t===null){Ft===null&&(Ft=ln);break}c&&Ft&&$t.alternate===null&&h(he,Ft),se=P($t,se,Dt),Et===null?ht=$t:Et.sibling=$t,Et=$t,Ft=ln}if(Dt===fe.length)return m(he,Ft),br&&kl(he,Dt),ht;if(Ft===null){for(;Dt<fe.length;Dt++)Ft=Ge(he,fe[Dt],$e),Ft!==null&&(se=P(Ft,se,Dt),Et===null?ht=Ft:Et.sibling=Ft,Et=Ft);return br&&kl(he,Dt),ht}for(Ft=x(he,Ft);Dt<fe.length;Dt++)ln=st(Ft,he,Dt,fe[Dt],$e),ln!==null&&(c&&ln.alternate!==null&&Ft.delete(ln.key===null?Dt:ln.key),se=P(ln,se,Dt),Et===null?ht=ln:Et.sibling=ln,Et=ln);return c&&Ft.forEach(function(Ia){return h(he,Ia)}),br&&kl(he,Dt),ht}function dt(he,se,fe,$e){var ht=re(fe);if(typeof ht!="function")throw Error(r(150));if(fe=ht.call(fe),fe==null)throw Error(r(151));for(var Et=ht=null,Ft=se,Dt=se=0,ln=null,$t=fe.next();Ft!==null&&!$t.done;Dt++,$t=fe.next()){Ft.index>Dt?(ln=Ft,Ft=null):ln=Ft.sibling;var Ia=ke(he,Ft,$t.value,$e);if(Ia===null){Ft===null&&(Ft=ln);break}c&&Ft&&Ia.alternate===null&&h(he,Ft),se=P(Ia,se,Dt),Et===null?ht=Ia:Et.sibling=Ia,Et=Ia,Ft=ln}if($t.done)return m(he,Ft),br&&kl(he,Dt),ht;if(Ft===null){for(;!$t.done;Dt++,$t=fe.next())$t=Ge(he,$t.value,$e),$t!==null&&(se=P($t,se,Dt),Et===null?ht=$t:Et.sibling=$t,Et=$t);return br&&kl(he,Dt),ht}for(Ft=x(he,Ft);!$t.done;Dt++,$t=fe.next())$t=st(Ft,he,Dt,$t.value,$e),$t!==null&&(c&&$t.alternate!==null&&Ft.delete($t.key===null?Dt:$t.key),se=P($t,se,Dt),Et===null?ht=$t:Et.sibling=$t,Et=$t);return c&&Ft.forEach(function(K6){return h(he,K6)}),br&&kl(he,Dt),ht}function Vr(he,se,fe,$e){if(typeof fe=="object"&&fe!==null&&fe.type===M&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case A:e:{for(var ht=fe.key,Et=se;Et!==null;){if(Et.key===ht){if(ht=fe.type,ht===M){if(Et.tag===7){m(he,Et.sibling),se=T(Et,fe.props.children),se.return=he,he=se;break e}}else if(Et.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===xe&&FF(ht)===Et.type){m(he,Et.sibling),se=T(Et,fe.props),se.ref=Eh(he,Et,fe),se.return=he,he=se;break e}m(he,Et);break}else h(he,Et);Et=Et.sibling}fe.type===M?(se=Wl(fe.props.children,he.mode,$e,fe.key),se.return=he,he=se):($e=Ug(fe.type,fe.key,fe.props,null,he.mode,$e),$e.ref=Eh(he,se,fe),$e.return=he,he=$e)}return k(he);case D:e:{for(Et=fe.key;se!==null;){if(se.key===Et)if(se.tag===4&&se.stateNode.containerInfo===fe.containerInfo&&se.stateNode.implementation===fe.implementation){m(he,se.sibling),se=T(se,fe.children||[]),se.return=he,he=se;break e}else{m(he,se);break}else h(he,se);se=se.sibling}se=Ny(fe,he.mode,$e),se.return=he,he=se}return k(he);case xe:return Et=fe._init,Vr(he,se,Et(fe._payload),$e)}if(ct(fe))return ut(he,se,fe,$e);if(re(fe))return dt(he,se,fe,$e);Sg(he,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,se!==null&&se.tag===6?(m(he,se.sibling),se=T(se,fe),se.return=he,he=se):(m(he,se),se=My(fe,he.mode,$e),se.return=he,he=se),k(he)):m(he,se)}return Vr}var vu=TF(!0),PF=TF(!1),wg=xa(null),xg=null,Cu=null,HC=null;function VC(){HC=Cu=xg=null}function WC(c){var h=wg.current;vr(wg),c._currentValue=h}function UC(c,h,m){for(;c!==null;){var x=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,x!==null&&(x.childLanes|=h)):x!==null&&(x.childLanes&h)!==h&&(x.childLanes|=h),c===m)break;c=c.return}}function yu(c,h){xg=c,HC=Cu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(ds=!0),c.firstContext=null)}function ei(c){var h=c._currentValue;if(HC!==c)if(c={context:c,memoizedValue:h,next:null},Cu===null){if(xg===null)throw Error(r(308));Cu=c,xg.dependencies={lanes:0,firstContext:c}}else Cu=Cu.next=c;return h}var Ll=null;function zC(c){Ll===null?Ll=[c]:Ll.push(c)}function AF(c,h,m,x){var T=h.interleaved;return T===null?(m.next=m,zC(h)):(m.next=T.next,T.next=m),h.interleaved=m,Mo(c,x)}function Mo(c,h){c.lanes|=h;var m=c.alternate;for(m!==null&&(m.lanes|=h),m=c,c=c.return;c!==null;)c.childLanes|=h,m=c.alternate,m!==null&&(m.childLanes|=h),m=c,c=c.return;return m.tag===3?m.stateNode:null}var Ea=!1;function $C(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DF(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function No(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function Fa(c,h,m){var x=c.updateQueue;if(x===null)return null;if(x=x.shared,(zt&2)!==0){var T=x.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),x.pending=h,Mo(c,m)}return T=x.interleaved,T===null?(h.next=h,zC(x)):(h.next=T.next,T.next=h),x.interleaved=h,Mo(c,m)}function bg(c,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194240)!==0)){var x=h.lanes;x&=c.pendingLanes,m|=x,h.lanes=m,oC(c,m)}}function MF(c,h){var m=c.updateQueue,x=c.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var T=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var k={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};P===null?T=P=k:P=P.next=k,m=m.next}while(m!==null);P===null?T=P=h:P=P.next=h}else T=P=h;m={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:P,shared:x.shared,effects:x.effects},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=h}function Rg(c,h,m,x){var T=c.updateQueue;Ea=!1;var P=T.firstBaseUpdate,k=T.lastBaseUpdate,Q=T.shared.pending;if(Q!==null){T.shared.pending=null;var te=Q,we=te.next;te.next=null,k===null?P=we:k.next=we,k=te;var je=c.alternate;je!==null&&(je=je.updateQueue,Q=je.lastBaseUpdate,Q!==k&&(Q===null?je.firstBaseUpdate=we:Q.next=we,je.lastBaseUpdate=te))}if(P!==null){var Ge=T.baseState;k=0,je=we=te=null,Q=P;do{var ke=Q.lane,st=Q.eventTime;if((x&ke)===ke){je!==null&&(je=je.next={eventTime:st,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var ut=c,dt=Q;switch(ke=h,st=m,dt.tag){case 1:if(ut=dt.payload,typeof ut=="function"){Ge=ut.call(st,Ge,ke);break e}Ge=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=dt.payload,ke=typeof ut=="function"?ut.call(st,Ge,ke):ut,ke==null)break e;Ge=ue({},Ge,ke);break e;case 2:Ea=!0}}Q.callback!==null&&Q.lane!==0&&(c.flags|=64,ke=T.effects,ke===null?T.effects=[Q]:ke.push(Q))}else st={eventTime:st,lane:ke,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},je===null?(we=je=st,te=Ge):je=je.next=st,k|=ke;if(Q=Q.next,Q===null){if(Q=T.shared.pending,Q===null)break;ke=Q,Q=ke.next,ke.next=null,T.lastBaseUpdate=ke,T.shared.pending=null}}while(!0);if(je===null&&(te=Ge),T.baseState=te,T.firstBaseUpdate=we,T.lastBaseUpdate=je,h=T.shared.interleaved,h!==null){T=h;do k|=T.lane,T=T.next;while(T!==h)}else P===null&&(T.shared.lanes=0);Bl|=k,c.lanes=k,c.memoizedState=Ge}}function NF(c,h,m){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var x=c[h],T=x.callback;if(T!==null){if(x.callback=null,x=m,typeof T!="function")throw Error(r(191,T));T.call(x)}}}var Fh={},Qi=xa(Fh),Th=xa(Fh),Ph=xa(Fh);function _l(c){if(c===Fh)throw Error(r(174));return c}function KC(c,h){switch(pr(Ph,h),pr(Th,c),pr(Qi,Fh),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:gt(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=gt(h,c)}vr(Qi),pr(Qi,h)}function Su(){vr(Qi),vr(Th),vr(Ph)}function IF(c){_l(Ph.current);var h=_l(Qi.current),m=gt(h,c.type);h!==m&&(pr(Th,c),pr(Qi,m))}function qC(c){Th.current===c&&(vr(Qi),vr(Th))}var Fr=xa(0);function Eg(c){for(var h=c;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var YC=[];function QC(){for(var c=0;c<YC.length;c++)YC[c]._workInProgressVersionPrimary=null;YC.length=0}var Fg=R.ReactCurrentDispatcher,XC=R.ReactCurrentBatchConfig,jl=0,Tr=null,Zr=null,on=null,Tg=!1,Ah=!1,Dh=0,g6=0;function Pn(){throw Error(r(321))}function JC(c,h){if(h===null)return!1;for(var m=0;m<h.length&&m<c.length;m++)if(!wi(c[m],h[m]))return!1;return!0}function ZC(c,h,m,x,T,P){if(jl=P,Tr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Fg.current=c===null||c.memoizedState===null?y6:S6,c=m(x,T),Ah){P=0;do{if(Ah=!1,Dh=0,25<=P)throw Error(r(301));P+=1,on=Zr=null,h.updateQueue=null,Fg.current=w6,c=m(x,T)}while(Ah)}if(Fg.current=Dg,h=Zr!==null&&Zr.next!==null,jl=0,on=Zr=Tr=null,Tg=!1,h)throw Error(r(300));return c}function ey(){var c=Dh!==0;return Dh=0,c}function Xi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Tr.memoizedState=on=c:on=on.next=c,on}function ti(){if(Zr===null){var c=Tr.alternate;c=c!==null?c.memoizedState:null}else c=Zr.next;var h=on===null?Tr.memoizedState:on.next;if(h!==null)on=h,Zr=c;else{if(c===null)throw Error(r(310));Zr=c,c={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},on===null?Tr.memoizedState=on=c:on=on.next=c}return on}function Mh(c,h){return typeof h=="function"?h(c):h}function ty(c){var h=ti(),m=h.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var x=Zr,T=x.baseQueue,P=m.pending;if(P!==null){if(T!==null){var k=T.next;T.next=P.next,P.next=k}x.baseQueue=T=P,m.pending=null}if(T!==null){P=T.next,x=x.baseState;var Q=k=null,te=null,we=P;do{var je=we.lane;if((jl&je)===je)te!==null&&(te=te.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),x=we.hasEagerState?we.eagerState:c(x,we.action);else{var Ge={lane:je,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};te===null?(Q=te=Ge,k=x):te=te.next=Ge,Tr.lanes|=je,Bl|=je}we=we.next}while(we!==null&&we!==P);te===null?k=x:te.next=Q,wi(x,h.memoizedState)||(ds=!0),h.memoizedState=x,h.baseState=k,h.baseQueue=te,m.lastRenderedState=x}if(c=m.interleaved,c!==null){T=c;do P=T.lane,Tr.lanes|=P,Bl|=P,T=T.next;while(T!==c)}else T===null&&(m.lanes=0);return[h.memoizedState,m.dispatch]}function ry(c){var h=ti(),m=h.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var x=m.dispatch,T=m.pending,P=h.memoizedState;if(T!==null){m.pending=null;var k=T=T.next;do P=c(P,k.action),k=k.next;while(k!==T);wi(P,h.memoizedState)||(ds=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),m.lastRenderedState=P}return[P,x]}function OF(){}function kF(c,h){var m=Tr,x=ti(),T=h(),P=!wi(x.memoizedState,T);if(P&&(x.memoizedState=T,ds=!0),x=x.queue,ny(jF.bind(null,m,x,c),[c]),x.getSnapshot!==h||P||on!==null&&on.memoizedState.tag&1){if(m.flags|=2048,Nh(9,_F.bind(null,m,x,T,h),void 0,null),an===null)throw Error(r(349));(jl&30)!==0||LF(m,h,T)}return T}function LF(c,h,m){c.flags|=16384,c={getSnapshot:h,value:m},h=Tr.updateQueue,h===null?(h={lastEffect:null,stores:null},Tr.updateQueue=h,h.stores=[c]):(m=h.stores,m===null?h.stores=[c]:m.push(c))}function _F(c,h,m,x){h.value=m,h.getSnapshot=x,BF(h)&&GF(c)}function jF(c,h,m){return m(function(){BF(h)&&GF(c)})}function BF(c){var h=c.getSnapshot;c=c.value;try{var m=h();return!wi(c,m)}catch{return!0}}function GF(c){var h=Mo(c,1);h!==null&&Fi(h,c,1,-1)}function HF(c){var h=Xi();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:c},h.queue=c,c=c.dispatch=C6.bind(null,Tr,c),[h.memoizedState,c]}function Nh(c,h,m,x){return c={tag:c,create:h,destroy:m,deps:x,next:null},h=Tr.updateQueue,h===null?(h={lastEffect:null,stores:null},Tr.updateQueue=h,h.lastEffect=c.next=c):(m=h.lastEffect,m===null?h.lastEffect=c.next=c:(x=m.next,m.next=c,c.next=x,h.lastEffect=c)),c}function VF(){return ti().memoizedState}function Pg(c,h,m,x){var T=Xi();Tr.flags|=c,T.memoizedState=Nh(1|h,m,void 0,x===void 0?null:x)}function Ag(c,h,m,x){var T=ti();x=x===void 0?null:x;var P=void 0;if(Zr!==null){var k=Zr.memoizedState;if(P=k.destroy,x!==null&&JC(x,k.deps)){T.memoizedState=Nh(h,m,P,x);return}}Tr.flags|=c,T.memoizedState=Nh(1|h,m,P,x)}function WF(c,h){return Pg(8390656,8,c,h)}function ny(c,h){return Ag(2048,8,c,h)}function UF(c,h){return Ag(4,2,c,h)}function zF(c,h){return Ag(4,4,c,h)}function $F(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function KF(c,h,m){return m=m!=null?m.concat([c]):null,Ag(4,4,$F.bind(null,h,c),m)}function sy(){}function qF(c,h){var m=ti();h=h===void 0?null:h;var x=m.memoizedState;return x!==null&&h!==null&&JC(h,x[1])?x[0]:(m.memoizedState=[c,h],c)}function YF(c,h){var m=ti();h=h===void 0?null:h;var x=m.memoizedState;return x!==null&&h!==null&&JC(h,x[1])?x[0]:(c=c(),m.memoizedState=[c,h],c)}function QF(c,h,m){return(jl&21)===0?(c.baseState&&(c.baseState=!1,ds=!0),c.memoizedState=m):(wi(m,h)||(m=FE(),Tr.lanes|=m,Bl|=m,c.baseState=!0),h)}function m6(c,h){var m=nr;nr=m!==0&&4>m?m:4,c(!0);var x=XC.transition;XC.transition={};try{c(!1),h()}finally{nr=m,XC.transition=x}}function XF(){return ti().memoizedState}function v6(c,h,m){var x=Da(c);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},JF(c))ZF(h,m);else if(m=AF(c,h,m,x),m!==null){var T=Hn();Fi(m,c,x,T),eT(m,h,x)}}function C6(c,h,m){var x=Da(c),T={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(JF(c))ZF(h,T);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer,P!==null))try{var k=h.lastRenderedState,Q=P(k,m);if(T.hasEagerState=!0,T.eagerState=Q,wi(Q,k)){var te=h.interleaved;te===null?(T.next=T,zC(h)):(T.next=te.next,te.next=T),h.interleaved=T;return}}catch{}finally{}m=AF(c,h,T,x),m!==null&&(T=Hn(),Fi(m,c,x,T),eT(m,h,x))}}function JF(c){var h=c.alternate;return c===Tr||h!==null&&h===Tr}function ZF(c,h){Ah=Tg=!0;var m=c.pending;m===null?h.next=h:(h.next=m.next,m.next=h),c.pending=h}function eT(c,h,m){if((m&4194240)!==0){var x=h.lanes;x&=c.pendingLanes,m|=x,h.lanes=m,oC(c,m)}}var Dg={readContext:ei,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},y6={readContext:ei,useCallback:function(c,h){return Xi().memoizedState=[c,h===void 0?null:h],c},useContext:ei,useEffect:WF,useImperativeHandle:function(c,h,m){return m=m!=null?m.concat([c]):null,Pg(4194308,4,$F.bind(null,h,c),m)},useLayoutEffect:function(c,h){return Pg(4194308,4,c,h)},useInsertionEffect:function(c,h){return Pg(4,2,c,h)},useMemo:function(c,h){var m=Xi();return h=h===void 0?null:h,c=c(),m.memoizedState=[c,h],c},useReducer:function(c,h,m){var x=Xi();return h=m!==void 0?m(h):h,x.memoizedState=x.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},x.queue=c,c=c.dispatch=v6.bind(null,Tr,c),[x.memoizedState,c]},useRef:function(c){var h=Xi();return c={current:c},h.memoizedState=c},useState:HF,useDebugValue:sy,useDeferredValue:function(c){return Xi().memoizedState=c},useTransition:function(){var c=HF(!1),h=c[0];return c=m6.bind(null,c[1]),Xi().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,m){var x=Tr,T=Xi();if(br){if(m===void 0)throw Error(r(407));m=m()}else{if(m=h(),an===null)throw Error(r(349));(jl&30)!==0||LF(x,h,m)}T.memoizedState=m;var P={value:m,getSnapshot:h};return T.queue=P,WF(jF.bind(null,x,P,c),[c]),x.flags|=2048,Nh(9,_F.bind(null,x,P,m,h),void 0,null),m},useId:function(){var c=Xi(),h=an.identifierPrefix;if(br){var m=Do,x=Ao;m=(x&~(1<<32-Hr(x)-1)).toString(32)+m,h=":"+h+"R"+m,m=Dh++,0<m&&(h+="H"+m.toString(32)),h+=":"}else m=g6++,h=":"+h+"r"+m.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},S6={readContext:ei,useCallback:qF,useContext:ei,useEffect:ny,useImperativeHandle:KF,useInsertionEffect:UF,useLayoutEffect:zF,useMemo:YF,useReducer:ty,useRef:VF,useState:function(){return ty(Mh)},useDebugValue:sy,useDeferredValue:function(c){var h=ti();return QF(h,Zr.memoizedState,c)},useTransition:function(){var c=ty(Mh)[0],h=ti().memoizedState;return[c,h]},useMutableSource:OF,useSyncExternalStore:kF,useId:XF,unstable_isNewReconciler:!1},w6={readContext:ei,useCallback:qF,useContext:ei,useEffect:ny,useImperativeHandle:KF,useInsertionEffect:UF,useLayoutEffect:zF,useMemo:YF,useReducer:ry,useRef:VF,useState:function(){return ry(Mh)},useDebugValue:sy,useDeferredValue:function(c){var h=ti();return Zr===null?h.memoizedState=c:QF(h,Zr.memoizedState,c)},useTransition:function(){var c=ry(Mh)[0],h=ti().memoizedState;return[c,h]},useMutableSource:OF,useSyncExternalStore:kF,useId:XF,unstable_isNewReconciler:!1};function bi(c,h){if(c&&c.defaultProps){h=ue({},h),c=c.defaultProps;for(var m in c)h[m]===void 0&&(h[m]=c[m]);return h}return h}function iy(c,h,m,x){h=c.memoizedState,m=m(x,h),m=m==null?h:ue({},h,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var Mg={isMounted:function(c){return(c=c._reactInternals)?Y(c)===c:!1},enqueueSetState:function(c,h,m){c=c._reactInternals;var x=Hn(),T=Da(c),P=No(x,T);P.payload=h,m!=null&&(P.callback=m),h=Fa(c,P,T),h!==null&&(Fi(h,c,T,x),bg(h,c,T))},enqueueReplaceState:function(c,h,m){c=c._reactInternals;var x=Hn(),T=Da(c),P=No(x,T);P.tag=1,P.payload=h,m!=null&&(P.callback=m),h=Fa(c,P,T),h!==null&&(Fi(h,c,T,x),bg(h,c,T))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var m=Hn(),x=Da(c),T=No(m,x);T.tag=2,h!=null&&(T.callback=h),h=Fa(c,T,x),h!==null&&(Fi(h,c,x,m),bg(h,c,x))}};function tT(c,h,m,x,T,P,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(x,P,k):h.prototype&&h.prototype.isPureReactComponent?!Ch(m,x)||!Ch(T,P):!0}function rT(c,h,m){var x=!1,T=ba,P=h.contextType;return typeof P=="object"&&P!==null?P=ei(P):(T=us(h)?Il:Tn.current,x=h.contextTypes,P=(x=x!=null)?fu(c,T):ba),h=new h(m,P),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Mg,c.stateNode=h,h._reactInternals=c,x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=P),h}function nT(c,h,m,x){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,x),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,x),h.state!==c&&Mg.enqueueReplaceState(h,h.state,null)}function oy(c,h,m,x){var T=c.stateNode;T.props=m,T.state=c.memoizedState,T.refs={},$C(c);var P=h.contextType;typeof P=="object"&&P!==null?T.context=ei(P):(P=us(h)?Il:Tn.current,T.context=fu(c,P)),T.state=c.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(iy(c,h,P,m),T.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&Mg.enqueueReplaceState(T,T.state,null),Rg(c,m,T,x),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}function wu(c,h){try{var m="",x=h;do m+=G(x),x=x.return;while(x);var T=m}catch(P){T=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:h,stack:T,digest:null}}function ay(c,h,m){return{value:c,source:null,stack:m??null,digest:h??null}}function ly(c,h){try{console.error(h.value)}catch(m){setTimeout(function(){throw m})}}var x6=typeof WeakMap=="function"?WeakMap:Map;function sT(c,h,m){m=No(-1,m),m.tag=3,m.payload={element:null};var x=h.value;return m.callback=function(){jg||(jg=!0,by=x),ly(c,h)},m}function iT(c,h,m){m=No(-1,m),m.tag=3;var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var T=h.value;m.payload=function(){return x(T)},m.callback=function(){ly(c,h)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(m.callback=function(){ly(c,h),typeof x!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})}),m}function oT(c,h,m){var x=c.pingCache;if(x===null){x=c.pingCache=new x6;var T=new Set;x.set(h,T)}else T=x.get(h),T===void 0&&(T=new Set,x.set(h,T));T.has(m)||(T.add(m),c=L6.bind(null,c,h,m),h.then(c,c))}function aT(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function lT(c,h,m,x,T){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(h=No(-1,1),h.tag=2,Fa(m,h,1))),m.lanes|=1),c):(c.flags|=65536,c.lanes=T,c)}var b6=R.ReactCurrentOwner,ds=!1;function Gn(c,h,m,x){h.child=c===null?PF(h,null,m,x):vu(h,c.child,m,x)}function cT(c,h,m,x,T){m=m.render;var P=h.ref;return yu(h,T),x=ZC(c,h,m,x,P,T),m=ey(),c!==null&&!ds?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~T,Io(c,h,T)):(br&&m&&LC(h),h.flags|=1,Gn(c,h,x,T),h.child)}function uT(c,h,m,x,T){if(c===null){var P=m.type;return typeof P=="function"&&!Dy(P)&&P.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(h.tag=15,h.type=P,dT(c,h,P,x,T)):(c=Ug(m.type,null,x,h,h.mode,T),c.ref=h.ref,c.return=h,h.child=c)}if(P=c.child,(c.lanes&T)===0){var k=P.memoizedProps;if(m=m.compare,m=m!==null?m:Ch,m(k,x)&&c.ref===h.ref)return Io(c,h,T)}return h.flags|=1,c=Na(P,x),c.ref=h.ref,c.return=h,h.child=c}function dT(c,h,m,x,T){if(c!==null){var P=c.memoizedProps;if(Ch(P,x)&&c.ref===h.ref)if(ds=!1,h.pendingProps=x=P,(c.lanes&T)!==0)(c.flags&131072)!==0&&(ds=!0);else return h.lanes=c.lanes,Io(c,h,T)}return cy(c,h,m,x,T)}function hT(c,h,m){var x=h.pendingProps,T=x.children,P=c!==null?c.memoizedState:null;if(x.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},pr(bu,Is),Is|=m;else{if((m&1073741824)===0)return c=P!==null?P.baseLanes|m:m,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,pr(bu,Is),Is|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=P!==null?P.baseLanes:m,pr(bu,Is),Is|=x}else P!==null?(x=P.baseLanes|m,h.memoizedState=null):x=m,pr(bu,Is),Is|=x;return Gn(c,h,T,m),h.child}function fT(c,h){var m=h.ref;(c===null&&m!==null||c!==null&&c.ref!==m)&&(h.flags|=512,h.flags|=2097152)}function cy(c,h,m,x,T){var P=us(m)?Il:Tn.current;return P=fu(h,P),yu(h,T),m=ZC(c,h,m,x,P,T),x=ey(),c!==null&&!ds?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~T,Io(c,h,T)):(br&&x&&LC(h),h.flags|=1,Gn(c,h,m,T),h.child)}function pT(c,h,m,x,T){if(us(m)){var P=!0;gg(h)}else P=!1;if(yu(h,T),h.stateNode===null)Ig(c,h),rT(h,m,x),oy(h,m,x,T),x=!0;else if(c===null){var k=h.stateNode,Q=h.memoizedProps;k.props=Q;var te=k.context,we=m.contextType;typeof we=="object"&&we!==null?we=ei(we):(we=us(m)?Il:Tn.current,we=fu(h,we));var je=m.getDerivedStateFromProps,Ge=typeof je=="function"||typeof k.getSnapshotBeforeUpdate=="function";Ge||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q!==x||te!==we)&&nT(h,k,x,we),Ea=!1;var ke=h.memoizedState;k.state=ke,Rg(h,x,k,T),te=h.memoizedState,Q!==x||ke!==te||cs.current||Ea?(typeof je=="function"&&(iy(h,m,je,x),te=h.memoizedState),(Q=Ea||tT(h,m,Q,x,ke,te,we))?(Ge||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(h.flags|=4194308)):(typeof k.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=x,h.memoizedState=te),k.props=x,k.state=te,k.context=we,x=Q):(typeof k.componentDidMount=="function"&&(h.flags|=4194308),x=!1)}else{k=h.stateNode,DF(c,h),Q=h.memoizedProps,we=h.type===h.elementType?Q:bi(h.type,Q),k.props=we,Ge=h.pendingProps,ke=k.context,te=m.contextType,typeof te=="object"&&te!==null?te=ei(te):(te=us(m)?Il:Tn.current,te=fu(h,te));var st=m.getDerivedStateFromProps;(je=typeof st=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Q!==Ge||ke!==te)&&nT(h,k,x,te),Ea=!1,ke=h.memoizedState,k.state=ke,Rg(h,x,k,T);var ut=h.memoizedState;Q!==Ge||ke!==ut||cs.current||Ea?(typeof st=="function"&&(iy(h,m,st,x),ut=h.memoizedState),(we=Ea||tT(h,m,we,x,ke,ut,te)||!1)?(je||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,ut,te),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,ut,te)),typeof k.componentDidUpdate=="function"&&(h.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof k.componentDidUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),h.memoizedProps=x,h.memoizedState=ut),k.props=x,k.state=ut,k.context=te,x=we):(typeof k.componentDidUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Q===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),x=!1)}return uy(c,h,m,x,P,T)}function uy(c,h,m,x,T,P){fT(c,h);var k=(h.flags&128)!==0;if(!x&&!k)return T&&yF(h,m,!1),Io(c,h,P);x=h.stateNode,b6.current=h;var Q=k&&typeof m.getDerivedStateFromError!="function"?null:x.render();return h.flags|=1,c!==null&&k?(h.child=vu(h,c.child,null,P),h.child=vu(h,null,Q,P)):Gn(c,h,Q,P),h.memoizedState=x.state,T&&yF(h,m,!0),h.child}function gT(c){var h=c.stateNode;h.pendingContext?vF(c,h.pendingContext,h.pendingContext!==h.context):h.context&&vF(c,h.context,!1),KC(c,h.containerInfo)}function mT(c,h,m,x,T){return mu(),GC(T),h.flags|=256,Gn(c,h,m,x),h.child}var dy={dehydrated:null,treeContext:null,retryLane:0};function hy(c){return{baseLanes:c,cachePool:null,transitions:null}}function vT(c,h,m){var x=h.pendingProps,T=Fr.current,P=!1,k=(h.flags&128)!==0,Q;if((Q=k)||(Q=c!==null&&c.memoizedState===null?!1:(T&2)!==0),Q?(P=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),pr(Fr,T&1),c===null)return BC(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(k=x.children,c=x.fallback,P?(x=h.mode,P=h.child,k={mode:"hidden",children:k},(x&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=k):P=zg(k,x,0,null),c=Wl(c,x,m,null),P.return=h,c.return=h,P.sibling=c,h.child=P,h.child.memoizedState=hy(m),h.memoizedState=dy,c):fy(h,k));if(T=c.memoizedState,T!==null&&(Q=T.dehydrated,Q!==null))return R6(c,h,k,x,Q,T,m);if(P){P=x.fallback,k=h.mode,T=c.child,Q=T.sibling;var te={mode:"hidden",children:x.children};return(k&1)===0&&h.child!==T?(x=h.child,x.childLanes=0,x.pendingProps=te,h.deletions=null):(x=Na(T,te),x.subtreeFlags=T.subtreeFlags&14680064),Q!==null?P=Na(Q,P):(P=Wl(P,k,m,null),P.flags|=2),P.return=h,x.return=h,x.sibling=P,h.child=x,x=P,P=h.child,k=c.child.memoizedState,k=k===null?hy(m):{baseLanes:k.baseLanes|m,cachePool:null,transitions:k.transitions},P.memoizedState=k,P.childLanes=c.childLanes&~m,h.memoizedState=dy,x}return P=c.child,c=P.sibling,x=Na(P,{mode:"visible",children:x.children}),(h.mode&1)===0&&(x.lanes=m),x.return=h,x.sibling=null,c!==null&&(m=h.deletions,m===null?(h.deletions=[c],h.flags|=16):m.push(c)),h.child=x,h.memoizedState=null,x}function fy(c,h){return h=zg({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function Ng(c,h,m,x){return x!==null&&GC(x),vu(h,c.child,null,m),c=fy(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function R6(c,h,m,x,T,P,k){if(m)return h.flags&256?(h.flags&=-257,x=ay(Error(r(422))),Ng(c,h,k,x)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(P=x.fallback,T=h.mode,x=zg({mode:"visible",children:x.children},T,0,null),P=Wl(P,T,k,null),P.flags|=2,x.return=h,P.return=h,x.sibling=P,h.child=x,(h.mode&1)!==0&&vu(h,c.child,null,k),h.child.memoizedState=hy(k),h.memoizedState=dy,P);if((h.mode&1)===0)return Ng(c,h,k,null);if(T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var Q=x.dgst;return x=Q,P=Error(r(419)),x=ay(P,x,void 0),Ng(c,h,k,x)}if(Q=(k&c.childLanes)!==0,ds||Q){if(x=an,x!==null){switch(k&-k){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(x.suspendedLanes|k))!==0?0:T,T!==0&&T!==P.retryLane&&(P.retryLane=T,Mo(c,T),Fi(x,c,T,-1))}return Ay(),x=ay(Error(r(421))),Ng(c,h,k,x)}return T.data==="$?"?(h.flags|=128,h.child=c.child,h=_6.bind(null,c),T._reactRetry=h,null):(c=P.treeContext,Ns=wa(T.nextSibling),Ms=h,br=!0,xi=null,c!==null&&(Js[Zs++]=Ao,Js[Zs++]=Do,Js[Zs++]=Ol,Ao=c.id,Do=c.overflow,Ol=h),h=fy(h,x.children),h.flags|=4096,h)}function CT(c,h,m){c.lanes|=h;var x=c.alternate;x!==null&&(x.lanes|=h),UC(c.return,h,m)}function py(c,h,m,x,T){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:T}:(P.isBackwards=h,P.rendering=null,P.renderingStartTime=0,P.last=x,P.tail=m,P.tailMode=T)}function yT(c,h,m){var x=h.pendingProps,T=x.revealOrder,P=x.tail;if(Gn(c,h,x.children,m),x=Fr.current,(x&2)!==0)x=x&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&CT(c,m,h);else if(c.tag===19)CT(c,m,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}x&=1}if(pr(Fr,x),(h.mode&1)===0)h.memoizedState=null;else switch(T){case"forwards":for(m=h.child,T=null;m!==null;)c=m.alternate,c!==null&&Eg(c)===null&&(T=m),m=m.sibling;m=T,m===null?(T=h.child,h.child=null):(T=m.sibling,m.sibling=null),py(h,!1,T,m,P);break;case"backwards":for(m=null,T=h.child,h.child=null;T!==null;){if(c=T.alternate,c!==null&&Eg(c)===null){h.child=T;break}c=T.sibling,T.sibling=m,m=T,T=c}py(h,!0,m,null,P);break;case"together":py(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ig(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function Io(c,h,m){if(c!==null&&(h.dependencies=c.dependencies),Bl|=h.lanes,(m&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,m=Na(c,c.pendingProps),h.child=m,m.return=h;c.sibling!==null;)c=c.sibling,m=m.sibling=Na(c,c.pendingProps),m.return=h;m.sibling=null}return h.child}function E6(c,h,m){switch(h.tag){case 3:gT(h),mu();break;case 5:IF(h);break;case 1:us(h.type)&&gg(h);break;case 4:KC(h,h.stateNode.containerInfo);break;case 10:var x=h.type._context,T=h.memoizedProps.value;pr(wg,x._currentValue),x._currentValue=T;break;case 13:if(x=h.memoizedState,x!==null)return x.dehydrated!==null?(pr(Fr,Fr.current&1),h.flags|=128,null):(m&h.child.childLanes)!==0?vT(c,h,m):(pr(Fr,Fr.current&1),c=Io(c,h,m),c!==null?c.sibling:null);pr(Fr,Fr.current&1);break;case 19:if(x=(m&h.childLanes)!==0,(c.flags&128)!==0){if(x)return yT(c,h,m);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),pr(Fr,Fr.current),x)break;return null;case 22:case 23:return h.lanes=0,hT(c,h,m)}return Io(c,h,m)}var ST,gy,wT,xT;ST=function(c,h){for(var m=h.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},gy=function(){},wT=function(c,h,m,x){var T=c.memoizedProps;if(T!==x){c=h.stateNode,_l(Qi.current);var P=null;switch(m){case"input":T=Je(c,T),x=Je(c,x),P=[];break;case"select":T=ue({},T,{value:void 0}),x=ue({},x,{value:void 0}),P=[];break;case"textarea":T=de(c,T),x=de(c,x),P=[];break;default:typeof T.onClick!="function"&&typeof x.onClick=="function"&&(c.onclick=hg)}bt(m,x);var k;m=null;for(we in T)if(!x.hasOwnProperty(we)&&T.hasOwnProperty(we)&&T[we]!=null)if(we==="style"){var Q=T[we];for(k in Q)Q.hasOwnProperty(k)&&(m||(m={}),m[k]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(s.hasOwnProperty(we)?P||(P=[]):(P=P||[]).push(we,null));for(we in x){var te=x[we];if(Q=T!=null?T[we]:void 0,x.hasOwnProperty(we)&&te!==Q&&(te!=null||Q!=null))if(we==="style")if(Q){for(k in Q)!Q.hasOwnProperty(k)||te&&te.hasOwnProperty(k)||(m||(m={}),m[k]="");for(k in te)te.hasOwnProperty(k)&&Q[k]!==te[k]&&(m||(m={}),m[k]=te[k])}else m||(P||(P=[]),P.push(we,m)),m=te;else we==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Q=Q?Q.__html:void 0,te!=null&&Q!==te&&(P=P||[]).push(we,te)):we==="children"?typeof te!="string"&&typeof te!="number"||(P=P||[]).push(we,""+te):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(s.hasOwnProperty(we)?(te!=null&&we==="onScroll"&&mr("scroll",c),P||Q===te||(P=[])):(P=P||[]).push(we,te))}m&&(P=P||[]).push("style",m);var we=P;(h.updateQueue=we)&&(h.flags|=4)}},xT=function(c,h,m,x){m!==x&&(h.flags|=4)};function Ih(c,h){if(!br)switch(c.tailMode){case"hidden":h=c.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:x.sibling=null}}function An(c){var h=c.alternate!==null&&c.alternate.child===c.child,m=0,x=0;if(h)for(var T=c.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags&14680064,x|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=x,c.childLanes=m,h}function F6(c,h,m){var x=h.pendingProps;switch(_C(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(h),null;case 1:return us(h.type)&&pg(),An(h),null;case 3:return x=h.stateNode,Su(),vr(cs),vr(Tn),QC(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(yg(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,xi!==null&&(Fy(xi),xi=null))),gy(c,h),An(h),null;case 5:qC(h);var T=_l(Ph.current);if(m=h.type,c!==null&&h.stateNode!=null)wT(c,h,m,x,T),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!x){if(h.stateNode===null)throw Error(r(166));return An(h),null}if(c=_l(Qi.current),yg(h)){x=h.stateNode,m=h.type;var P=h.memoizedProps;switch(x[Yi]=h,x[bh]=P,c=(h.mode&1)!==0,m){case"dialog":mr("cancel",x),mr("close",x);break;case"iframe":case"object":case"embed":mr("load",x);break;case"video":case"audio":for(T=0;T<Sh.length;T++)mr(Sh[T],x);break;case"source":mr("error",x);break;case"img":case"image":case"link":mr("error",x),mr("load",x);break;case"details":mr("toggle",x);break;case"input":ft(x,P),mr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!P.multiple},mr("invalid",x);break;case"textarea":He(x,P),mr("invalid",x)}bt(m,P),T=null;for(var k in P)if(P.hasOwnProperty(k)){var Q=P[k];k==="children"?typeof Q=="string"?x.textContent!==Q&&(P.suppressHydrationWarning!==!0&&dg(x.textContent,Q,c),T=["children",Q]):typeof Q=="number"&&x.textContent!==""+Q&&(P.suppressHydrationWarning!==!0&&dg(x.textContent,Q,c),T=["children",""+Q]):s.hasOwnProperty(k)&&Q!=null&&k==="onScroll"&&mr("scroll",x)}switch(m){case"input":Ne(x),le(x,P,!0);break;case"textarea":Ne(x),tt(x);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(x.onclick=hg)}x=T,h.updateQueue=x,x!==null&&(h.flags|=4)}else{k=T.nodeType===9?T:T.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=rt(m)),c==="http://www.w3.org/1999/xhtml"?m==="script"?(c=k.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof x.is=="string"?c=k.createElement(m,{is:x.is}):(c=k.createElement(m),m==="select"&&(k=c,x.multiple?k.multiple=!0:x.size&&(k.size=x.size))):c=k.createElementNS(c,m),c[Yi]=h,c[bh]=x,ST(c,h,!1,!1),h.stateNode=c;e:{switch(k=Wt(m,x),m){case"dialog":mr("cancel",c),mr("close",c),T=x;break;case"iframe":case"object":case"embed":mr("load",c),T=x;break;case"video":case"audio":for(T=0;T<Sh.length;T++)mr(Sh[T],c);T=x;break;case"source":mr("error",c),T=x;break;case"img":case"image":case"link":mr("error",c),mr("load",c),T=x;break;case"details":mr("toggle",c),T=x;break;case"input":ft(c,x),T=Je(c,x),mr("invalid",c);break;case"option":T=x;break;case"select":c._wrapperState={wasMultiple:!!x.multiple},T=ue({},x,{value:void 0}),mr("invalid",c);break;case"textarea":He(c,x),T=de(c,x),mr("invalid",c);break;default:T=x}bt(m,T),Q=T;for(P in Q)if(Q.hasOwnProperty(P)){var te=Q[P];P==="style"?Qs(c,te):P==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&zr(c,te)):P==="children"?typeof te=="string"?(m!=="textarea"||te!=="")&&Oe(c,te):typeof te=="number"&&Oe(c,""+te):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?te!=null&&P==="onScroll"&&mr("scroll",c):te!=null&&E(c,P,te,k))}switch(m){case"input":Ne(c),le(c,x,!1);break;case"textarea":Ne(c),tt(c);break;case"option":x.value!=null&&c.setAttribute("value",""+ve(x.value));break;case"select":c.multiple=!!x.multiple,P=x.value,P!=null?Nt(c,!!x.multiple,P,!1):x.defaultValue!=null&&Nt(c,!!x.multiple,x.defaultValue,!0);break;default:typeof T.onClick=="function"&&(c.onclick=hg)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return An(h),null;case 6:if(c&&h.stateNode!=null)xT(c,h,c.memoizedProps,x);else{if(typeof x!="string"&&h.stateNode===null)throw Error(r(166));if(m=_l(Ph.current),_l(Qi.current),yg(h)){if(x=h.stateNode,m=h.memoizedProps,x[Yi]=h,(P=x.nodeValue!==m)&&(c=Ms,c!==null))switch(c.tag){case 3:dg(x.nodeValue,m,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&dg(x.nodeValue,m,(c.mode&1)!==0)}P&&(h.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[Yi]=h,h.stateNode=x}return An(h),null;case 13:if(vr(Fr),x=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(br&&Ns!==null&&(h.mode&1)!==0&&(h.flags&128)===0)EF(),mu(),h.flags|=98560,P=!1;else if(P=yg(h),x!==null&&x.dehydrated!==null){if(c===null){if(!P)throw Error(r(318));if(P=h.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[Yi]=h}else mu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;An(h),P=!1}else xi!==null&&(Fy(xi),xi=null),P=!0;if(!P)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=m,h):(x=x!==null,x!==(c!==null&&c.memoizedState!==null)&&x&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(Fr.current&1)!==0?en===0&&(en=3):Ay())),h.updateQueue!==null&&(h.flags|=4),An(h),null);case 4:return Su(),gy(c,h),c===null&&wh(h.stateNode.containerInfo),An(h),null;case 10:return WC(h.type._context),An(h),null;case 17:return us(h.type)&&pg(),An(h),null;case 19:if(vr(Fr),P=h.memoizedState,P===null)return An(h),null;if(x=(h.flags&128)!==0,k=P.rendering,k===null)if(x)Ih(P,!1);else{if(en!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(k=Eg(c),k!==null){for(h.flags|=128,Ih(P,!1),x=k.updateQueue,x!==null&&(h.updateQueue=x,h.flags|=4),h.subtreeFlags=0,x=m,m=h.child;m!==null;)P=m,c=x,P.flags&=14680066,k=P.alternate,k===null?(P.childLanes=0,P.lanes=c,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=k.childLanes,P.lanes=k.lanes,P.child=k.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=k.memoizedProps,P.memoizedState=k.memoizedState,P.updateQueue=k.updateQueue,P.type=k.type,c=k.dependencies,P.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),m=m.sibling;return pr(Fr,Fr.current&1|2),h.child}c=c.sibling}P.tail!==null&&Ve()>Ru&&(h.flags|=128,x=!0,Ih(P,!1),h.lanes=4194304)}else{if(!x)if(c=Eg(k),c!==null){if(h.flags|=128,x=!0,m=c.updateQueue,m!==null&&(h.updateQueue=m,h.flags|=4),Ih(P,!0),P.tail===null&&P.tailMode==="hidden"&&!k.alternate&&!br)return An(h),null}else 2*Ve()-P.renderingStartTime>Ru&&m!==1073741824&&(h.flags|=128,x=!0,Ih(P,!1),h.lanes=4194304);P.isBackwards?(k.sibling=h.child,h.child=k):(m=P.last,m!==null?m.sibling=k:h.child=k,P.last=k)}return P.tail!==null?(h=P.tail,P.rendering=h,P.tail=h.sibling,P.renderingStartTime=Ve(),h.sibling=null,m=Fr.current,pr(Fr,x?m&1|2:m&1),h):(An(h),null);case 22:case 23:return Py(),x=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==x&&(h.flags|=8192),x&&(h.mode&1)!==0?(Is&1073741824)!==0&&(An(h),h.subtreeFlags&6&&(h.flags|=8192)):An(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function T6(c,h){switch(_C(h),h.tag){case 1:return us(h.type)&&pg(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Su(),vr(cs),vr(Tn),QC(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return qC(h),null;case 13:if(vr(Fr),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));mu()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return vr(Fr),null;case 4:return Su(),null;case 10:return WC(h.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var Og=!1,Dn=!1,P6=typeof WeakSet=="function"?WeakSet:Set,lt=null;function xu(c,h){var m=c.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Ir(c,h,x)}else m.current=null}function my(c,h,m){try{m()}catch(x){Ir(c,h,x)}}var bT=!1;function A6(c,h){if(PC=eg,c=tF(),SC(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var T=x.anchorOffset,P=x.focusNode;x=x.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break e}var k=0,Q=-1,te=-1,we=0,je=0,Ge=c,ke=null;t:for(;;){for(var st;Ge!==m||T!==0&&Ge.nodeType!==3||(Q=k+T),Ge!==P||x!==0&&Ge.nodeType!==3||(te=k+x),Ge.nodeType===3&&(k+=Ge.nodeValue.length),(st=Ge.firstChild)!==null;)ke=Ge,Ge=st;for(;;){if(Ge===c)break t;if(ke===m&&++we===T&&(Q=k),ke===P&&++je===x&&(te=k),(st=Ge.nextSibling)!==null)break;Ge=ke,ke=Ge.parentNode}Ge=st}m=Q===-1||te===-1?null:{start:Q,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(AC={focusedElem:c,selectionRange:m},eg=!1,lt=h;lt!==null;)if(h=lt,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,lt=c;else for(;lt!==null;){h=lt;try{var ut=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var dt=ut.memoizedProps,Vr=ut.memoizedState,he=h.stateNode,se=he.getSnapshotBeforeUpdate(h.elementType===h.type?dt:bi(h.type,dt),Vr);he.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var fe=h.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch($e){Ir(h,h.return,$e)}if(c=h.sibling,c!==null){c.return=h.return,lt=c;break}lt=h.return}return ut=bT,bT=!1,ut}function Oh(c,h,m){var x=h.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var T=x=x.next;do{if((T.tag&c)===c){var P=T.destroy;T.destroy=void 0,P!==void 0&&my(h,m,P)}T=T.next}while(T!==x)}}function kg(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&c)===c){var x=m.create;m.destroy=x()}m=m.next}while(m!==h)}}function vy(c){var h=c.ref;if(h!==null){var m=c.stateNode;switch(c.tag){case 5:c=m;break;default:c=m}typeof h=="function"?h(c):h.current=c}}function RT(c){var h=c.alternate;h!==null&&(c.alternate=null,RT(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[Yi],delete h[bh],delete h[IC],delete h[d6],delete h[h6])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function ET(c){return c.tag===5||c.tag===3||c.tag===4}function FT(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ET(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Cy(c,h,m){var x=c.tag;if(x===5||x===6)c=c.stateNode,h?m.nodeType===8?m.parentNode.insertBefore(c,h):m.insertBefore(c,h):(m.nodeType===8?(h=m.parentNode,h.insertBefore(c,m)):(h=m,h.appendChild(c)),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=hg));else if(x!==4&&(c=c.child,c!==null))for(Cy(c,h,m),c=c.sibling;c!==null;)Cy(c,h,m),c=c.sibling}function yy(c,h,m){var x=c.tag;if(x===5||x===6)c=c.stateNode,h?m.insertBefore(c,h):m.appendChild(c);else if(x!==4&&(c=c.child,c!==null))for(yy(c,h,m),c=c.sibling;c!==null;)yy(c,h,m),c=c.sibling}var mn=null,Ri=!1;function Ta(c,h,m){for(m=m.child;m!==null;)TT(c,h,m),m=m.sibling}function TT(c,h,m){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(qi,m)}catch{}switch(m.tag){case 5:Dn||xu(m,h);case 6:var x=mn,T=Ri;mn=null,Ta(c,h,m),mn=x,Ri=T,mn!==null&&(Ri?(c=mn,m=m.stateNode,c.nodeType===8?c.parentNode.removeChild(m):c.removeChild(m)):mn.removeChild(m.stateNode));break;case 18:mn!==null&&(Ri?(c=mn,m=m.stateNode,c.nodeType===8?NC(c.parentNode,m):c.nodeType===1&&NC(c,m),hh(c)):NC(mn,m.stateNode));break;case 4:x=mn,T=Ri,mn=m.stateNode.containerInfo,Ri=!0,Ta(c,h,m),mn=x,Ri=T;break;case 0:case 11:case 14:case 15:if(!Dn&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){T=x=x.next;do{var P=T,k=P.destroy;P=P.tag,k!==void 0&&((P&2)!==0||(P&4)!==0)&&my(m,h,k),T=T.next}while(T!==x)}Ta(c,h,m);break;case 1:if(!Dn&&(xu(m,h),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(Q){Ir(m,h,Q)}Ta(c,h,m);break;case 21:Ta(c,h,m);break;case 22:m.mode&1?(Dn=(x=Dn)||m.memoizedState!==null,Ta(c,h,m),Dn=x):Ta(c,h,m);break;default:Ta(c,h,m)}}function PT(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var m=c.stateNode;m===null&&(m=c.stateNode=new P6),h.forEach(function(x){var T=j6.bind(null,c,x);m.has(x)||(m.add(x),x.then(T,T))})}}function Ei(c,h){var m=h.deletions;if(m!==null)for(var x=0;x<m.length;x++){var T=m[x];try{var P=c,k=h,Q=k;e:for(;Q!==null;){switch(Q.tag){case 5:mn=Q.stateNode,Ri=!1;break e;case 3:mn=Q.stateNode.containerInfo,Ri=!0;break e;case 4:mn=Q.stateNode.containerInfo,Ri=!0;break e}Q=Q.return}if(mn===null)throw Error(r(160));TT(P,k,T),mn=null,Ri=!1;var te=T.alternate;te!==null&&(te.return=null),T.return=null}catch(we){Ir(T,h,we)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)AT(h,c),h=h.sibling}function AT(c,h){var m=c.alternate,x=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Ei(h,c),Ji(c),x&4){try{Oh(3,c,c.return),kg(3,c)}catch(dt){Ir(c,c.return,dt)}try{Oh(5,c,c.return)}catch(dt){Ir(c,c.return,dt)}}break;case 1:Ei(h,c),Ji(c),x&512&&m!==null&&xu(m,m.return);break;case 5:if(Ei(h,c),Ji(c),x&512&&m!==null&&xu(m,m.return),c.flags&32){var T=c.stateNode;try{Oe(T,"")}catch(dt){Ir(c,c.return,dt)}}if(x&4&&(T=c.stateNode,T!=null)){var P=c.memoizedProps,k=m!==null?m.memoizedProps:P,Q=c.type,te=c.updateQueue;if(c.updateQueue=null,te!==null)try{Q==="input"&&P.type==="radio"&&P.name!=null&&xt(T,P),Wt(Q,k);var we=Wt(Q,P);for(k=0;k<te.length;k+=2){var je=te[k],Ge=te[k+1];je==="style"?Qs(T,Ge):je==="dangerouslySetInnerHTML"?zr(T,Ge):je==="children"?Oe(T,Ge):E(T,je,Ge,we)}switch(Q){case"input":We(T,P);break;case"textarea":Ue(T,P);break;case"select":var ke=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!P.multiple;var st=P.value;st!=null?Nt(T,!!P.multiple,st,!1):ke!==!!P.multiple&&(P.defaultValue!=null?Nt(T,!!P.multiple,P.defaultValue,!0):Nt(T,!!P.multiple,P.multiple?[]:"",!1))}T[bh]=P}catch(dt){Ir(c,c.return,dt)}}break;case 6:if(Ei(h,c),Ji(c),x&4){if(c.stateNode===null)throw Error(r(162));T=c.stateNode,P=c.memoizedProps;try{T.nodeValue=P}catch(dt){Ir(c,c.return,dt)}}break;case 3:if(Ei(h,c),Ji(c),x&4&&m!==null&&m.memoizedState.isDehydrated)try{hh(h.containerInfo)}catch(dt){Ir(c,c.return,dt)}break;case 4:Ei(h,c),Ji(c);break;case 13:Ei(h,c),Ji(c),T=c.child,T.flags&8192&&(P=T.memoizedState!==null,T.stateNode.isHidden=P,!P||T.alternate!==null&&T.alternate.memoizedState!==null||(xy=Ve())),x&4&&PT(c);break;case 22:if(je=m!==null&&m.memoizedState!==null,c.mode&1?(Dn=(we=Dn)||je,Ei(h,c),Dn=we):Ei(h,c),Ji(c),x&8192){if(we=c.memoizedState!==null,(c.stateNode.isHidden=we)&&!je&&(c.mode&1)!==0)for(lt=c,je=c.child;je!==null;){for(Ge=lt=je;lt!==null;){switch(ke=lt,st=ke.child,ke.tag){case 0:case 11:case 14:case 15:Oh(4,ke,ke.return);break;case 1:xu(ke,ke.return);var ut=ke.stateNode;if(typeof ut.componentWillUnmount=="function"){x=ke,m=ke.return;try{h=x,ut.props=h.memoizedProps,ut.state=h.memoizedState,ut.componentWillUnmount()}catch(dt){Ir(x,m,dt)}}break;case 5:xu(ke,ke.return);break;case 22:if(ke.memoizedState!==null){NT(Ge);continue}}st!==null?(st.return=ke,lt=st):NT(Ge)}je=je.sibling}e:for(je=null,Ge=c;;){if(Ge.tag===5){if(je===null){je=Ge;try{T=Ge.stateNode,we?(P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Q=Ge.stateNode,te=Ge.memoizedProps.style,k=te!=null&&te.hasOwnProperty("display")?te.display:null,Q.style.display=nn("display",k))}catch(dt){Ir(c,c.return,dt)}}}else if(Ge.tag===6){if(je===null)try{Ge.stateNode.nodeValue=we?"":Ge.memoizedProps}catch(dt){Ir(c,c.return,dt)}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===c)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===c)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===c)break e;je===Ge&&(je=null),Ge=Ge.return}je===Ge&&(je=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}}break;case 19:Ei(h,c),Ji(c),x&4&&PT(c);break;case 21:break;default:Ei(h,c),Ji(c)}}function Ji(c){var h=c.flags;if(h&2){try{e:{for(var m=c.return;m!==null;){if(ET(m)){var x=m;break e}m=m.return}throw Error(r(160))}switch(x.tag){case 5:var T=x.stateNode;x.flags&32&&(Oe(T,""),x.flags&=-33);var P=FT(c);yy(c,P,T);break;case 3:case 4:var k=x.stateNode.containerInfo,Q=FT(c);Cy(c,Q,k);break;default:throw Error(r(161))}}catch(te){Ir(c,c.return,te)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function D6(c,h,m){lt=c,DT(c)}function DT(c,h,m){for(var x=(c.mode&1)!==0;lt!==null;){var T=lt,P=T.child;if(T.tag===22&&x){var k=T.memoizedState!==null||Og;if(!k){var Q=T.alternate,te=Q!==null&&Q.memoizedState!==null||Dn;Q=Og;var we=Dn;if(Og=k,(Dn=te)&&!we)for(lt=T;lt!==null;)k=lt,te=k.child,k.tag===22&&k.memoizedState!==null?IT(T):te!==null?(te.return=k,lt=te):IT(T);for(;P!==null;)lt=P,DT(P),P=P.sibling;lt=T,Og=Q,Dn=we}MT(c)}else(T.subtreeFlags&8772)!==0&&P!==null?(P.return=T,lt=P):MT(c)}}function MT(c){for(;lt!==null;){var h=lt;if((h.flags&8772)!==0){var m=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Dn||kg(5,h);break;case 1:var x=h.stateNode;if(h.flags&4&&!Dn)if(m===null)x.componentDidMount();else{var T=h.elementType===h.type?m.memoizedProps:bi(h.type,m.memoizedProps);x.componentDidUpdate(T,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var P=h.updateQueue;P!==null&&NF(h,P,x);break;case 3:var k=h.updateQueue;if(k!==null){if(m=null,h.child!==null)switch(h.child.tag){case 5:m=h.child.stateNode;break;case 1:m=h.child.stateNode}NF(h,k,m)}break;case 5:var Q=h.stateNode;if(m===null&&h.flags&4){m=Q;var te=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&m.focus();break;case"img":te.src&&(m.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var we=h.alternate;if(we!==null){var je=we.memoizedState;if(je!==null){var Ge=je.dehydrated;Ge!==null&&hh(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Dn||h.flags&512&&vy(h)}catch(ke){Ir(h,h.return,ke)}}if(h===c){lt=null;break}if(m=h.sibling,m!==null){m.return=h.return,lt=m;break}lt=h.return}}function NT(c){for(;lt!==null;){var h=lt;if(h===c){lt=null;break}var m=h.sibling;if(m!==null){m.return=h.return,lt=m;break}lt=h.return}}function IT(c){for(;lt!==null;){var h=lt;try{switch(h.tag){case 0:case 11:case 15:var m=h.return;try{kg(4,h)}catch(te){Ir(h,m,te)}break;case 1:var x=h.stateNode;if(typeof x.componentDidMount=="function"){var T=h.return;try{x.componentDidMount()}catch(te){Ir(h,T,te)}}var P=h.return;try{vy(h)}catch(te){Ir(h,P,te)}break;case 5:var k=h.return;try{vy(h)}catch(te){Ir(h,k,te)}}}catch(te){Ir(h,h.return,te)}if(h===c){lt=null;break}var Q=h.sibling;if(Q!==null){Q.return=h.return,lt=Q;break}lt=h.return}}var M6=Math.ceil,Lg=R.ReactCurrentDispatcher,Sy=R.ReactCurrentOwner,ri=R.ReactCurrentBatchConfig,zt=0,an=null,$r=null,vn=0,Is=0,bu=xa(0),en=0,kh=null,Bl=0,_g=0,wy=0,Lh=null,hs=null,xy=0,Ru=1/0,Oo=null,jg=!1,by=null,Pa=null,Bg=!1,Aa=null,Gg=0,_h=0,Ry=null,Hg=-1,Vg=0;function Hn(){return(zt&6)!==0?Ve():Hg!==-1?Hg:Hg=Ve()}function Da(c){return(c.mode&1)===0?1:(zt&2)!==0&&vn!==0?vn&-vn:p6.transition!==null?(Vg===0&&(Vg=FE()),Vg):(c=nr,c!==0||(c=window.event,c=c===void 0?16:kE(c.type)),c)}function Fi(c,h,m,x){if(50<_h)throw _h=0,Ry=null,Error(r(185));ah(c,m,x),((zt&2)===0||c!==an)&&(c===an&&((zt&2)===0&&(_g|=m),en===4&&Ma(c,vn)),fs(c,x),m===1&&zt===0&&(h.mode&1)===0&&(Ru=Ve()+500,mg&&Ra()))}function fs(c,h){var m=c.callbackNode;pG(c,h);var x=Xp(c,c===an?vn:0);if(x===0)m!==null&&Xe(m),c.callbackNode=null,c.callbackPriority=0;else if(h=x&-x,c.callbackPriority!==h){if(m!=null&&Xe(m),h===1)c.tag===0?f6(kT.bind(null,c)):SF(kT.bind(null,c)),c6(function(){(zt&6)===0&&Ra()}),m=null;else{switch(TE(x)){case 1:m=dr;break;case 4:m=fr;break;case 16:m=Gr;break;case 536870912:m=pa;break;default:m=Gr}m=WT(m,OT.bind(null,c))}c.callbackPriority=h,c.callbackNode=m}}function OT(c,h){if(Hg=-1,Vg=0,(zt&6)!==0)throw Error(r(327));var m=c.callbackNode;if(Eu()&&c.callbackNode!==m)return null;var x=Xp(c,c===an?vn:0);if(x===0)return null;if((x&30)!==0||(x&c.expiredLanes)!==0||h)h=Wg(c,x);else{h=x;var T=zt;zt|=2;var P=_T();(an!==c||vn!==h)&&(Oo=null,Ru=Ve()+500,Hl(c,h));do try{O6();break}catch(Q){LT(c,Q)}while(!0);VC(),Lg.current=P,zt=T,$r!==null?h=0:(an=null,vn=0,h=en)}if(h!==0){if(h===2&&(T=sC(c),T!==0&&(x=T,h=Ey(c,T))),h===1)throw m=kh,Hl(c,0),Ma(c,x),fs(c,Ve()),m;if(h===6)Ma(c,x);else{if(T=c.current.alternate,(x&30)===0&&!N6(T)&&(h=Wg(c,x),h===2&&(P=sC(c),P!==0&&(x=P,h=Ey(c,P))),h===1))throw m=kh,Hl(c,0),Ma(c,x),fs(c,Ve()),m;switch(c.finishedWork=T,c.finishedLanes=x,h){case 0:case 1:throw Error(r(345));case 2:Vl(c,hs,Oo);break;case 3:if(Ma(c,x),(x&130023424)===x&&(h=xy+500-Ve(),10<h)){if(Xp(c,0)!==0)break;if(T=c.suspendedLanes,(T&x)!==x){Hn(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=MC(Vl.bind(null,c,hs,Oo),h);break}Vl(c,hs,Oo);break;case 4:if(Ma(c,x),(x&4194240)===x)break;for(h=c.eventTimes,T=-1;0<x;){var k=31-Hr(x);P=1<<k,k=h[k],k>T&&(T=k),x&=~P}if(x=T,x=Ve()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*M6(x/1960))-x,10<x){c.timeoutHandle=MC(Vl.bind(null,c,hs,Oo),x);break}Vl(c,hs,Oo);break;case 5:Vl(c,hs,Oo);break;default:throw Error(r(329))}}}return fs(c,Ve()),c.callbackNode===m?OT.bind(null,c):null}function Ey(c,h){var m=Lh;return c.current.memoizedState.isDehydrated&&(Hl(c,h).flags|=256),c=Wg(c,h),c!==2&&(h=hs,hs=m,h!==null&&Fy(h)),c}function Fy(c){hs===null?hs=c:hs.push.apply(hs,c)}function N6(c){for(var h=c;;){if(h.flags&16384){var m=h.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var T=m[x],P=T.getSnapshot;T=T.value;try{if(!wi(P(),T))return!1}catch{return!1}}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Ma(c,h){for(h&=~wy,h&=~_g,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var m=31-Hr(h),x=1<<m;c[m]=-1,h&=~x}}function kT(c){if((zt&6)!==0)throw Error(r(327));Eu();var h=Xp(c,0);if((h&1)===0)return fs(c,Ve()),null;var m=Wg(c,h);if(c.tag!==0&&m===2){var x=sC(c);x!==0&&(h=x,m=Ey(c,x))}if(m===1)throw m=kh,Hl(c,0),Ma(c,h),fs(c,Ve()),m;if(m===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,Vl(c,hs,Oo),fs(c,Ve()),null}function Ty(c,h){var m=zt;zt|=1;try{return c(h)}finally{zt=m,zt===0&&(Ru=Ve()+500,mg&&Ra())}}function Gl(c){Aa!==null&&Aa.tag===0&&(zt&6)===0&&Eu();var h=zt;zt|=1;var m=ri.transition,x=nr;try{if(ri.transition=null,nr=1,c)return c()}finally{nr=x,ri.transition=m,zt=h,(zt&6)===0&&Ra()}}function Py(){Is=bu.current,vr(bu)}function Hl(c,h){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;if(m!==-1&&(c.timeoutHandle=-1,l6(m)),$r!==null)for(m=$r.return;m!==null;){var x=m;switch(_C(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&pg();break;case 3:Su(),vr(cs),vr(Tn),QC();break;case 5:qC(x);break;case 4:Su();break;case 13:vr(Fr);break;case 19:vr(Fr);break;case 10:WC(x.type._context);break;case 22:case 23:Py()}m=m.return}if(an=c,$r=c=Na(c.current,null),vn=Is=h,en=0,kh=null,wy=_g=Bl=0,hs=Lh=null,Ll!==null){for(h=0;h<Ll.length;h++)if(m=Ll[h],x=m.interleaved,x!==null){m.interleaved=null;var T=x.next,P=m.pending;if(P!==null){var k=P.next;P.next=T,x.next=k}m.pending=x}Ll=null}return c}function LT(c,h){do{var m=$r;try{if(VC(),Fg.current=Dg,Tg){for(var x=Tr.memoizedState;x!==null;){var T=x.queue;T!==null&&(T.pending=null),x=x.next}Tg=!1}if(jl=0,on=Zr=Tr=null,Ah=!1,Dh=0,Sy.current=null,m===null||m.return===null){en=1,kh=h,$r=null;break}e:{var P=c,k=m.return,Q=m,te=h;if(h=vn,Q.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var we=te,je=Q,Ge=je.tag;if((je.mode&1)===0&&(Ge===0||Ge===11||Ge===15)){var ke=je.alternate;ke?(je.updateQueue=ke.updateQueue,je.memoizedState=ke.memoizedState,je.lanes=ke.lanes):(je.updateQueue=null,je.memoizedState=null)}var st=aT(k);if(st!==null){st.flags&=-257,lT(st,k,Q,P,h),st.mode&1&&oT(P,we,h),h=st,te=we;var ut=h.updateQueue;if(ut===null){var dt=new Set;dt.add(te),h.updateQueue=dt}else ut.add(te);break e}else{if((h&1)===0){oT(P,we,h),Ay();break e}te=Error(r(426))}}else if(br&&Q.mode&1){var Vr=aT(k);if(Vr!==null){(Vr.flags&65536)===0&&(Vr.flags|=256),lT(Vr,k,Q,P,h),GC(wu(te,Q));break e}}P=te=wu(te,Q),en!==4&&(en=2),Lh===null?Lh=[P]:Lh.push(P),P=k;do{switch(P.tag){case 3:P.flags|=65536,h&=-h,P.lanes|=h;var he=sT(P,te,h);MF(P,he);break e;case 1:Q=te;var se=P.type,fe=P.stateNode;if((P.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(Pa===null||!Pa.has(fe)))){P.flags|=65536,h&=-h,P.lanes|=h;var $e=iT(P,Q,h);MF(P,$e);break e}}P=P.return}while(P!==null)}BT(m)}catch(ht){h=ht,$r===m&&m!==null&&($r=m=m.return);continue}break}while(!0)}function _T(){var c=Lg.current;return Lg.current=Dg,c===null?Dg:c}function Ay(){(en===0||en===3||en===2)&&(en=4),an===null||(Bl&268435455)===0&&(_g&268435455)===0||Ma(an,vn)}function Wg(c,h){var m=zt;zt|=2;var x=_T();(an!==c||vn!==h)&&(Oo=null,Hl(c,h));do try{I6();break}catch(T){LT(c,T)}while(!0);if(VC(),zt=m,Lg.current=x,$r!==null)throw Error(r(261));return an=null,vn=0,en}function I6(){for(;$r!==null;)jT($r)}function O6(){for(;$r!==null&&!ot();)jT($r)}function jT(c){var h=VT(c.alternate,c,Is);c.memoizedProps=c.pendingProps,h===null?BT(c):$r=h,Sy.current=null}function BT(c){var h=c;do{var m=h.alternate;if(c=h.return,(h.flags&32768)===0){if(m=F6(m,h,Is),m!==null){$r=m;return}}else{if(m=T6(m,h),m!==null){m.flags&=32767,$r=m;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{en=6,$r=null;return}}if(h=h.sibling,h!==null){$r=h;return}$r=h=c}while(h!==null);en===0&&(en=5)}function Vl(c,h,m){var x=nr,T=ri.transition;try{ri.transition=null,nr=1,k6(c,h,m,x)}finally{ri.transition=T,nr=x}return null}function k6(c,h,m,x){do Eu();while(Aa!==null);if((zt&6)!==0)throw Error(r(327));m=c.finishedWork;var T=c.finishedLanes;if(m===null)return null;if(c.finishedWork=null,c.finishedLanes=0,m===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var P=m.lanes|m.childLanes;if(gG(c,P),c===an&&($r=an=null,vn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Bg||(Bg=!0,WT(Gr,function(){return Eu(),null})),P=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||P){P=ri.transition,ri.transition=null;var k=nr;nr=1;var Q=zt;zt|=4,Sy.current=null,A6(c,m),AT(m,c),t6(AC),eg=!!PC,AC=PC=null,c.current=m,D6(m),ze(),zt=Q,nr=k,ri.transition=P}else c.current=m;if(Bg&&(Bg=!1,Aa=c,Gg=T),P=c.pendingLanes,P===0&&(Pa=null),ih(m.stateNode),fs(c,Ve()),h!==null)for(x=c.onRecoverableError,m=0;m<h.length;m++)T=h[m],x(T.value,{componentStack:T.stack,digest:T.digest});if(jg)throw jg=!1,c=by,by=null,c;return(Gg&1)!==0&&c.tag!==0&&Eu(),P=c.pendingLanes,(P&1)!==0?c===Ry?_h++:(_h=0,Ry=c):_h=0,Ra(),null}function Eu(){if(Aa!==null){var c=TE(Gg),h=ri.transition,m=nr;try{if(ri.transition=null,nr=16>c?16:c,Aa===null)var x=!1;else{if(c=Aa,Aa=null,Gg=0,(zt&6)!==0)throw Error(r(331));var T=zt;for(zt|=4,lt=c.current;lt!==null;){var P=lt,k=P.child;if((lt.flags&16)!==0){var Q=P.deletions;if(Q!==null){for(var te=0;te<Q.length;te++){var we=Q[te];for(lt=we;lt!==null;){var je=lt;switch(je.tag){case 0:case 11:case 15:Oh(8,je,P)}var Ge=je.child;if(Ge!==null)Ge.return=je,lt=Ge;else for(;lt!==null;){je=lt;var ke=je.sibling,st=je.return;if(RT(je),je===we){lt=null;break}if(ke!==null){ke.return=st,lt=ke;break}lt=st}}}var ut=P.alternate;if(ut!==null){var dt=ut.child;if(dt!==null){ut.child=null;do{var Vr=dt.sibling;dt.sibling=null,dt=Vr}while(dt!==null)}}lt=P}}if((P.subtreeFlags&2064)!==0&&k!==null)k.return=P,lt=k;else e:for(;lt!==null;){if(P=lt,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Oh(9,P,P.return)}var he=P.sibling;if(he!==null){he.return=P.return,lt=he;break e}lt=P.return}}var se=c.current;for(lt=se;lt!==null;){k=lt;var fe=k.child;if((k.subtreeFlags&2064)!==0&&fe!==null)fe.return=k,lt=fe;else e:for(k=se;lt!==null;){if(Q=lt,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:kg(9,Q)}}catch(ht){Ir(Q,Q.return,ht)}if(Q===k){lt=null;break e}var $e=Q.sibling;if($e!==null){$e.return=Q.return,lt=$e;break e}lt=Q.return}}if(zt=T,Ra(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(qi,c)}catch{}x=!0}return x}finally{nr=m,ri.transition=h}}return!1}function GT(c,h,m){h=wu(m,h),h=sT(c,h,1),c=Fa(c,h,1),h=Hn(),c!==null&&(ah(c,1,h),fs(c,h))}function Ir(c,h,m){if(c.tag===3)GT(c,c,m);else for(;h!==null;){if(h.tag===3){GT(h,c,m);break}else if(h.tag===1){var x=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Pa===null||!Pa.has(x))){c=wu(m,c),c=iT(h,c,1),h=Fa(h,c,1),c=Hn(),h!==null&&(ah(h,1,c),fs(h,c));break}}h=h.return}}function L6(c,h,m){var x=c.pingCache;x!==null&&x.delete(h),h=Hn(),c.pingedLanes|=c.suspendedLanes&m,an===c&&(vn&m)===m&&(en===4||en===3&&(vn&130023424)===vn&&500>Ve()-xy?Hl(c,0):wy|=m),fs(c,h)}function HT(c,h){h===0&&((c.mode&1)===0?h=1:(h=Qp,Qp<<=1,(Qp&130023424)===0&&(Qp=4194304)));var m=Hn();c=Mo(c,h),c!==null&&(ah(c,h,m),fs(c,m))}function _6(c){var h=c.memoizedState,m=0;h!==null&&(m=h.retryLane),HT(c,m)}function j6(c,h){var m=0;switch(c.tag){case 13:var x=c.stateNode,T=c.memoizedState;T!==null&&(m=T.retryLane);break;case 19:x=c.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(h),HT(c,m)}var VT;VT=function(c,h,m){if(c!==null)if(c.memoizedProps!==h.pendingProps||cs.current)ds=!0;else{if((c.lanes&m)===0&&(h.flags&128)===0)return ds=!1,E6(c,h,m);ds=(c.flags&131072)!==0}else ds=!1,br&&(h.flags&1048576)!==0&&wF(h,Cg,h.index);switch(h.lanes=0,h.tag){case 2:var x=h.type;Ig(c,h),c=h.pendingProps;var T=fu(h,Tn.current);yu(h,m),T=ZC(null,h,x,c,T,m);var P=ey();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,us(x)?(P=!0,gg(h)):P=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,$C(h),T.updater=Mg,h.stateNode=T,T._reactInternals=h,oy(h,x,c,m),h=uy(null,h,x,!0,P,m)):(h.tag=0,br&&P&&LC(h),Gn(null,h,T,m),h=h.child),h;case 16:x=h.elementType;e:{switch(Ig(c,h),c=h.pendingProps,T=x._init,x=T(x._payload),h.type=x,T=h.tag=G6(x),c=bi(x,c),T){case 0:h=cy(null,h,x,c,m);break e;case 1:h=pT(null,h,x,c,m);break e;case 11:h=cT(null,h,x,c,m);break e;case 14:h=uT(null,h,x,bi(x.type,c),m);break e}throw Error(r(306,x,""))}return h;case 0:return x=h.type,T=h.pendingProps,T=h.elementType===x?T:bi(x,T),cy(c,h,x,T,m);case 1:return x=h.type,T=h.pendingProps,T=h.elementType===x?T:bi(x,T),pT(c,h,x,T,m);case 3:e:{if(gT(h),c===null)throw Error(r(387));x=h.pendingProps,P=h.memoizedState,T=P.element,DF(c,h),Rg(h,x,null,m);var k=h.memoizedState;if(x=k.element,P.isDehydrated)if(P={element:x,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},h.updateQueue.baseState=P,h.memoizedState=P,h.flags&256){T=wu(Error(r(423)),h),h=mT(c,h,x,m,T);break e}else if(x!==T){T=wu(Error(r(424)),h),h=mT(c,h,x,m,T);break e}else for(Ns=wa(h.stateNode.containerInfo.firstChild),Ms=h,br=!0,xi=null,m=PF(h,null,x,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(mu(),x===T){h=Io(c,h,m);break e}Gn(c,h,x,m)}h=h.child}return h;case 5:return IF(h),c===null&&BC(h),x=h.type,T=h.pendingProps,P=c!==null?c.memoizedProps:null,k=T.children,DC(x,T)?k=null:P!==null&&DC(x,P)&&(h.flags|=32),fT(c,h),Gn(c,h,k,m),h.child;case 6:return c===null&&BC(h),null;case 13:return vT(c,h,m);case 4:return KC(h,h.stateNode.containerInfo),x=h.pendingProps,c===null?h.child=vu(h,null,x,m):Gn(c,h,x,m),h.child;case 11:return x=h.type,T=h.pendingProps,T=h.elementType===x?T:bi(x,T),cT(c,h,x,T,m);case 7:return Gn(c,h,h.pendingProps,m),h.child;case 8:return Gn(c,h,h.pendingProps.children,m),h.child;case 12:return Gn(c,h,h.pendingProps.children,m),h.child;case 10:e:{if(x=h.type._context,T=h.pendingProps,P=h.memoizedProps,k=T.value,pr(wg,x._currentValue),x._currentValue=k,P!==null)if(wi(P.value,k)){if(P.children===T.children&&!cs.current){h=Io(c,h,m);break e}}else for(P=h.child,P!==null&&(P.return=h);P!==null;){var Q=P.dependencies;if(Q!==null){k=P.child;for(var te=Q.firstContext;te!==null;){if(te.context===x){if(P.tag===1){te=No(-1,m&-m),te.tag=2;var we=P.updateQueue;if(we!==null){we=we.shared;var je=we.pending;je===null?te.next=te:(te.next=je.next,je.next=te),we.pending=te}}P.lanes|=m,te=P.alternate,te!==null&&(te.lanes|=m),UC(P.return,m,h),Q.lanes|=m;break}te=te.next}}else if(P.tag===10)k=P.type===h.type?null:P.child;else if(P.tag===18){if(k=P.return,k===null)throw Error(r(341));k.lanes|=m,Q=k.alternate,Q!==null&&(Q.lanes|=m),UC(k,m,h),k=P.sibling}else k=P.child;if(k!==null)k.return=P;else for(k=P;k!==null;){if(k===h){k=null;break}if(P=k.sibling,P!==null){P.return=k.return,k=P;break}k=k.return}P=k}Gn(c,h,T.children,m),h=h.child}return h;case 9:return T=h.type,x=h.pendingProps.children,yu(h,m),T=ei(T),x=x(T),h.flags|=1,Gn(c,h,x,m),h.child;case 14:return x=h.type,T=bi(x,h.pendingProps),T=bi(x.type,T),uT(c,h,x,T,m);case 15:return dT(c,h,h.type,h.pendingProps,m);case 17:return x=h.type,T=h.pendingProps,T=h.elementType===x?T:bi(x,T),Ig(c,h),h.tag=1,us(x)?(c=!0,gg(h)):c=!1,yu(h,m),rT(h,x,T),oy(h,x,T,m),uy(null,h,x,!0,c,m);case 19:return yT(c,h,m);case 22:return hT(c,h,m)}throw Error(r(156,h.tag))};function WT(c,h){return Be(c,h)}function B6(c,h,m,x){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(c,h,m,x){return new B6(c,h,m,x)}function Dy(c){return c=c.prototype,!(!c||!c.isReactComponent)}function G6(c){if(typeof c=="function")return Dy(c)?1:0;if(c!=null){if(c=c.$$typeof,c===B)return 11;if(c===Ee)return 14}return 2}function Na(c,h){var m=c.alternate;return m===null?(m=ni(c.tag,h,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=h,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&14680064,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,h=c.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m}function Ug(c,h,m,x,T,P){var k=2;if(x=c,typeof c=="function")Dy(c)&&(k=1);else if(typeof c=="string")k=5;else e:switch(c){case M:return Wl(m.children,T,P,h);case I:k=8,T|=8;break;case L:return c=ni(12,m,h,T|2),c.elementType=L,c.lanes=P,c;case ie:return c=ni(13,m,h,T),c.elementType=ie,c.lanes=P,c;case Se:return c=ni(19,m,h,T),c.elementType=Se,c.lanes=P,c;case ae:return zg(m,T,P,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case j:k=10;break e;case W:k=9;break e;case B:k=11;break e;case Ee:k=14;break e;case xe:k=16,x=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return h=ni(k,m,h,T),h.elementType=c,h.type=x,h.lanes=P,h}function Wl(c,h,m,x){return c=ni(7,c,x,h),c.lanes=m,c}function zg(c,h,m,x){return c=ni(22,c,x,h),c.elementType=ae,c.lanes=m,c.stateNode={isHidden:!1},c}function My(c,h,m){return c=ni(6,c,null,h),c.lanes=m,c}function Ny(c,h,m){return h=ni(4,c.children!==null?c.children:[],c.key,h),h.lanes=m,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function H6(c,h,m,x,T){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iC(0),this.expirationTimes=iC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iC(0),this.identifierPrefix=x,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Iy(c,h,m,x,T,P,k,Q,te){return c=new H6(c,h,m,Q,te),h===1?(h=1,P===!0&&(h|=8)):h=0,P=ni(3,null,null,h),c.current=P,P.stateNode=c,P.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},$C(P),c}function V6(c,h,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:x==null?null:""+x,children:c,containerInfo:h,implementation:m}}function UT(c){if(!c)return ba;c=c._reactInternals;e:{if(Y(c)!==c||c.tag!==1)throw Error(r(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(us(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(c.tag===1){var m=c.type;if(us(m))return CF(c,m,h)}return h}function zT(c,h,m,x,T,P,k,Q,te){return c=Iy(m,x,!0,c,T,P,k,Q,te),c.context=UT(null),m=c.current,x=Hn(),T=Da(m),P=No(x,T),P.callback=h??null,Fa(m,P,T),c.current.lanes=T,ah(c,T,x),fs(c,x),c}function $g(c,h,m,x){var T=h.current,P=Hn(),k=Da(T);return m=UT(m),h.context===null?h.context=m:h.pendingContext=m,h=No(P,k),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=Fa(T,h,k),c!==null&&(Fi(c,T,k,P),bg(c,T,k)),k}function Kg(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function $T(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<h?m:h}}function Oy(c,h){$T(c,h),(c=c.alternate)&&$T(c,h)}function W6(){return null}var KT=typeof reportError=="function"?reportError:function(c){console.error(c)};function ky(c){this._internalRoot=c}qg.prototype.render=ky.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(r(409));$g(c,h,null,null)},qg.prototype.unmount=ky.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;Gl(function(){$g(null,c,null,null)}),h[To]=null}};function qg(c){this._internalRoot=c}qg.prototype.unstable_scheduleHydration=function(c){if(c){var h=DE();c={blockedOn:null,target:c,priority:h};for(var m=0;m<Ca.length&&h!==0&&h<Ca[m].priority;m++);Ca.splice(m,0,c),m===0&&IE(c)}};function Ly(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Yg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function qT(){}function U6(c,h,m,x,T){if(T){if(typeof x=="function"){var P=x;x=function(){var we=Kg(k);P.call(we)}}var k=zT(h,x,c,0,null,!1,!1,"",qT);return c._reactRootContainer=k,c[To]=k.current,wh(c.nodeType===8?c.parentNode:c),Gl(),k}for(;T=c.lastChild;)c.removeChild(T);if(typeof x=="function"){var Q=x;x=function(){var we=Kg(te);Q.call(we)}}var te=Iy(c,0,!1,null,null,!1,!1,"",qT);return c._reactRootContainer=te,c[To]=te.current,wh(c.nodeType===8?c.parentNode:c),Gl(function(){$g(h,te,m,x)}),te}function Qg(c,h,m,x,T){var P=m._reactRootContainer;if(P){var k=P;if(typeof T=="function"){var Q=T;T=function(){var te=Kg(k);Q.call(te)}}$g(h,k,c,T)}else k=U6(m,h,c,T,x);return Kg(k)}PE=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var m=oh(h.pendingLanes);m!==0&&(oC(h,m|1),fs(h,Ve()),(zt&6)===0&&(Ru=Ve()+500,Ra()))}break;case 13:Gl(function(){var x=Mo(c,1);if(x!==null){var T=Hn();Fi(x,c,1,T)}}),Oy(c,1)}},aC=function(c){if(c.tag===13){var h=Mo(c,134217728);if(h!==null){var m=Hn();Fi(h,c,134217728,m)}Oy(c,134217728)}},AE=function(c){if(c.tag===13){var h=Da(c),m=Mo(c,h);if(m!==null){var x=Hn();Fi(m,c,h,x)}Oy(c,h)}},DE=function(){return nr},ME=function(c,h){var m=nr;try{return nr=c,h()}finally{nr=m}},Si=function(c,h,m){switch(h){case"input":if(We(c,m),h=m.name,m.type==="radio"&&h!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<m.length;h++){var x=m[h];if(x!==c&&x.form===c.form){var T=fg(x);if(!T)throw Error(r(90));Ae(x),We(x,T)}}}break;case"textarea":Ue(c,m);break;case"select":h=m.value,h!=null&&Nt(c,!!m.multiple,h,!1)}},$p=Ty,Kp=Gl;var z6={usingClientEntryPoint:!1,Events:[Rh,du,fg,Up,zp,Ty]},jh={findFiberByHostInstance:Nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$6={bundleType:jh.bundleType,version:jh.version,rendererPackageName:jh.rendererPackageName,rendererConfig:jh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Ce(c),c===null?null:c.stateNode},findFiberByHostInstance:jh.findFiberByHostInstance||W6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xg.isDisabled&&Xg.supportsFiber)try{qi=Xg.inject($6),sn=Xg}catch{}}return ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z6,ps.createPortal=function(c,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ly(h))throw Error(r(200));return V6(c,h,null,m)},ps.createRoot=function(c,h){if(!Ly(c))throw Error(r(299));var m=!1,x="",T=KT;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),h=Iy(c,1,!1,null,null,m,!1,x,T),c[To]=h.current,wh(c.nodeType===8?c.parentNode:c),new ky(h)},ps.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Ce(h),c=c===null?null:c.stateNode,c},ps.flushSync=function(c){return Gl(c)},ps.hydrate=function(c,h,m){if(!Yg(h))throw Error(r(200));return Qg(null,c,h,!0,m)},ps.hydrateRoot=function(c,h,m){if(!Ly(c))throw Error(r(405));var x=m!=null&&m.hydratedSources||null,T=!1,P="",k=KT;if(m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(P=m.identifierPrefix),m.onRecoverableError!==void 0&&(k=m.onRecoverableError)),h=zT(h,null,c,1,m??null,T,!1,P,k),c[To]=h.current,wh(c),x)for(c=0;c<x.length;c++)m=x[c],T=m._getVersion,T=T(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,T]:h.mutableSourceEagerHydrationData.push(m,T);return new qg(h)},ps.render=function(c,h,m){if(!Yg(h))throw Error(r(200));return Qg(null,c,h,!1,m)},ps.unmountComponentAtNode=function(c){if(!Yg(c))throw Error(r(40));return c._reactRootContainer?(Gl(function(){Qg(null,null,c,!1,function(){c._reactRootContainer=null,c[To]=null})}),!0):!1},ps.unstable_batchedUpdates=Ty,ps.unstable_renderSubtreeIntoContainer=function(c,h,m,x){if(!Yg(m))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return Qg(c,h,m,!1,x)},ps.version="18.3.1-next-f1338f8080-20240426",ps}var nP;function GM(){if(nP)return Gy.exports;nP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gy.exports=t8(),Gy.exports}var sP;function r8(){if(sP)return Zg;sP=1;var e=GM();return Zg.createRoot=e.createRoot,Zg.hydrateRoot=e.hydrateRoot,Zg}var n8=r8(),Gh={},iP;function s8(){if(iP)return Gh;iP=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.parse=o,Gh.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,C){const S=new i,y=g.length;if(y<2)return S;const w=(C==null?void 0:C.decode)||f;let b=0;do{const F=g.indexOf("=",b);if(F===-1)break;const E=g.indexOf(";",b),R=E===-1?y:E;if(F>R){b=g.lastIndexOf(";",F-1)+1;continue}const A=a(g,b,F),D=l(g,F,A),M=g.slice(A,D);if(S[M]===void 0){let I=a(g,F+1,R),L=l(g,R,I);const j=w(g.slice(I,L));S[M]=j}b=R+1}while(b<y);return S}function a(g,C,S){do{const y=g.charCodeAt(C);if(y!==32&&y!==9)return C}while(++C<S);return S}function l(g,C,S){for(;C>S;){const y=g.charCodeAt(--C);if(y!==32&&y!==9)return C+1}return S}function u(g,C,S){const y=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const w=y(C);if(!t.test(w))throw new TypeError(`argument val is invalid: ${C}`);let b=g+"="+w;if(!S)return b;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);b+="; Max-Age="+S.maxAge}if(S.domain){if(!r.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);b+="; Domain="+S.domain}if(S.path){if(!n.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);b+="; Path="+S.path}if(S.expires){if(!p(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);b+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(b+="; HttpOnly"),S.secure&&(b+="; Secure"),S.partitioned&&(b+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return b}function f(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return s.call(g)==="[object Date]"}return Gh}s8();var oP="popstate";function i8(e={}){function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return ow("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ff(s)}return a8(t,r,null,e)}function Rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o8(){return Math.random().toString(36).substring(2,10)}function aP(e,t){return{usr:e.state,key:e.key,idx:t}}function ow(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Md(t):t,state:r,key:t&&t.key||n||o8()}}function Ff({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Md(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function a8(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let w=f(),b=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:b})}function g(w,b){a="PUSH";let F=ow(y.location,w,b);u=f()+1;let E=aP(F,u),R=y.createHref(F);try{o.pushState(E,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(R)}i&&l&&l({action:a,location:y.location,delta:1})}function C(w,b){a="REPLACE";let F=ow(y.location,w,b);u=f();let E=aP(F,u),R=y.createHref(F);o.replaceState(E,"",R),i&&l&&l({action:a,location:y.location,delta:0})}function S(w){return l8(w)}let y={get action(){return a},get location(){return e(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(oP,p),l=w,()=>{s.removeEventListener(oP,p),l=null}},createHref(w){return t(s,w)},createURL:S,encodeLocation(w){let b=S(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:C,go(w){return o.go(w)}};return y}function l8(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Rr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ff(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function HM(e,t,r="/"){return c8(e,t,r,!1)}function c8(e,t,r,n){let s=typeof t=="string"?Md(t):t,i=ea(s.pathname||"/",r);if(i==null)return null;let o=VM(e);u8(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=w8(i);a=y8(o[l],u,n)}return a}function VM(e,t=[],r=[],n=""){let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Rr(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=Wo([n,l.relativePath]),f=r.concat(l);i.children&&i.children.length>0&&(Rr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),VM(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:v8(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of WM(i.path))s(i,o,l)}),t}function WM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=WM(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function u8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:C8(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var d8=/^:[\w-]+$/,h8=3,f8=2,p8=1,g8=10,m8=-2,lP=e=>e==="*";function v8(e,t){let r=e.split("/"),n=r.length;return r.some(lP)&&(n+=m8),t&&(n+=f8),r.filter(s=>!lP(s)).reduce((s,i)=>s+(d8.test(i)?h8:i===""?p8:g8),n)}function C8(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function y8(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",p=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),g=l.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Wo([i,p.pathname]),pathnameBase:E8(Wo([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Wo([i,p.pathnameBase]))}return o}function Qm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=S8(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:p},g)=>{if(f==="*"){let S=a[g]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const C=a[g];return p&&!C?u[f]=void 0:u[f]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function S8(e,t=!1,r=!0){Vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function w8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function x8(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Md(e):e;return{pathname:r?r.startsWith("/")?r:b8(r,t):t,search:F8(n),hash:T8(s)}}function b8(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Wy(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R8(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jx(e){let t=R8(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Bx(e,t,r,n=!1){let s;typeof e=="string"?s=Md(e):(s={...e},Rr(!s.pathname||!s.pathname.includes("?"),Wy("?","pathname","search",s)),Rr(!s.pathname||!s.pathname.includes("#"),Wy("#","pathname","hash",s)),Rr(!s.search||!s.search.includes("#"),Wy("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}a=p>=0?t[p]:"/"}let l=x8(s,a),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var Wo=e=>e.join("/").replace(/\/\/+/g,"/"),E8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,P8=class{constructor(e,t){this.type="DataWithResponseInit",this.data=e,this.init=t||null}};function Zv(e,t){return new P8(e,typeof t=="number"?{status:t}:t)}function A8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var UM=["POST","PUT","PATCH","DELETE"];new Set(UM);var D8=["GET",...UM];new Set(D8);var Nd=v.createContext(null);Nd.displayName="DataRouter";var e0=v.createContext(null);e0.displayName="DataRouterState";var zM=v.createContext({isTransitioning:!1});zM.displayName="ViewTransition";var M8=v.createContext(new Map);M8.displayName="Fetchers";var N8=v.createContext(null);N8.displayName="Await";var $i=v.createContext(null);$i.displayName="Navigation";var ap=v.createContext(null);ap.displayName="Location";var Co=v.createContext({outlet:null,matches:[],isDataRoute:!1});Co.displayName="Route";var Gx=v.createContext(null);Gx.displayName="RouteError";function I8(e,{relative:t}={}){Rr(Id(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext($i),{hash:s,pathname:i,search:o}=lp(e,{relative:t}),a=i;return r!=="/"&&(a=i==="/"?r:Wo([r,i])),n.createHref({pathname:a,search:o,hash:s})}function Id(){return v.useContext(ap)!=null}function Ts(){return Rr(Id(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(ap).location}var $M="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KM(e){v.useContext($i).static||v.useLayoutEffect(e)}function jn(){let{isDataRoute:e}=v.useContext(Co);return e?$8():O8()}function O8(){Rr(Id(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Nd),{basename:t,navigator:r}=v.useContext($i),{matches:n}=v.useContext(Co),{pathname:s}=Ts(),i=JSON.stringify(jx(n)),o=v.useRef(!1);return KM(()=>{o.current=!0}),v.useCallback((l,u={})=>{if(Vi(o.current,$M),!o.current)return;if(typeof l=="number"){r.go(l);return}let f=Bx(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Wo([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,i,s,e])}v.createContext(null);function lp(e,{relative:t}={}){let{matches:r}=v.useContext(Co),{pathname:n}=Ts(),s=JSON.stringify(jx(r));return v.useMemo(()=>Bx(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function k8(e,t){return qM(e,t)}function qM(e,t,r,n){var b;Rr(Id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext($i),{matches:i}=v.useContext(Co),o=i[i.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let F=f&&f.path||"";YM(l,!f||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let p=Ts(),g;if(t){let F=typeof t=="string"?Md(t):t;Rr(u==="/"||((b=F.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${F.pathname}" was given in the \`location\` prop.`),g=F}else g=p;let C=g.pathname||"/",S=C;if(u!=="/"){let F=u.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let y=HM(e,{pathname:S});Vi(f||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Vi(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=G8(y&&y.map(F=>Object.assign({},F,{params:Object.assign({},a,F.params),pathname:Wo([u,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?u:Wo([u,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),i,r,n);return t&&w?v.createElement(ap.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function L8(){let e=z8(),t=A8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,o)}var _8=v.createElement(L8,null),j8=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(Co.Provider,{value:this.props.routeContext},v.createElement(Gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B8({routeContext:e,match:t,children:r}){let n=v.useContext(Nd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Co.Provider,{value:e},r)}function G8(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let l=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);Rr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let o=!1,a=-1;if(r)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:f,errors:p}=r,g=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,f)=>{let p,g=!1,C=null,S=null;r&&(p=i&&u.route.id?i[u.route.id]:void 0,C=u.route.errorElement||_8,o&&(a<0&&f===0?(YM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,S=null):a===f&&(g=!0,S=u.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,f+1)),w=()=>{let b;return p?b=C:g?b=S:u.route.Component?b=v.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=l,v.createElement(B8,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:r!=null},children:b})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?v.createElement(j8,{location:r.location,revalidation:r.revalidation,component:C,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}function Hx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H8(e){let t=v.useContext(Nd);return Rr(t,Hx(e)),t}function V8(e){let t=v.useContext(e0);return Rr(t,Hx(e)),t}function W8(e){let t=v.useContext(Co);return Rr(t,Hx(e)),t}function Vx(e){let t=W8(e),r=t.matches[t.matches.length-1];return Rr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function U8(){return Vx("useRouteId")}function z8(){var n;let e=v.useContext(Gx),t=V8("useRouteError"),r=Vx("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function $8(){let{router:e}=H8("useNavigate"),t=Vx("useNavigate"),r=v.useRef(!1);return KM(()=>{r.current=!0}),v.useCallback(async(s,i={})=>{Vi(r.current,$M),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var cP={};function YM(e,t,r){!t&&!cP[e]&&(cP[e]=!0,Vi(!1,r))}v.memo(K8);function K8({routes:e,future:t,state:r}){return qM(e,void 0,r,t)}function q8({to:e,replace:t,state:r,relative:n}){Rr(Id(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext($i);Vi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(Co),{pathname:o}=Ts(),a=jn(),l=Bx(e,jx(i),o,n==="path"),u=JSON.stringify(l);return v.useEffect(()=>{a(JSON.parse(u),{replace:t,state:r,relative:n})},[a,u,n,t,r]),null}function Kt(e){Rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y8({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Rr(!Id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Md(r));let{pathname:l="/",search:u="",hash:f="",state:p=null,key:g="default"}=r,C=v.useMemo(()=>{let S=ea(l,o);return S==null?null:{location:{pathname:S,search:u,hash:f,state:p,key:g},navigationType:n}},[o,l,u,f,p,g,n]);return Vi(C!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:v.createElement($i.Provider,{value:a},v.createElement(ap.Provider,{children:t,value:C}))}function Q8({children:e,location:t}){return k8(aw(e),t)}function aw(e,t=[]){let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let i=[...t,s];if(n.type===v.Fragment){r.push.apply(r,aw(n.props.children,i));return}Rr(n.type===Kt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=aw(n.props.children,i)),r.push(o)}),r}var Nm="get",Im="application/x-www-form-urlencoded";function t0(e){return e!=null&&typeof e.tagName=="string"}function X8(e){return t0(e)&&e.tagName.toLowerCase()==="button"}function J8(e){return t0(e)&&e.tagName.toLowerCase()==="form"}function Z8(e){return t0(e)&&e.tagName.toLowerCase()==="input"}function eH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tH(e,t){return e.button===0&&(!t||t==="_self")&&!eH(e)}var em=null;function rH(){if(em===null)try{new FormData(document.createElement("form"),0),em=!1}catch{em=!0}return em}var nH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uy(e){return e!=null&&!nH.has(e)?(Vi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Im}"`),null):e}function sH(e,t){let r,n,s,i,o;if(J8(e)){let a=e.getAttribute("action");n=a?ea(a,t):null,r=e.getAttribute("method")||Nm,s=Uy(e.getAttribute("enctype"))||Im,i=new FormData(e)}else if(X8(e)||Z8(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(n=l?ea(l,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||Nm,s=Uy(e.getAttribute("formenctype"))||Uy(a.getAttribute("enctype"))||Im,i=new FormData(a,e),!rH()){let{name:u,type:f,value:p}=e;if(f==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,p)}}else{if(t0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Nm,n=null,s=Im,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}function Wx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function iH(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function aH(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await iH(i,r);return o.links?o.links():[]}return[]}));return dH(n.flat(1).filter(oH).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function uP(e,t,r,n,s,i){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var f;return r[u].pathname!==l.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var p;let f=n.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function lH(e,t,{includeHydrateFallback:r}={}){return cH(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function cH(e){return[...new Set(e)]}function uH(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function dH(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(uH(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hH=new Set([100,101,204,205]);function fH(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&ea(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function QM(){let e=v.useContext(Nd);return Wx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pH(){let e=v.useContext(e0);return Wx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ux=v.createContext(void 0);Ux.displayName="FrameworkContext";function XM(){let e=v.useContext(Ux);return Wx(e,"You must render this element inside a <HydratedRouter> element"),e}function gH(e,t){let r=v.useContext(Ux),[n,s]=v.useState(!1),[i,o]=v.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:p}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=b=>{b.forEach(F=>{o(F.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let C=()=>{s(!0)},S=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Hh(a,C),onBlur:Hh(l,S),onMouseEnter:Hh(u,C),onMouseLeave:Hh(f,S),onTouchStart:Hh(p,C)}]:[!1,g,{}]}function Hh(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function mH({page:e,...t}){let{router:r}=QM(),n=v.useMemo(()=>HM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(CH,{page:e,matches:n,...t}):null}function vH(e){let{manifest:t,routeModules:r}=XM(),[n,s]=v.useState([]);return v.useEffect(()=>{let i=!1;return aH(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function CH({page:e,matches:t,...r}){let n=Ts(),{manifest:s,routeModules:i}=XM(),{basename:o}=QM(),{loaderData:a,matches:l}=pH(),u=v.useMemo(()=>uP(e,t,l,s,n,"data"),[e,t,l,s,n]),f=v.useMemo(()=>uP(e,t,l,s,n,"assets"),[e,t,l,s,n]),p=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,y=!1;if(t.forEach(b=>{var E;let F=s.routes[b.route.id];!F||!F.hasLoader||(!u.some(R=>R.route.id===b.route.id)&&b.route.id in a&&((E=i[b.route.id])!=null&&E.shouldRevalidate)||F.hasClientLoader?y=!0:S.add(b.route.id))}),S.size===0)return[];let w=fH(e,o);return y&&S.size>0&&w.searchParams.set("_routes",t.filter(b=>S.has(b.route.id)).map(b=>b.route.id).join(",")),[w.pathname+w.search]},[o,a,n,s,u,t,e,i]),g=v.useMemo(()=>lH(f,s),[f,s]),C=vH(f);return v.createElement(v.Fragment,null,p.map(S=>v.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),g.map(S=>v.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),C.map(({key:S,link:y})=>v.createElement("link",{key:S,...y})))}function yH(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var JM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JM&&(window.__reactRouterVersion="7.6.1")}catch{}function SH({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=i8({window:r,v5Compat:!0}));let s=n.current,[i,o]=v.useState({action:s.action,location:s.location}),a=v.useCallback(l=>{v.startTransition(()=>o(l))},[o]);return v.useLayoutEffect(()=>s.listen(a),[s,a]),v.createElement(Y8,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var ZM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eN=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:p,...g},C){let{basename:S}=v.useContext($i),y=typeof u=="string"&&ZM.test(u),w,b=!1;if(typeof u=="string"&&y&&(w=u,JM))try{let L=new URL(window.location.href),j=u.startsWith("//")?new URL(L.protocol+u):new URL(u),W=ea(j.pathname,S);j.origin===L.origin&&W!=null?u=W+j.search+j.hash:b=!0}catch{Vi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=I8(u,{relative:s}),[E,R,A]=gH(n,g),D=RH(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:p});function M(L){t&&t(L),L.defaultPrevented||D(L)}let I=v.createElement("a",{...g,...A,href:w||F,onClick:b||i?t:M,ref:yH(C,R),target:l,"data-discover":!y&&r==="render"?"true":void 0});return E&&!y?v.createElement(v.Fragment,null,I,v.createElement(mH,{page:F})):I});eN.displayName="Link";var wH=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},f){let p=lp(o,{relative:u.relative}),g=Ts(),C=v.useContext(e0),{navigator:S,basename:y}=v.useContext($i),w=C!=null&&AH(p)&&a===!0,b=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,F=g.pathname,E=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(F=F.toLowerCase(),E=E?E.toLowerCase():null,b=b.toLowerCase()),E&&y&&(E=ea(E,y)||E);const R=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=F===b||!s&&F.startsWith(b)&&F.charAt(R)==="/",D=E!=null&&(E===b||!s&&E.startsWith(b)&&E.charAt(b.length)==="/"),M={isActive:A,isPending:D,isTransitioning:w},I=A?t:void 0,L;typeof n=="function"?L=n(M):L=[n,A?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let j=typeof i=="function"?i(M):i;return v.createElement(eN,{...u,"aria-current":I,className:L,ref:f,style:j,to:o,viewTransition:a},typeof l=="function"?l(M):l)});wH.displayName="NavLink";var xH=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Nm,action:a,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:p,...g},C)=>{let S=TH(),y=PH(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&ZM.test(a),F=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let R=E.nativeEvent.submitter,A=(R==null?void 0:R.getAttribute("formmethod"))||o;S(R||E.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:s,state:i,relative:u,preventScrollReset:f,viewTransition:p})};return v.createElement("form",{ref:C,method:w,action:y,onSubmit:n?l:F,...g,"data-discover":!b&&e==="render"?"true":void 0})});xH.displayName="Form";function bH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tN(e){let t=v.useContext(Nd);return Rr(t,bH(e)),t}function RH(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=jn(),l=Ts(),u=lp(e,{relative:i});return v.useCallback(f=>{if(tH(f,t)){f.preventDefault();let p=r!==void 0?r:Ff(l)===Ff(u);a(e,{replace:p,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,r,n,t,e,s,i,o])}var EH=0,FH=()=>`__${String(++EH)}__`;function TH(){let{router:e}=tN("useSubmit"),{basename:t}=v.useContext($i),r=U8();return v.useCallback(async(n,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=sH(n,t);if(s.navigate===!1){let f=s.fetcherKey||FH();await e.fetch(f,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function PH(e,{relative:t}={}){let{basename:r}=v.useContext($i),n=v.useContext(Co);Rr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...lp(e||".",{relative:t})},o=Ts();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Wo([r,i.pathname])),Ff(i)}function AH(e,t={}){let r=v.useContext(zM);Rr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=tN("useViewTransitionState"),s=lp(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ea(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ea(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qm(s.pathname,o)!=null||Qm(s.pathname,i)!=null}[...hH];var jc=GM();const rN=Xv(jc),Qr=()=>d.jsx("div",{className:"flex h-screen/2 items-center justify-center ",children:d.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"})}),nN=v.createContext(null),zx=()=>{const e=v.useContext(nN);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},DH=({children:e})=>{const[t,r]=v.useState(!1),[n,s]=v.useState(!0),i=()=>{r(!0)};v.useEffect(()=>{const a=localStorage.getItem("user");a&&(console.log(a),r(!0)),s(!1)},[]);const o=()=>{localStorage.removeItem("user"),r(!1)};return d.jsx(nN.Provider,{value:{isAuthenticated:t,login:i,logout:o,isLoading:n},children:e})},Zt=({children:e})=>{const{isAuthenticated:t,isLoading:r}=zx();return r?d.jsx(Qr,{}):t?d.jsxs(d.Fragment,{children:[" ",e," "]}):d.jsx(q8,{to:"/",replace:!0})};var sN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dP=De.createContext&&De.createContext(sN),MH=["attr","size","title"];function NH(e,t){if(e==null)return{};var r=IH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(this,arguments)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return t=kH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kH(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iN(e){return e&&e.map((t,r)=>De.createElement(t.tag,Jm({key:r},t.attr),iN(t.child)))}function Xr(e){return t=>De.createElement(_H,Xm({attr:Jm({},e.attr)},t),iN(e.child))}function _H(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=NH(e,MH),a=s||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),De.createElement("svg",Xm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Jm(Jm({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&De.createElement("title",null,i),e.children)};return dP!==void 0?De.createElement(dP.Consumer,null,r=>t(r)):t(sN)}function jH(e){return Xr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function BH(e){return Xr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function GH(e){return Xr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function HH(e){return Xr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}let VH={data:""},WH=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||VH,UH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zH=/\/\*[^]*?\*\/|  +/g,fP=/\n+/g,Ua=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Ua(o,i):i+"{"+Ua(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ua(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ua.p?Ua.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},ko={},oN=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+oN(e[r]);return t}return e},$H=(e,t,r,n,s)=>{let i=oN(e),o=ko[i]||(ko[i]=(l=>{let u=0,f=11;for(;u<l.length;)f=101*f+l.charCodeAt(u++)>>>0;return"go"+f})(i));if(!ko[o]){let l=i!==e?e:(u=>{let f,p,g=[{}];for(;f=UH.exec(u.replace(zH,""));)f[4]?g.shift():f[3]?(p=f[3].replace(fP," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][f[1]]=f[2].replace(fP," ").trim();return g[0]})(e);ko[o]=Ua(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&ko.g?ko.g:null;return r&&(ko.g=ko[o]),((l,u,f,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=f?l+u.data:u.data+l)})(ko[o],t,n,a),o},KH=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ua(a,""):a===!1?"":a}return n+s+(o??"")},"");function r0(e){let t=this||{},r=e.call?e(t.p):e;return $H(r.unshift?r.raw?KH(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,WH(t.target),t.g,t.o,t.k)}let aN,lw,cw;r0.bind({g:1});let ta=r0.bind({k:1});function qH(e,t,r,n){Ua.p=t,aN=e,lw=r,cw=n}function Cl(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:lw&&lw()},a),r.o=/ *go\d+/.test(l),a.className=r0.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),cw&&u[0]&&cw(a),aN(u,a)}return s}}var YH=e=>typeof e=="function",Zm=(e,t)=>YH(e)?e(t):e,QH=(()=>{let e=0;return()=>(++e).toString()})(),lN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),XH=20,cN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,XH)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return cN(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Om=[],tc={toasts:[],pausedAt:void 0},Bc=e=>{tc=cN(tc,e),Om.forEach(t=>{t(tc)})},JH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ZH=(e={})=>{let[t,r]=v.useState(tc),n=v.useRef(tc);v.useEffect(()=>(n.current!==tc&&r(tc),Om.push(r),()=>{let i=Om.indexOf(r);i>-1&&Om.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||JH[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},eV=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||QH()}),cp=e=>(t,r)=>{let n=eV(t,e,r);return Bc({type:2,toast:n}),n.id},Yn=(e,t)=>cp("blank")(e,t);Yn.error=cp("error");Yn.success=cp("success");Yn.loading=cp("loading");Yn.custom=cp("custom");Yn.dismiss=e=>{Bc({type:3,toastId:e})};Yn.remove=e=>Bc({type:4,toastId:e});Yn.promise=(e,t,r)=>{let n=Yn.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Zm(t.success,s):void 0;return i?Yn.success(i,{id:n,...r,...r==null?void 0:r.success}):Yn.dismiss(n),s}).catch(s=>{let i=t.error?Zm(t.error,s):void 0;i?Yn.error(i,{id:n,...r,...r==null?void 0:r.error}):Yn.dismiss(n)}),e};var tV=(e,t)=>{Bc({type:1,toast:{id:e,height:t}})},rV=()=>{Bc({type:5,time:Date.now()})},lf=new Map,nV=1e3,sV=(e,t=nV)=>{if(lf.has(e))return;let r=setTimeout(()=>{lf.delete(e),Bc({type:4,toastId:e})},t);lf.set(e,r)},iV=e=>{let{toasts:t,pausedAt:r}=ZH(e);v.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Yn.dismiss(a.id);return}return setTimeout(()=>Yn.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=v.useCallback(()=>{r&&Bc({type:6,time:Date.now()})},[r]),s=v.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},f=t.filter(C=>(C.position||u)===(i.position||u)&&C.height),p=f.findIndex(C=>C.id===i.id),g=f.filter((C,S)=>S<p&&C.visible).length;return f.filter(C=>C.visible).slice(...a?[g+1]:[0,g]).reduce((C,S)=>C+(S.height||0)+l,0)},[t]);return v.useEffect(()=>{t.forEach(i=>{if(i.dismissed)sV(i.id,i.removeDelay);else{let o=lf.get(i.id);o&&(clearTimeout(o),lf.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:tV,startPause:rV,endPause:n,calculateOffset:s}}},oV=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aV=ta`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lV=ta`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cV=Cl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uV=ta`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dV=Cl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${uV} 1s linear infinite;
`,hV=ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,fV=ta`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,pV=Cl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${fV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gV=Cl("div")`
  position: absolute;
`,mV=Cl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,vV=ta`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CV=Cl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${vV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yV=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?v.createElement(CV,null,t):t:r==="blank"?null:v.createElement(mV,null,v.createElement(dV,{...n}),r!=="loading"&&v.createElement(gV,null,r==="error"?v.createElement(cV,{...n}):v.createElement(pV,{...n})))},SV=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wV=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,xV="0%{opacity:0;} 100%{opacity:1;}",bV="0%{opacity:1;} 100%{opacity:0;}",RV=Cl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,EV=Cl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,FV=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=lN()?[xV,bV]:[SV(r),wV(r)];return{animation:t?`${ta(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ta(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},TV=v.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?FV(e.position||t||"top-center",e.visible):{opacity:0},i=v.createElement(yV,{toast:e}),o=v.createElement(EV,{...e.ariaProps},Zm(e.message,e));return v.createElement(RV,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});qH(v.createElement);var PV=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=v.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return v.createElement("div",{ref:i,className:t,style:r},s)},AV=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:lN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},DV=r0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,tm=16,MV=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=iV(r);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:tm,left:tm,right:tm,bottom:tm,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let f=u.position||t,p=l.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),g=AV(f,p);return v.createElement(PV,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?DV:"",style:g},u.type==="custom"?Zm(u.message,u):s?s(u):v.createElement(TV,{toast:u,position:f}))}))},nt=Yn;function uN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=uN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dN(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=uN(e))&&(n&&(n+=" "),n+=t);return n}const $x="-",NV=e=>{const t=OV(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split($x);return a[0]===""&&a.length!==1&&a.shift(),hN(a,t)||IV(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},hN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?hN(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join($x);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},pP=/^\[(.+)\]$/,IV=e=>{if(pP.test(e)){const t=pP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},OV=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return LV(Object.entries(e.classGroups),r).forEach(([i,o])=>{uw(o,n,i,t)}),n},uw=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:gP(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(kV(s)){uw(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{uw(o,gP(t,i),r,n)})})},gP=(e,t)=>{let r=e;return t.split($x).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},kV=e=>e.isThemeGetter,LV=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,_V=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},fN="!",jV=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,f=0,p;for(let w=0;w<a.length;w++){let b=a[w];if(u===0){if(b===s&&(n||a.slice(w,w+i)===t)){l.push(a.slice(f,w)),f=w+i;continue}if(b==="/"){p=w;continue}}b==="["?u++:b==="]"&&u--}const g=l.length===0?a:a.substring(f),C=g.startsWith(fN),S=C?g.substring(1):g,y=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:C,baseClassName:S,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:o}):o},BV=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},GV=e=>({cache:_V(e.cacheSize),parseClassName:jV(e),...NV(e)}),HV=/\s+/,VV=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(HV);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:C}=r(u);let S=!!C,y=n(S?g.substring(0,C):g);if(!y){if(!S){a=u+(a.length>0?" "+a:a);continue}if(y=n(g),!y){a=u+(a.length>0?" "+a:a);continue}S=!1}const w=BV(f).join(":"),b=p?w+fN:w,F=b+y;if(i.includes(F))continue;i.push(F);const E=s(y,S);for(let R=0;R<E.length;++R){const A=E[R];i.push(b+A)}a=u+(a.length>0?" "+a:a)}return a};function WV(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=pN(t))&&(n&&(n+=" "),n+=r);return n}const pN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=pN(e[n]))&&(r&&(r+=" "),r+=t);return r};function UV(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((f,p)=>p(f),e());return r=GV(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const f=VV(l,r);return s(l,f),f}return function(){return i(WV.apply(null,arguments))}}const Cr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},gN=/^\[(?:([a-z-]+):)?(.+)\]$/i,zV=/^\d+\/\d+$/,$V=new Set(["px","full","screen"]),KV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lo=e=>Ku(e)||$V.has(e)||zV.test(e),Oa=e=>Od(e,"length",i9),Ku=e=>!!e&&!Number.isNaN(Number(e)),zy=e=>Od(e,"number",Ku),Vh=e=>!!e&&Number.isInteger(Number(e)),JV=e=>e.endsWith("%")&&Ku(e.slice(0,-1)),It=e=>gN.test(e),ka=e=>KV.test(e),ZV=new Set(["length","size","percentage"]),e9=e=>Od(e,ZV,mN),t9=e=>Od(e,"position",mN),r9=new Set(["image","url"]),n9=e=>Od(e,r9,a9),s9=e=>Od(e,"",o9),Wh=()=>!0,Od=(e,t,r)=>{const n=gN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},i9=e=>qV.test(e)&&!YV.test(e),mN=()=>!1,o9=e=>QV.test(e),a9=e=>XV.test(e),l9=()=>{const e=Cr("colors"),t=Cr("spacing"),r=Cr("blur"),n=Cr("brightness"),s=Cr("borderColor"),i=Cr("borderRadius"),o=Cr("borderSpacing"),a=Cr("borderWidth"),l=Cr("contrast"),u=Cr("grayscale"),f=Cr("hueRotate"),p=Cr("invert"),g=Cr("gap"),C=Cr("gradientColorStops"),S=Cr("gradientColorStopPositions"),y=Cr("inset"),w=Cr("margin"),b=Cr("opacity"),F=Cr("padding"),E=Cr("saturate"),R=Cr("scale"),A=Cr("sepia"),D=Cr("skew"),M=Cr("space"),I=Cr("translate"),L=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",It,t],B=()=>[It,t],ie=()=>["",Lo,Oa],Se=()=>["auto",Ku,It],Ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],xe=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",It],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ku,It];return{cacheSize:500,separator:":",theme:{colors:[Wh],spacing:[Lo,Oa],blur:["none","",ka,It],brightness:z(),borderColor:[e],borderRadius:["none","","full",ka,It],borderSpacing:B(),borderWidth:ie(),contrast:z(),grayscale:re(),hueRotate:z(),invert:re(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[JV,Oa],inset:W(),margin:W(),opacity:z(),padding:B(),saturate:z(),scale:z(),sepia:re(),skew:z(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[ka]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ee(),It]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vh,It]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Vh,It]}],"grid-cols":[{"grid-cols":[Wh]}],"col-start-end":[{col:["auto",{span:["full",Vh,It]},It]}],"col-start":[{"col-start":Se()}],"col-end":[{"col-end":Se()}],"grid-rows":[{"grid-rows":[Wh]}],"row-start-end":[{row:["auto",{span:[Vh,It]},It]}],"row-start":[{"row-start":Se()}],"row-end":[{"row-end":Se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,t]}],"min-w":[{"min-w":[It,t,"min","max","fit"]}],"max-w":[{"max-w":[It,t,"none","full","min","max","fit","prose",{screen:[ka]},ka]}],h:[{h:[It,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ka,Oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zy]}],"font-family":[{font:[Wh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",Ku,zy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lo,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lo,Oa]}],"underline-offset":[{"underline-offset":["auto",Lo,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ee(),t9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n9]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...xe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:xe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...xe()]}],"outline-offset":[{"outline-offset":[Lo,It]}],"outline-w":[{outline:[Lo,Oa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Lo,Oa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ka,s9]}],"shadow-color":[{shadow:[Wh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ka,It]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[E]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Vh,It]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Lo,Oa,zy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},c9=UV(l9);function _t(...e){return c9(dN(e))}const be=v.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:_t("mt-1 w-full flex h-9 rounded-md border border-input border-gray-300 dark:border-gray-600 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));be.displayName="Input";function mP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ra(...e){return t=>{let r=!1;const n=e.map(s=>{const i=mP(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():mP(e[s],null)}}}}function Ht(...e){return v.useCallback(ra(...e),e)}function il(e){const t=d9(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,a=v.Children.toArray(i),l=a.find(f9);if(l){const u=l.props.children,f=a.map(p=>p===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:p);return d.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,f):null})}return d.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var u9=il("Slot");function d9(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=g9(s),a=p9(i,s.props);return s.type!==v.Fragment&&(a.ref=n?ra(n,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vN=Symbol("radix.slottable");function h9(e){const t=({children:r})=>d.jsx(d.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=vN,t}function f9(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vN}function p9(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function g9(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const vP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,CP=dN,CN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return CP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],p=i==null?void 0:i[u];if(f===null)return null;const g=vP(f)||vP(p);return s[u][g]}),a=r&&Object.entries(r).reduce((u,f)=>{let[p,g]=f;return g===void 0||(u[p]=g),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:p,className:g,...C}=f;return Object.entries(C).every(S=>{let[y,w]=S;return Array.isArray(w)?w.includes({...i,...a}[y]):{...i,...a}[y]===w})?[...u,p,g]:u},[]);return CP(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},m9=CN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ot=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?u9:"button";return d.jsx(o,{className:_t(m9({variant:t,size:r,className:e})),ref:i,...s})});Ot.displayName="Button";const xc="http://20.219.1.165:8096",_e=async(e,t={})=>{const r=localStorage.getItem("token"),n={"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{},...t.headers};try{const s=await fetch(`${xc}${e}`,{...t,headers:n,cache:"no-cache"});if(!s.ok){let i="Something went wrong";try{i=(await s.json()).message||i}catch{i=s.statusText||i}throw new Error(i)}return await s.json()}catch(s){throw console.error("Error fetching data:",s),s}};var kd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bc=typeof window>"u"||"Deno"in globalThis;function $n(){}function v9(e,t){return typeof e=="function"?e(t):e}function dw(e){return typeof e=="number"&&e>=0&&e!==1/0}function yN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qu(e,t){return typeof e=="function"?e(t):e}function ki(e,t){return typeof e=="function"?e(t):e}function yP(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==Kx(o,t.options))return!1}else if(!Tf(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function SP(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Rc(t.options.mutationKey)!==Rc(i))return!1}else if(!Tf(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Kx(e,t){return((t==null?void 0:t.queryKeyHashFn)||Rc)(e)}function Rc(e){return JSON.stringify(e,(t,r)=>hw(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Tf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Tf(e[r],t[r])):!1}function SN(e,t){if(e===t)return e;const r=wP(e)&&wP(t);if(r||hw(e)&&hw(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,a=r?[]:{};let l=0;for(let u=0;u<o;u++){const f=r?u:i[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,l++):(a[f]=SN(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&l++)}return s===o&&l===s?e:a}return t}function ev(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function wP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hw(e){if(!xP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xP(e){return Object.prototype.toString.call(e)==="[object Object]"}function C9(e){return new Promise(t=>{setTimeout(t,e)})}function fw(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?SN(e,t):t}function y9(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function S9(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var qx=Symbol();function wN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function xN(e,t){return typeof e=="function"?e(...t):!!e}var ic,za,id,PM,w9=(PM=class extends kd{constructor(){super();Rt(this,ic);Rt(this,za);Rt(this,id);at(this,id,t=>{if(!bc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ee(this,za)||this.setEventListener(ee(this,id))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,za))==null||t.call(this),at(this,za,void 0))}setEventListener(t){var r;at(this,id,t),(r=ee(this,za))==null||r.call(this),at(this,za,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ee(this,ic)!==t&&(at(this,ic,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ee(this,ic)=="boolean"?ee(this,ic):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ic=new WeakMap,za=new WeakMap,id=new WeakMap,PM),Yx=new w9,od,$a,ad,AM,x9=(AM=class extends kd{constructor(){super();Rt(this,od,!0);Rt(this,$a);Rt(this,ad);at(this,ad,t=>{if(!bc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ee(this,$a)||this.setEventListener(ee(this,ad))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,$a))==null||t.call(this),at(this,$a,void 0))}setEventListener(t){var r;at(this,ad,t),(r=ee(this,$a))==null||r.call(this),at(this,$a,t(this.setOnline.bind(this)))}setOnline(t){ee(this,od)!==t&&(at(this,od,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ee(this,od)}},od=new WeakMap,$a=new WeakMap,ad=new WeakMap,AM),tv=new x9;function pw(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function b9(e){return Math.min(1e3*2**e,3e4)}function bN(e){return(e??"online")==="online"?tv.isOnline():!0}var RN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $y(e){return e instanceof RN}function EN(e){let t=!1,r=0,n=!1,s;const i=pw(),o=y=>{var w;n||(g(new RN(y)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>Yx.isFocused()&&(e.networkMode==="always"||tv.isOnline())&&e.canRun(),f=()=>bN(e.networkMode)&&e.canRun(),p=y=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,y),s==null||s(),i.resolve(y))},g=y=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,y),s==null||s(),i.reject(y))},C=()=>new Promise(y=>{var w;s=b=>{(n||u())&&y(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),S=()=>{if(n)return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(p).catch(b=>{var D;if(n)return;const F=e.retry??(bc?0:3),E=e.retryDelay??b9,R=typeof E=="function"?E(r,b):E,A=F===!0||typeof F=="number"&&r<F||typeof F=="function"&&F(r,b);if(t||!A){g(b);return}r++,(D=e.onFail)==null||D.call(e,r,b),C9(R).then(()=>u()?void 0:C()).then(()=>{t?g(b):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?S():C().then(S),i)}}var R9=e=>setTimeout(e,0);function E9(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=R9;const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var rn=E9(),oc,DM,FN=(DM=class{constructor(){Rt(this,oc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dw(this.gcTime)&&at(this,oc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bc?1/0:5*60*1e3))}clearGcTimeout(){ee(this,oc)&&(clearTimeout(ee(this,oc)),at(this,oc,void 0))}},oc=new WeakMap,DM),ld,cd,ci,ac,Mn,np,lc,Ni,jo,MM,F9=(MM=class extends FN{constructor(t){super();Rt(this,Ni);Rt(this,ld);Rt(this,cd);Rt(this,ci);Rt(this,ac);Rt(this,Mn);Rt(this,np);Rt(this,lc);at(this,lc,!1),at(this,np,t.defaultOptions),this.setOptions(t.options),this.observers=[],at(this,ac,t.client),at(this,ci,ee(this,ac).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,at(this,ld,T9(this.options)),this.state=t.state??ee(this,ld),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ee(this,Mn))==null?void 0:t.promise}setOptions(t){this.options={...ee(this,np),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,ci).remove(this)}setData(t,r){const n=fw(this.state.data,t,this.options);return kt(this,Ni,jo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){kt(this,Ni,jo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=ee(this,Mn))==null?void 0:n.promise;return(s=ee(this,Mn))==null||s.cancel(t),r?r.then($n).catch($n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,ld))}isActive(){return this.observers.some(t=>ki(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!yN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ee(this,Mn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ee(this,Mn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ee(this,ci).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ee(this,Mn)&&(ee(this,lc)?ee(this,Mn).cancel({revert:!0}):ee(this,Mn).cancelRetry()),this.scheduleGc()),ee(this,ci).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||kt(this,Ni,jo).call(this,{type:"invalidate"})}fetch(t,r){var l,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ee(this,Mn))return ee(this,Mn).continueRetry(),ee(this,Mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(at(this,lc,!0),n.signal)})},i=()=>{const p=wN(this.options,r),g={client:ee(this,ac),queryKey:this.queryKey,meta:this.meta};return s(g),at(this,lc,!1),this.options.persister?this.options.persister(p,g,this):p(g)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ee(this,ac),state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),at(this,cd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&kt(this,Ni,jo).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const a=p=>{var g,C,S,y;$y(p)&&p.silent||kt(this,Ni,jo).call(this,{type:"error",error:p}),$y(p)||((C=(g=ee(this,ci).config).onError)==null||C.call(g,p,this),(y=(S=ee(this,ci).config).onSettled)==null||y.call(S,this.state.data,p,this)),this.scheduleGc()};return at(this,Mn,EN({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var g,C,S,y;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){a(w);return}(C=(g=ee(this,ci).config).onSuccess)==null||C.call(g,p,this),(y=(S=ee(this,ci).config).onSettled)==null||y.call(S,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,g)=>{kt(this,Ni,jo).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{kt(this,Ni,jo).call(this,{type:"pause"})},onContinue:()=>{kt(this,Ni,jo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ee(this,Mn).start()}},ld=new WeakMap,cd=new WeakMap,ci=new WeakMap,ac=new WeakMap,Mn=new WeakMap,np=new WeakMap,lc=new WeakMap,Ni=new WeakSet,jo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...TN(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return $y(s)&&s.revert&&ee(this,cd)?{...ee(this,cd),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),rn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ee(this,ci).notify({query:this,type:"updated",action:t})})},MM);function TN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function T9(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var no,NM,P9=(NM=class extends kd{constructor(t={}){super();Rt(this,no);this.config=t,at(this,no,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Kx(s,r);let o=this.get(i);return o||(o=new F9({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){ee(this,no).has(t.queryHash)||(ee(this,no).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ee(this,no).get(t.queryHash);r&&(t.destroy(),r===t&&ee(this,no).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ee(this,no).get(t)}getAll(){return[...ee(this,no).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yP(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yP(t,n)):r}notify(t){rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},no=new WeakMap,NM),so,Un,cc,io,Ba,IM,A9=(IM=class extends FN{constructor(t){super();Rt(this,io);Rt(this,so);Rt(this,Un);Rt(this,cc);this.mutationId=t.mutationId,at(this,Un,t.mutationCache),at(this,so,[]),this.state=t.state||PN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ee(this,so).includes(t)||(ee(this,so).push(t),this.clearGcTimeout(),ee(this,Un).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){at(this,so,ee(this,so).filter(r=>r!==t)),this.scheduleGc(),ee(this,Un).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ee(this,so).length||(this.state.status==="pending"?this.scheduleGc():ee(this,Un).remove(this))}continue(){var t;return((t=ee(this,cc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,l,u,f,p,g,C,S,y,w,b,F,E,R,A,D,M,I;const r=()=>{kt(this,io,Ba).call(this,{type:"continue"})};at(this,cc,EN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,j)=>{kt(this,io,Ba).call(this,{type:"failed",failureCount:L,error:j})},onPause:()=>{kt(this,io,Ba).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,Un).canRun(this)}));const n=this.state.status==="pending",s=!ee(this,cc).canStart();try{if(n)r();else{kt(this,io,Ba).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=ee(this,Un).config).onMutate)==null?void 0:o.call(i,t,this));const j=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));j!==this.state.context&&kt(this,io,Ba).call(this,{type:"pending",context:j,variables:t,isPaused:s})}const L=await ee(this,cc).start();return await((f=(u=ee(this,Un).config).onSuccess)==null?void 0:f.call(u,L,t,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,L,t,this.state.context)),await((S=(C=ee(this,Un).config).onSettled)==null?void 0:S.call(C,L,null,this.state.variables,this.state.context,this)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,L,null,t,this.state.context)),kt(this,io,Ba).call(this,{type:"success",data:L}),L}catch(L){try{throw await((F=(b=ee(this,Un).config).onError)==null?void 0:F.call(b,L,t,this.state.context,this)),await((R=(E=this.options).onError)==null?void 0:R.call(E,L,t,this.state.context)),await((D=(A=ee(this,Un).config).onSettled)==null?void 0:D.call(A,void 0,L,this.state.variables,this.state.context,this)),await((I=(M=this.options).onSettled)==null?void 0:I.call(M,void 0,L,t,this.state.context)),L}finally{kt(this,io,Ba).call(this,{type:"error",error:L})}}finally{ee(this,Un).runNext(this)}}},so=new WeakMap,Un=new WeakMap,cc=new WeakMap,io=new WeakSet,Ba=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rn.batch(()=>{ee(this,so).forEach(n=>{n.onMutationUpdate(t)}),ee(this,Un).notify({mutation:this,type:"updated",action:t})})},IM);function PN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ho,Ii,sp,OM,D9=(OM=class extends kd{constructor(t={}){super();Rt(this,Ho);Rt(this,Ii);Rt(this,sp);this.config=t,at(this,Ho,new Set),at(this,Ii,new Map),at(this,sp,0)}build(t,r,n){const s=new A9({mutationCache:this,mutationId:++Jg(this,sp)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){ee(this,Ho).add(t);const r=rm(t);if(typeof r=="string"){const n=ee(this,Ii).get(r);n?n.push(t):ee(this,Ii).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ee(this,Ho).delete(t)){const r=rm(t);if(typeof r=="string"){const n=ee(this,Ii).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&ee(this,Ii).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=rm(t);if(typeof r=="string"){const n=ee(this,Ii).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=rm(t);if(typeof r=="string"){const s=(n=ee(this,Ii).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rn.batch(()=>{ee(this,Ho).forEach(t=>{this.notify({type:"removed",mutation:t})}),ee(this,Ho).clear(),ee(this,Ii).clear()})}getAll(){return Array.from(ee(this,Ho))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>SP(r,n))}findAll(t={}){return this.getAll().filter(r=>SP(t,r))}notify(t){rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return rn.batch(()=>Promise.all(t.map(r=>r.continue().catch($n))))}},Ho=new WeakMap,Ii=new WeakMap,sp=new WeakMap,OM);function rm(e){var t;return(t=e.options.scope)==null?void 0:t.id}function bP(e){return{onFetch:(t,r)=>{var f,p,g,C,S;const n=t.options,s=(g=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,i=((C=t.state.data)==null?void 0:C.pages)||[],o=((S=t.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=wN(t.options,t.fetchOptions),F=async(E,R,A)=>{if(y)return Promise.reject();if(R==null&&E.pages.length)return Promise.resolve(E);const D={client:t.client,queryKey:t.queryKey,pageParam:R,direction:A?"backward":"forward",meta:t.options.meta};w(D);const M=await b(D),{maxPages:I}=t.options,L=A?S9:y9;return{pages:L(E.pages,M,I),pageParams:L(E.pageParams,R,I)}};if(s&&i.length){const E=s==="backward",R=E?M9:RP,A={pages:i,pageParams:o},D=R(n,A);a=await F(A,D,E)}else{const E=e??i.length;do{const R=l===0?o[0]??n.initialPageParam:RP(n,a);if(l>0&&R==null)break;a=await F(a,R),l++}while(l<E)}return a};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function RP(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function M9(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Or,Ka,qa,ud,dd,Ya,hd,fd,kM,N9=(kM=class{constructor(e={}){Rt(this,Or);Rt(this,Ka);Rt(this,qa);Rt(this,ud);Rt(this,dd);Rt(this,Ya);Rt(this,hd);Rt(this,fd);at(this,Or,e.queryCache||new P9),at(this,Ka,e.mutationCache||new D9),at(this,qa,e.defaultOptions||{}),at(this,ud,new Map),at(this,dd,new Map),at(this,Ya,0)}mount(){Jg(this,Ya)._++,ee(this,Ya)===1&&(at(this,hd,Yx.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,Or).onFocus())})),at(this,fd,tv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,Or).onOnline())})))}unmount(){var e,t;Jg(this,Ya)._--,ee(this,Ya)===0&&((e=ee(this,hd))==null||e.call(this),at(this,hd,void 0),(t=ee(this,fd))==null||t.call(this),at(this,fd,void 0))}isFetching(e){return ee(this,Or).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ee(this,Ka).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ee(this,Or).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ee(this,Or).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(qu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ee(this,Or).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=ee(this,Or).get(n.queryHash),i=s==null?void 0:s.state.data,o=v9(t,i);if(o!==void 0)return ee(this,Or).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return rn.batch(()=>ee(this,Or).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ee(this,Or).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ee(this,Or);rn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ee(this,Or);return rn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=rn.batch(()=>ee(this,Or).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then($n).catch($n)}invalidateQueries(e,t={}){return rn.batch(()=>(ee(this,Or).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=rn.batch(()=>ee(this,Or).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch($n)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then($n)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ee(this,Or).build(this,t);return r.isStaleByTime(qu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($n).catch($n)}fetchInfiniteQuery(e){return e.behavior=bP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($n).catch($n)}ensureInfiniteQueryData(e){return e.behavior=bP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tv.isOnline()?ee(this,Ka).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,Or)}getMutationCache(){return ee(this,Ka)}getDefaultOptions(){return ee(this,qa)}setDefaultOptions(e){at(this,qa,e)}setQueryDefaults(e,t){ee(this,ud).set(Rc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ee(this,ud).values()],r={};return t.forEach(n=>{Tf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ee(this,dd).set(Rc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ee(this,dd).values()],r={};return t.forEach(n=>{Tf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ee(this,qa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ee(this,qa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ee(this,Or).clear(),ee(this,Ka).clear()}},Or=new WeakMap,Ka=new WeakMap,qa=new WeakMap,ud=new WeakMap,dd=new WeakMap,Ya=new WeakMap,hd=new WeakMap,fd=new WeakMap,kM),vs,Ut,ip,zn,uc,pd,Qa,Xa,op,gd,md,dc,hc,Ja,vd,rr,Jh,gw,mw,vw,Cw,yw,Sw,ww,AN,LM,I9=(LM=class extends kd{constructor(t,r){super();Rt(this,rr);Rt(this,vs);Rt(this,Ut);Rt(this,ip);Rt(this,zn);Rt(this,uc);Rt(this,pd);Rt(this,Qa);Rt(this,Xa);Rt(this,op);Rt(this,gd);Rt(this,md);Rt(this,dc);Rt(this,hc);Rt(this,Ja);Rt(this,vd,new Set);this.options=r,at(this,vs,t),at(this,Xa,null),at(this,Qa,pw()),this.options.experimental_prefetchInRender||ee(this,Qa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ee(this,Ut).addObserver(this),EP(ee(this,Ut),this.options)?kt(this,rr,Jh).call(this):this.updateResult(),kt(this,rr,Cw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xw(ee(this,Ut),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xw(ee(this,Ut),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,kt(this,rr,yw).call(this),kt(this,rr,Sw).call(this),ee(this,Ut).removeObserver(this)}setOptions(t){const r=this.options,n=ee(this,Ut);if(this.options=ee(this,vs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ki(this.options.enabled,ee(this,Ut))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");kt(this,rr,ww).call(this),ee(this,Ut).setOptions(this.options),r._defaulted&&!ev(this.options,r)&&ee(this,vs).getQueryCache().notify({type:"observerOptionsUpdated",query:ee(this,Ut),observer:this});const s=this.hasListeners();s&&FP(ee(this,Ut),n,this.options,r)&&kt(this,rr,Jh).call(this),this.updateResult(),s&&(ee(this,Ut)!==n||ki(this.options.enabled,ee(this,Ut))!==ki(r.enabled,ee(this,Ut))||qu(this.options.staleTime,ee(this,Ut))!==qu(r.staleTime,ee(this,Ut)))&&kt(this,rr,gw).call(this);const i=kt(this,rr,mw).call(this);s&&(ee(this,Ut)!==n||ki(this.options.enabled,ee(this,Ut))!==ki(r.enabled,ee(this,Ut))||i!==ee(this,Ja))&&kt(this,rr,vw).call(this,i)}getOptimisticResult(t){const r=ee(this,vs).getQueryCache().build(ee(this,vs),t),n=this.createResult(r,t);return k9(this,n)&&(at(this,zn,n),at(this,pd,this.options),at(this,uc,ee(this,Ut).state)),n}getCurrentResult(){return ee(this,zn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){ee(this,vd).add(t)}getCurrentQuery(){return ee(this,Ut)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ee(this,vs).defaultQueryOptions(t),n=ee(this,vs).getQueryCache().build(ee(this,vs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return kt(this,rr,Jh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ee(this,zn)))}createResult(t,r){var L;const n=ee(this,Ut),s=this.options,i=ee(this,zn),o=ee(this,uc),a=ee(this,pd),u=t!==n?t.state:ee(this,ip),{state:f}=t;let p={...f},g=!1,C;if(r._optimisticResults){const j=this.hasListeners(),W=!j&&EP(t,r),B=j&&FP(t,n,r,s);(W||B)&&(p={...p,...TN(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:S,errorUpdatedAt:y,status:w}=p;C=p.data;let b=!1;if(r.placeholderData!==void 0&&C===void 0&&w==="pending"){let j;i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(j=i.data,b=!0):j=typeof r.placeholderData=="function"?r.placeholderData((L=ee(this,md))==null?void 0:L.state.data,ee(this,md)):r.placeholderData,j!==void 0&&(w="success",C=fw(i==null?void 0:i.data,j,r),g=!0)}if(r.select&&C!==void 0&&!b)if(i&&C===(o==null?void 0:o.data)&&r.select===ee(this,op))C=ee(this,gd);else try{at(this,op,r.select),C=r.select(C),C=fw(i==null?void 0:i.data,C,r),at(this,gd,C),at(this,Xa,null)}catch(j){at(this,Xa,j)}ee(this,Xa)&&(S=ee(this,Xa),C=ee(this,gd),y=Date.now(),w="error");const F=p.fetchStatus==="fetching",E=w==="pending",R=w==="error",A=E&&F,D=C!==void 0,I={status:w,fetchStatus:p.fetchStatus,isPending:E,isSuccess:w==="success",isError:R,isInitialLoading:A,isLoading:A,data:C,dataUpdatedAt:p.dataUpdatedAt,error:S,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:F,isRefetching:F&&!E,isLoadingError:R&&!D,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:R&&D,isStale:Qx(t,r),refetch:this.refetch,promise:ee(this,Qa)};if(this.options.experimental_prefetchInRender){const j=ie=>{I.status==="error"?ie.reject(I.error):I.data!==void 0&&ie.resolve(I.data)},W=()=>{const ie=at(this,Qa,I.promise=pw());j(ie)},B=ee(this,Qa);switch(B.status){case"pending":t.queryHash===n.queryHash&&j(B);break;case"fulfilled":(I.status==="error"||I.data!==B.value)&&W();break;case"rejected":(I.status!=="error"||I.error!==B.reason)&&W();break}}return I}updateResult(){const t=ee(this,zn),r=this.createResult(ee(this,Ut),this.options);if(at(this,uc,ee(this,Ut).state),at(this,pd,this.options),ee(this,uc).data!==void 0&&at(this,md,ee(this,Ut)),ev(r,t))return;at(this,zn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!ee(this,vd).size)return!0;const o=new Set(i??ee(this,vd));return this.options.throwOnError&&o.add("error"),Object.keys(ee(this,zn)).some(a=>{const l=a;return ee(this,zn)[l]!==t[l]&&o.has(l)})};kt(this,rr,AN).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&kt(this,rr,Cw).call(this)}},vs=new WeakMap,Ut=new WeakMap,ip=new WeakMap,zn=new WeakMap,uc=new WeakMap,pd=new WeakMap,Qa=new WeakMap,Xa=new WeakMap,op=new WeakMap,gd=new WeakMap,md=new WeakMap,dc=new WeakMap,hc=new WeakMap,Ja=new WeakMap,vd=new WeakMap,rr=new WeakSet,Jh=function(t){kt(this,rr,ww).call(this);let r=ee(this,Ut).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch($n)),r},gw=function(){kt(this,rr,yw).call(this);const t=qu(this.options.staleTime,ee(this,Ut));if(bc||ee(this,zn).isStale||!dw(t))return;const n=yN(ee(this,zn).dataUpdatedAt,t)+1;at(this,dc,setTimeout(()=>{ee(this,zn).isStale||this.updateResult()},n))},mw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ee(this,Ut)):this.options.refetchInterval)??!1},vw=function(t){kt(this,rr,Sw).call(this),at(this,Ja,t),!(bc||ki(this.options.enabled,ee(this,Ut))===!1||!dw(ee(this,Ja))||ee(this,Ja)===0)&&at(this,hc,setInterval(()=>{(this.options.refetchIntervalInBackground||Yx.isFocused())&&kt(this,rr,Jh).call(this)},ee(this,Ja)))},Cw=function(){kt(this,rr,gw).call(this),kt(this,rr,vw).call(this,kt(this,rr,mw).call(this))},yw=function(){ee(this,dc)&&(clearTimeout(ee(this,dc)),at(this,dc,void 0))},Sw=function(){ee(this,hc)&&(clearInterval(ee(this,hc)),at(this,hc,void 0))},ww=function(){const t=ee(this,vs).getQueryCache().build(ee(this,vs),this.options);if(t===ee(this,Ut))return;const r=ee(this,Ut);at(this,Ut,t),at(this,ip,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},AN=function(t){rn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ee(this,zn))}),ee(this,vs).getQueryCache().notify({query:ee(this,Ut),type:"observerResultsUpdated"})})},LM);function O9(e,t){return ki(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function EP(e,t){return O9(e,t)||e.state.data!==void 0&&xw(e,t,t.refetchOnMount)}function xw(e,t,r){if(ki(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Qx(e,t)}return!1}function FP(e,t,r,n){return(e!==t||ki(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Qx(e,r)}function Qx(e,t){return ki(t.enabled,e)!==!1&&e.isStaleByTime(qu(t.staleTime,e))}function k9(e,t){return!ev(e.getCurrentResult(),t)}var Za,el,Cs,Vo,Zo,km,bw,_M,L9=(_M=class extends kd{constructor(r,n){super();Rt(this,Zo);Rt(this,Za);Rt(this,el);Rt(this,Cs);Rt(this,Vo);at(this,Za,r),this.setOptions(n),this.bindMethods(),kt(this,Zo,km).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=ee(this,Za).defaultMutationOptions(r),ev(this.options,n)||ee(this,Za).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ee(this,Cs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Rc(n.mutationKey)!==Rc(this.options.mutationKey)?this.reset():((s=ee(this,Cs))==null?void 0:s.state.status)==="pending"&&ee(this,Cs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ee(this,Cs))==null||r.removeObserver(this)}onMutationUpdate(r){kt(this,Zo,km).call(this),kt(this,Zo,bw).call(this,r)}getCurrentResult(){return ee(this,el)}reset(){var r;(r=ee(this,Cs))==null||r.removeObserver(this),at(this,Cs,void 0),kt(this,Zo,km).call(this),kt(this,Zo,bw).call(this)}mutate(r,n){var s;return at(this,Vo,n),(s=ee(this,Cs))==null||s.removeObserver(this),at(this,Cs,ee(this,Za).getMutationCache().build(ee(this,Za),this.options)),ee(this,Cs).addObserver(this),ee(this,Cs).execute(r)}},Za=new WeakMap,el=new WeakMap,Cs=new WeakMap,Vo=new WeakMap,Zo=new WeakSet,km=function(){var n;const r=((n=ee(this,Cs))==null?void 0:n.state)??PN();at(this,el,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},bw=function(r){rn.batch(()=>{var n,s,i,o,a,l,u,f;if(ee(this,Vo)&&this.hasListeners()){const p=ee(this,el).variables,g=ee(this,el).context;(r==null?void 0:r.type)==="success"?((s=(n=ee(this,Vo)).onSuccess)==null||s.call(n,r.data,p,g),(o=(i=ee(this,Vo)).onSettled)==null||o.call(i,r.data,null,p,g)):(r==null?void 0:r.type)==="error"&&((l=(a=ee(this,Vo)).onError)==null||l.call(a,r.error,p,g),(f=(u=ee(this,Vo)).onSettled)==null||f.call(u,void 0,r.error,p,g))}this.listeners.forEach(p=>{p(ee(this,el))})})},_M),DN=v.createContext(void 0),At=e=>{const t=v.useContext(DN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},_9=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(DN.Provider,{value:e,children:t})),MN=v.createContext(!1),j9=()=>v.useContext(MN);MN.Provider;function B9(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var G9=v.createContext(B9()),H9=()=>v.useContext(G9),V9=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},W9=e=>{v.useEffect(()=>{e.clearReset()},[e])},U9=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||xN(r,[e.error,n])),z9=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},$9=(e,t)=>e.isLoading&&e.isFetching&&!t,K9=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,TP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function q9(e,t,r){var p,g,C,S,y;const n=At(),s=j9(),i=H9(),o=n.defaultQueryOptions(e);(g=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||g.call(p,o),o._optimisticResults=s?"isRestoring":"optimistic",z9(o),V9(o,i),W9(i);const a=!n.getQueryCache().get(o.queryHash),[l]=v.useState(()=>new t(n,o)),u=l.getOptimisticResult(o),f=!s&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(w=>{const b=f?l.subscribe(rn.batchCalls(w)):$n;return l.updateResult(),b},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),v.useEffect(()=>{l.setOptions(o)},[o,l]),K9(o,u))throw TP(o,l,i);if(U9({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((S=(C=n.getDefaultOptions().queries)==null?void 0:C._experimental_afterQuery)==null||S.call(C,o,u),o.experimental_prefetchInRender&&!bc&&$9(u,s)){const w=a?TP(o,l,i):(y=n.getQueryCache().get(o.queryHash))==null?void 0:y.promise;w==null||w.catch($n).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Er(e,t){return q9(e,I9)}function Ze(e,t){const r=At(),[n]=v.useState(()=>new L9(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(rn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,a)=>{n.mutate(o,a).catch($n)},[n]);if(s.error&&xN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Y9=()=>{},Q9=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},X9=()=>Ze({mutationFn:e=>_e("/api/user/login",{method:"POST",body:JSON.stringify(e)}),onSuccess:Y9,onError:Q9}),J9=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,i]=v.useState(!1),[o,a]=v.useState(""),l=jn(),u=X9(),{login:f}=zx(),p=g=>{g.preventDefault(),u.mutate({userName:e,password:r},{onSuccess:C=>{C&&(localStorage.setItem("user",JSON.stringify(C)),nt.success("Login Successful!"),f(),l("/app/home"))},onError:()=>{a("Invalid username or password.")}})};return d.jsxs("div",{className:"min-h-screen w-full flex flex-col md:flex-row",children:[d.jsx("div",{className:"hidden md:block w-1/2",children:d.jsx("img",{src:"/images/crm1.jpeg",alt:"Login Illustration",className:"w-full h-screen object-cover"})}),d.jsx("div",{className:"w-full md:w-1/2 flex items-center justify-center px-6 py-10 bg-gray-100 dark:bg-gray-950",children:d.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl shadow-xl p-8 sm:p-10",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("img",{src:"/images/logo.png",alt:"Logo",className:"mx-auto h-16 w-16 mb-2"}),d.jsx("h2",{className:"text-3xl font-extrabold text-gray-800 dark:text-white",children:"Welcome Back 👋"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Please login to your account"})]}),o&&d.jsx("p",{className:"text-red-500 text-sm text-center mb-4",children:o}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),d.jsx(be,{type:"text",value:e,onChange:g=>t(g.target.value),placeholder:"Enter your username",className:"dark:bg-gray-800 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(be,{type:s?"text":"password",value:r,onChange:g=>n(g.target.value),placeholder:"Enter your password",className:"dark:bg-gray-800 dark:text-white pr-10"}),d.jsx("button",{type:"button",className:"absolute top-1/2 right-3 -translate-y-1/2 focus:outline-none",onClick:()=>i(!s),children:s?d.jsx(BH,{size:20,className:"text-gray-400"}):d.jsx(GH,{size:20,className:"text-gray-400"})})]})]}),d.jsx(Ot,{type:"submit",className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-300",children:"Login"})]})]})})]})},Z9=()=>d.jsx("div",{className:"flex flex-col min-h-screen",children:d.jsxs("main",{className:"text-center p-6 w-full",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Welcome to the Home Page!"}),d.jsx("p",{children:"This is the protected content visible only after login."})]})}),Xx=v.createContext({});function Jx(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const n0=v.createContext(null),Zx=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class e7 extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function t7({children:e,isPresent:t}){const r=v.useId(),n=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=v.useContext(Zx);return v.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const f=document.createElement("style");return i&&(f.nonce=i),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),d.jsx(e7,{isPresent:t,childRef:n,sizeRef:s,children:v.cloneElement(e,{ref:n})})}const r7=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Jx(n7),l=v.useId(),u=v.useCallback(p=>{a.set(p,!0);for(const g of a.values())if(!g)return;n&&n()},[a,n]),f=v.useMemo(()=>({id:l,initial:t,isPresent:r,custom:s,onExitComplete:u,register:p=>(a.set(p,!1),()=>a.delete(p))}),i?[Math.random(),u]:[r,u]);return v.useMemo(()=>{a.forEach((p,g)=>a.set(g,!1))},[r]),v.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=d.jsx(t7,{isPresent:r,children:e})),d.jsx(n0.Provider,{value:f,children:e})};function n7(){return new Map}function NN(e=!0){const t=v.useContext(n0);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=v.useId();v.useEffect(()=>{e&&s(i)},[e]);const o=v.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const nm=e=>e.key||"";function PP(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const e1=typeof window<"u",IN=e1?v.useLayoutEffect:v.useEffect,s7=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=NN(o),u=v.useMemo(()=>PP(e),[e]),f=o&&!a?[]:u.map(nm),p=v.useRef(!0),g=v.useRef(u),C=Jx(()=>new Map),[S,y]=v.useState(u),[w,b]=v.useState(u);IN(()=>{p.current=!1,g.current=u;for(let R=0;R<w.length;R++){const A=nm(w[R]);f.includes(A)?C.delete(A):C.get(A)!==!0&&C.set(A,!1)}},[w,f.length,f.join("-")]);const F=[];if(u!==S){let R=[...u];for(let A=0;A<w.length;A++){const D=w[A],M=nm(D);f.includes(M)||(R.splice(A,0,D),F.push(D))}i==="wait"&&F.length&&(R=F),b(PP(R)),y(u);return}const{forceRender:E}=v.useContext(Xx);return d.jsx(d.Fragment,{children:w.map(R=>{const A=nm(R),D=o&&!a?!1:u===w||f.includes(A),M=()=>{if(C.has(A))C.set(A,!0);else return;let I=!0;C.forEach(L=>{L||(I=!1)}),I&&(E==null||E(),b(g.current),o&&(l==null||l()),n&&n())};return d.jsx(r7,{isPresent:D,initial:!p.current||r?void 0:!1,custom:D?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:D?void 0:M,children:R},A)})})},Us=e=>e;let ON=Us;function t1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Cd=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Uo=e=>e*1e3,zo=e=>e/1e3,i7={useManualTiming:!1};function o7(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,f=!1,p=!1)=>{const C=p&&n?t:r;return f&&i.add(u),C.has(u)||C.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(a),t.clear(),n=!1,s&&(s=!1,l.process(u))}};return l}const sm=["read","resolveKeyframes","update","preRender","render","postRender"],a7=40;function kN(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=sm.reduce((b,F)=>(b[F]=o7(i),b),{}),{read:a,resolveKeyframes:l,update:u,preRender:f,render:p,postRender:g}=o,C=()=>{const b=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,a7),1),s.timestamp=b,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),f.process(s),p.process(s),g.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(C))},S=()=>{r=!0,n=!0,s.isProcessing||e(C)};return{schedule:sm.reduce((b,F)=>{const E=o[F];return b[F]=(R,A=!1,D=!1)=>(r||S(),E.schedule(R,A,D)),b},{}),cancel:b=>{for(let F=0;F<sm.length;F++)o[sm[F]].cancel(b)},state:s,steps:o}}const{schedule:wr,cancel:ol,state:yn,steps:Ky}=kN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0),LN=v.createContext({strict:!1}),AP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yd={};for(const e in AP)yd[e]={isEnabled:t=>AP[e].some(r=>!!t[r])};function l7(e){for(const t in e)yd[t]={...yd[t],...e[t]}}const c7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||c7.has(e)}let _N=e=>!rv(e);function u7(e){e&&(_N=t=>t.startsWith("on")?!rv(t):e(t))}try{u7(require("@emotion/is-prop-valid").default)}catch{}function d7(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(_N(s)||r===!0&&rv(s)||!t&&!rv(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function h7(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const s0=v.createContext({});function Pf(e){return typeof e=="string"||Array.isArray(e)}function i0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const r1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],n1=["initial",...r1];function o0(e){return i0(e.animate)||n1.some(t=>Pf(e[t]))}function jN(e){return!!(o0(e)||e.variants)}function f7(e,t){if(o0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Pf(r)?r:void 0,animate:Pf(n)?n:void 0}}return e.inherit!==!1?t:{}}function p7(e){const{initial:t,animate:r}=f7(e,v.useContext(s0));return v.useMemo(()=>({initial:t,animate:r}),[DP(t),DP(r)])}function DP(e){return Array.isArray(e)?e.join(" "):e}const g7=Symbol.for("motionComponentSymbol");function Bu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function m7(e,t,r){return v.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Bu(r)&&(r.current=n))},[t])}const s1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),v7="framerAppearId",BN="data-"+s1(v7),{schedule:i1}=kN(queueMicrotask,!1),GN=v.createContext({});function C7(e,t,r,n,s){var i,o;const{visualElement:a}=v.useContext(s0),l=v.useContext(LN),u=v.useContext(n0),f=v.useContext(Zx).reducedMotion,p=v.useRef(null);n=n||l.renderer,!p.current&&n&&(p.current=n(e,{visualState:t,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,C=v.useContext(GN);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&y7(p.current,r,s,C);const S=v.useRef(!1);v.useInsertionEffect(()=>{g&&S.current&&g.update(r,u)});const y=r[BN],w=v.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return IN(()=>{g&&(S.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),i1.render(g.render),w.current&&g.animationState&&g.animationState.animateChanges())}),v.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),w.current=!1))}),g}function y7(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:HN(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Bu(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}function HN(e){if(e)return e.options.allowProjection!==!1?e.projection:HN(e.parent)}function S7({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,o;e&&l7(e);function a(u,f){let p;const g={...v.useContext(Zx),...u,layoutId:w7(u)},{isStatic:C}=g,S=p7(u),y=n(u,C);if(!C&&e1){x7();const w=b7(g);p=w.MeasureLayout,S.visualElement=C7(s,y,g,t,w.ProjectionNode)}return d.jsxs(s0.Provider,{value:S,children:[p&&S.visualElement?d.jsx(p,{visualElement:S.visualElement,...g}):null,r(s,u,m7(y,S.visualElement,f),y,C,S.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=v.forwardRef(a);return l[g7]=s,l}function w7({layoutId:e}){const t=v.useContext(Xx).id;return t&&e!==void 0?t+"-"+e:e}function x7(e,t){v.useContext(LN).strict}function b7(e){const{drag:t,layout:r}=yd;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const R7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o1(e){return typeof e!="string"||e.includes("-")?!1:!!(R7.indexOf(e)>-1||/[A-Z]/u.test(e))}function MP(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function a1(e,t,r,n){if(typeof t=="function"){const[s,i]=MP(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=MP(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const Rw=e=>Array.isArray(e),E7=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),F7=e=>Rw(e)?e[e.length-1]||0:e,kn=e=>!!(e&&e.getVelocity);function Lm(e){const t=kn(e)?e.get():e;return E7(t)?t.toValue():t}function T7({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const o={latestValues:P7(n,s,i,e),renderState:t()};return r&&(o.onMount=a=>r({props:n,current:a,...o}),o.onUpdate=a=>r(a)),o}const VN=e=>(t,r)=>{const n=v.useContext(s0),s=v.useContext(n0),i=()=>T7(e,t,n,s);return r?i():Jx(i)};function P7(e,t,r,n){const s={},i=n(e,{});for(const g in i)s[g]=Lm(i[g]);let{initial:o,animate:a}=e;const l=o0(e),u=jN(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!i0(p)){const g=Array.isArray(p)?p:[p];for(let C=0;C<g.length;C++){const S=a1(e,g[C]);if(S){const{transitionEnd:y,transition:w,...b}=S;for(const F in b){let E=b[F];if(Array.isArray(E)){const R=f?E.length-1:0;E=E[R]}E!==null&&(s[F]=E)}for(const F in y)s[F]=y[F]}}}return s}const Ld=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gc=new Set(Ld),WN=e=>t=>typeof t=="string"&&t.startsWith(e),UN=WN("--"),A7=WN("var(--"),l1=e=>A7(e)?D7.test(e.split("/*")[0].trim()):!1,D7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,na=(e,t,r)=>r>t?t:r<e?e:r,_d={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Af={..._d,transform:e=>na(0,1,e)},im={..._d,default:1},up=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ga=up("deg"),co=up("%"),Pt=up("px"),M7=up("vh"),N7=up("vw"),NP={...co,parse:e=>co.parse(e)/100,transform:e=>co.transform(e*100)},I7={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,backgroundPositionX:Pt,backgroundPositionY:Pt},O7={rotate:Ga,rotateX:Ga,rotateY:Ga,rotateZ:Ga,scale:im,scaleX:im,scaleY:im,scaleZ:im,skew:Ga,skewX:Ga,skewY:Ga,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:Af,originX:NP,originY:NP,originZ:Pt},IP={..._d,transform:Math.round},c1={...I7,...O7,zIndex:IP,size:Pt,fillOpacity:Af,strokeOpacity:Af,numOctaves:IP},k7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L7=Ld.length;function _7(e,t,r){let n="",s=!0;for(let i=0;i<L7;i++){const o=Ld[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const u=zN(a,c1[o]);if(!l){s=!1;const f=k7[o]||o;n+=`${f}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function u1(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Gc.has(l)){o=!0;continue}else if(UN(l)){s[l]=u;continue}else{const f=zN(u,c1[l]);l.startsWith("origin")?(a=!0,i[l]=f):n[l]=f}}if(t.transform||(o||r?n.transform=_7(t,e.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:f=0}=i;n.transformOrigin=`${l} ${u} ${f}`}}const j7={offset:"stroke-dashoffset",array:"stroke-dasharray"},B7={offset:"strokeDashoffset",array:"strokeDasharray"};function G7(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?j7:B7;e[i.offset]=Pt.transform(-n);const o=Pt.transform(t),a=Pt.transform(r);e[i.array]=`${o} ${a}`}function OP(e,t,r){return typeof e=="string"?e:Pt.transform(t+r*e)}function H7(e,t,r){const n=OP(t,e.x,e.width),s=OP(r,e.y,e.height);return`${n} ${s}`}function d1(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,p){if(u1(e,u,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:C,dimensions:S}=e;g.transform&&(S&&(C.transform=g.transform),delete g.transform),S&&(s!==void 0||i!==void 0||C.transform)&&(C.transformOrigin=H7(S,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&G7(g,o,a,l,!1)}const h1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),$N=()=>({...h1(),attrs:{}}),f1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function KN(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const qN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YN(e,t,r,n){KN(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(qN.has(s)?s:s1(s),t.attrs[s])}const nv={};function V7(e){Object.assign(nv,e)}function QN(e,{layout:t,layoutId:r}){return Gc.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!nv[e]||e==="opacity")}function p1(e,t,r){var n;const{style:s}=e,i={};for(const o in s)(kn(s[o])||t.style&&kn(t.style[o])||QN(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function XN(e,t,r){const n=p1(e,t,r);for(const s in e)if(kn(e[s])||kn(t[s])){const i=Ld.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function W7(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const kP=["x","y","width","height","cx","cy","r"],U7={useVisualState:VN({scrapeMotionValuesFromProps:XN,createRenderState:$N,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const a in s)if(Gc.has(a)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let a=0;a<kP.length;a++){const l=kP[a];e[l]!==t[l]&&(o=!0)}o&&wr.read(()=>{W7(r,n),wr.render(()=>{d1(n,s,f1(r.tagName),e.transformTemplate),YN(r,n)})})}})},z7={useVisualState:VN({scrapeMotionValuesFromProps:p1,createRenderState:h1})};function JN(e,t,r){for(const n in t)!kn(t[n])&&!QN(n,r)&&(e[n]=t[n])}function $7({transformTemplate:e},t){return v.useMemo(()=>{const r=h1();return u1(r,t,e),Object.assign({},r.vars,r.style)},[t])}function K7(e,t){const r=e.style||{},n={};return JN(n,r,e),Object.assign(n,$7(e,t)),n}function q7(e,t){const r={},n=K7(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function Y7(e,t,r,n){const s=v.useMemo(()=>{const i=$N();return d1(i,t,f1(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};JN(i,e.style,e),s.style={...i,...s.style}}return s}function Q7(e=!1){return(r,n,s,{latestValues:i},o)=>{const l=(o1(r)?Y7:q7)(n,i,o,r),u=d7(n,typeof r=="string",e),f=r!==v.Fragment?{...u,...l,ref:s}:{},{children:p}=n,g=v.useMemo(()=>kn(p)?p.get():p,[p]);return v.createElement(r,{...f,children:g})}}function X7(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...o1(n)?U7:z7,preloadedFeatures:e,useRender:Q7(s),createVisualElement:t,Component:n};return S7(o)}}function ZN(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function a0(e,t,r){const n=e.getProps();return a1(n,t,r!==void 0?r:n.custom,e)}const J7=t1(()=>window.ScrollTimeline!==void 0);class Z7{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(J7()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class eW extends Z7{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function g1(e,t){return e?e[t]||e.default||e:void 0}const Ew=2e4;function eI(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Ew;)t+=r,n=e.next(t);return t>=Ew?1/0:t}function m1(e){return typeof e=="function"}function LP(e,t){e.timeline=t,e.onfinish=null}const v1=e=>Array.isArray(e)&&typeof e[0]=="number",tW={linearEasing:void 0};function rW(e,t){const r=t1(e);return()=>{var n;return(n=tW[t])!==null&&n!==void 0?n:r()}}const sv=rW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tI=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(Cd(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function rI(e){return!!(typeof e=="function"&&sv()||!e||typeof e=="string"&&(e in Fw||sv())||v1(e)||Array.isArray(e)&&e.every(rI))}const Zh=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Fw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zh([0,.65,.55,1]),circOut:Zh([.55,0,1,.45]),backIn:Zh([.31,.01,.66,-.59]),backOut:Zh([.33,1.53,.69,.99])};function nI(e,t){if(e)return typeof e=="function"&&sv()?tI(e,t):v1(e)?Zh(e):Array.isArray(e)?e.map(r=>nI(r,t)||Fw.easeOut):Fw[e]}const Di={x:!1,y:!1};function sI(){return Di.x||Di.y}function nW(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function iI(e,t){const r=nW(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function _P(e){return t=>{t.pointerType==="touch"||sI()||e(t)}}function sW(e,t,r={}){const[n,s,i]=iI(e,r),o=_P(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const f=_P(p=>{u(p),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,s)});return n.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const oI=(e,t)=>t?e===t?!0:oI(e,t.parentElement):!1,C1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,iW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oW(e){return iW.has(e.tagName)||e.tabIndex!==-1}const ef=new WeakSet;function jP(e){return t=>{t.key==="Enter"&&e(t)}}function qy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aW=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=jP(()=>{if(ef.has(r))return;qy(r,"down");const s=jP(()=>{qy(r,"up")}),i=()=>qy(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function BP(e){return C1(e)&&!sI()}function lW(e,t,r={}){const[n,s,i]=iI(e,r),o=a=>{const l=a.currentTarget;if(!BP(a)||ef.has(l))return;ef.add(l);const u=t(a),f=(C,S)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!BP(C)||!ef.has(l))&&(ef.delete(l),typeof u=="function"&&u(C,{success:S}))},p=C=>{f(C,r.useGlobalTarget||oI(l,C.target))},g=C=>{f(C,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return n.forEach(a=>{!oW(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>aW(u,s),s)}),i}function cW(e){return e==="x"||e==="y"?Di[e]?null:(Di[e]=!0,()=>{Di[e]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}const aI=new Set(["width","height","top","left","right","bottom",...Ld]);let _m;function uW(){_m=void 0}const uo={now:()=>(_m===void 0&&uo.set(yn.isProcessing||i7.useManualTiming?yn.timestamp:performance.now()),_m),set:e=>{_m=e,queueMicrotask(uW)}};function y1(e,t){e.indexOf(t)===-1&&e.push(t)}function S1(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class w1{constructor(){this.subscriptions=[]}add(t){return y1(this.subscriptions,t),()=>S1(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function lI(e,t){return t?e*(1e3/t):0}const GP=30,dW=e=>!isNaN(parseFloat(e));class hW{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=uo.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=uo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=dW(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new w1);const n=this.events[t].add(r);return t==="change"?()=>{n(),wr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=uo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GP)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,GP);return lI(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Df(e,t){return new hW(e,t)}function fW(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Df(r))}function pW(e,t){const r=a0(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const a=F7(i[o]);fW(e,o,a)}}function gW(e){return!!(kn(e)&&e.add)}function Tw(e,t){const r=e.getValue("willChange");if(gW(r))return r.add(t)}function cI(e){return e.props[BN]}const uI=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,mW=1e-7,vW=12;function CW(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=uI(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>mW&&++a<vW);return o}function dp(e,t,r,n){if(e===t&&r===n)return Us;const s=i=>CW(i,0,1,e,r);return i=>i===0||i===1?i:uI(s(i),t,n)}const dI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hI=e=>t=>1-e(1-t),fI=dp(.33,1.53,.69,.99),x1=hI(fI),pI=dI(x1),gI=e=>(e*=2)<1?.5*x1(e):.5*(2-Math.pow(2,-10*(e-1))),b1=e=>1-Math.sin(Math.acos(e)),mI=hI(b1),vI=dI(b1),CI=e=>/^0[^.\s]+$/u.test(e);function yW(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||CI(e):!0}const cf=e=>Math.round(e*1e5)/1e5,R1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SW(e){return e==null}const wW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E1=(e,t)=>r=>!!(typeof r=="string"&&wW.test(r)&&r.startsWith(e)||t&&!SW(r)&&Object.prototype.hasOwnProperty.call(r,t)),yI=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,a]=n.match(R1);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},xW=e=>na(0,255,e),Yy={..._d,transform:e=>Math.round(xW(e))},rc={test:E1("rgb","red"),parse:yI("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Yy.transform(e)+", "+Yy.transform(t)+", "+Yy.transform(r)+", "+cf(Af.transform(n))+")"};function bW(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Pw={test:E1("#"),parse:bW,transform:rc.transform},Gu={test:E1("hsl","hue"),parse:yI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+co.transform(cf(t))+", "+co.transform(cf(r))+", "+cf(Af.transform(n))+")"},Nn={test:e=>rc.test(e)||Pw.test(e)||Gu.test(e),parse:e=>rc.test(e)?rc.parse(e):Gu.test(e)?Gu.parse(e):Pw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rc.transform(e):Gu.transform(e)},RW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EW(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(R1))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(RW))===null||r===void 0?void 0:r.length)||0)>0}const SI="number",wI="color",FW="var",TW="var(",HP="${}",PW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mf(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(PW,l=>(Nn.test(l)?(n.color.push(i),s.push(wI),r.push(Nn.parse(l))):l.startsWith(TW)?(n.var.push(i),s.push(FW),r.push(l)):(n.number.push(i),s.push(SI),r.push(parseFloat(l))),++i,HP)).split(HP);return{values:r,split:a,indexes:n,types:s}}function xI(e){return Mf(e).values}function bI(e){const{split:t,types:r}=Mf(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const a=r[o];a===SI?i+=cf(s[o]):a===wI?i+=Nn.transform(s[o]):i+=s[o]}return i}}const AW=e=>typeof e=="number"?0:e;function DW(e){const t=xI(e);return bI(e)(t.map(AW))}const al={test:EW,parse:xI,createTransformer:bI,getAnimatableNone:DW},MW=new Set(["brightness","contrast","saturate","opacity"]);function NW(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(R1)||[];if(!n)return e;const s=r.replace(n,"");let i=MW.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const IW=/\b([a-z-]*)\(.*?\)/gu,Aw={...al,getAnimatableNone:e=>{const t=e.match(IW);return t?t.map(NW).join(" "):e}},OW={...c1,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:Aw,WebkitFilter:Aw},F1=e=>OW[e];function RI(e,t){let r=F1(e);return r!==Aw&&(r=al),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const kW=new Set(["auto","none","0"]);function LW(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!kW.has(i)&&Mf(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=RI(r,s)}const VP=e=>e===_d||e===Pt,WP=(e,t)=>parseFloat(e.split(", ")[t]),UP=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return WP(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?WP(i[1],e):0}},_W=new Set(["x","y","z"]),jW=Ld.filter(e=>!_W.has(e));function BW(e){const t=[];return jW.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Sd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:UP(4,13),y:UP(5,14)};Sd.translateX=Sd.x;Sd.translateY=Sd.y;const fc=new Set;let Dw=!1,Mw=!1;function EI(){if(Mw){const e=Array.from(fc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=BW(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var a;(a=n.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Mw=!1,Dw=!1,fc.forEach(e=>e.complete()),fc.clear()}function FI(){fc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mw=!0)})}function GW(){FI(),EI()}class T1{constructor(t,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fc.add(this),Dw||(Dw=!0,wr.read(FI),wr.resolveKeyframes(EI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const TI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),HW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VW(e){const t=HW.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function PI(e,t,r=1){const[n,s]=VW(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return TI(o)?parseFloat(o):o}return l1(s)?PI(s,t,r+1):s}const AI=e=>t=>t.test(e),WW={test:e=>e==="auto",parse:e=>e},DI=[_d,Pt,co,Ga,N7,M7,WW],zP=e=>DI.find(AI(e));class MI extends T1{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),l1(u))){const f=PI(u,r.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!aI.has(n)||t.length!==2)return;const[s,i]=t,o=zP(s),a=zP(i);if(o!==a)if(VP(o)&&VP(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)yW(t[s])&&n.push(s);n.length&&LW(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Sd[n](r.measureViewportBox(),window.getComputedStyle(r.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{r.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const $P=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(al.test(e)||e==="0")&&!e.startsWith("url("));function UW(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function zW(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=$P(s,t),a=$P(i,t);return!o||!a?!1:UW(e)||(r==="spring"||m1(r))&&n}const $W=e=>e!==null;function l0(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter($W),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const KW=40;class NI{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=uo.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>KW?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&GW(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=uo.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!zW(t,n,s,i))if(o)this.options.duration=0;else{l&&l(l0(t,this.options,r)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,r);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...f},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ar=(e,t,r)=>e+(t-e)*r;function Qy(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function qW({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=Qy(l,a,e+1/3),i=Qy(l,a,e),o=Qy(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function iv(e,t){return r=>r>0?t:e}const Xy=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},YW=[Pw,rc,Gu],QW=e=>YW.find(t=>t.test(e));function KP(e){const t=QW(e);if(!t)return!1;let r=t.parse(e);return t===Gu&&(r=qW(r)),r}const qP=(e,t)=>{const r=KP(e),n=KP(t);if(!r||!n)return iv(e,t);const s={...r};return i=>(s.red=Xy(r.red,n.red,i),s.green=Xy(r.green,n.green,i),s.blue=Xy(r.blue,n.blue,i),s.alpha=Ar(r.alpha,n.alpha,i),rc.transform(s))},XW=(e,t)=>r=>t(e(r)),hp=(...e)=>e.reduce(XW),Nw=new Set(["none","hidden"]);function JW(e,t){return Nw.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function ZW(e,t){return r=>Ar(e,t,r)}function P1(e){return typeof e=="number"?ZW:typeof e=="string"?l1(e)?iv:Nn.test(e)?qP:rU:Array.isArray(e)?II:typeof e=="object"?Nn.test(e)?qP:eU:iv}function II(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>P1(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function eU(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=P1(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function tU(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(r=e.values[a])!==null&&r!==void 0?r:0;n[i]=l,s[o]++}return n}const rU=(e,t)=>{const r=al.createTransformer(t),n=Mf(e),s=Mf(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Nw.has(e)&&!s.values.length||Nw.has(t)&&!n.values.length?JW(e,t):hp(II(tU(n,s),s.values),r):iv(e,t)};function OI(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ar(e,t,r):P1(e)(e,t)}const nU=5;function kI(e,t,r){const n=Math.max(t-nU,0);return lI(r-e(n),t-n)}const kr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},YP=.001;function sU({duration:e=kr.duration,bounce:t=kr.bounce,velocity:r=kr.velocity,mass:n=kr.mass}){let s,i,o=1-t;o=na(kr.minDamping,kr.maxDamping,o),e=na(kr.minDuration,kr.maxDuration,zo(e)),o<1?(s=u=>{const f=u*o,p=f*e,g=f-r,C=Iw(u,o),S=Math.exp(-p);return YP-g/C*S},i=u=>{const p=u*o*e,g=p*r+r,C=Math.pow(o,2)*Math.pow(u,2)*e,S=Math.exp(-p),y=Iw(Math.pow(u,2),o);return(-s(u)+YP>0?-1:1)*((g-C)*S)/y}):(s=u=>{const f=Math.exp(-u*e),p=(u-r)*e+1;return-.001+f*p},i=u=>{const f=Math.exp(-u*e),p=(r-u)*(e*e);return f*p});const a=5/e,l=oU(s,i,a);if(e=Uo(e),isNaN(l))return{stiffness:kr.stiffness,damping:kr.damping,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const iU=12;function oU(e,t,r){let n=r;for(let s=1;s<iU;s++)n=n-e(n)/t(n);return n}function Iw(e,t){return e*Math.sqrt(1-t*t)}const aU=["duration","bounce"],lU=["stiffness","damping","mass"];function QP(e,t){return t.some(r=>e[r]!==void 0)}function cU(e){let t={velocity:kr.velocity,stiffness:kr.stiffness,damping:kr.damping,mass:kr.mass,isResolvedFromDuration:!1,...e};if(!QP(e,lU)&&QP(e,aU))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*na(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:kr.mass,stiffness:s,damping:i}}else{const r=sU(e);t={...t,...r,mass:kr.mass},t.isResolvedFromDuration=!0}return t}function LI(e=kr.visualDuration,t=kr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:f,duration:p,velocity:g,isResolvedFromDuration:C}=cU({...r,velocity:-zo(r.velocity||0)}),S=g||0,y=u/(2*Math.sqrt(l*f)),w=o-i,b=zo(Math.sqrt(l/f)),F=Math.abs(w)<5;n||(n=F?kr.restSpeed.granular:kr.restSpeed.default),s||(s=F?kr.restDelta.granular:kr.restDelta.default);let E;if(y<1){const A=Iw(b,y);E=D=>{const M=Math.exp(-y*b*D);return o-M*((S+y*b*w)/A*Math.sin(A*D)+w*Math.cos(A*D))}}else if(y===1)E=A=>o-Math.exp(-b*A)*(w+(S+b*w)*A);else{const A=b*Math.sqrt(y*y-1);E=D=>{const M=Math.exp(-y*b*D),I=Math.min(A*D,300);return o-M*((S+y*b*w)*Math.sinh(I)+A*w*Math.cosh(I))/A}}const R={calculatedDuration:C&&p||null,next:A=>{const D=E(A);if(C)a.done=A>=p;else{let M=0;y<1&&(M=A===0?Uo(S):kI(E,A,D));const I=Math.abs(M)<=n,L=Math.abs(o-D)<=s;a.done=I&&L}return a.value=a.done?o:D,a},toString:()=>{const A=Math.min(eI(R),Ew),D=tI(M=>R.next(A*M).value,A,30);return A+"ms "+D}};return R}function XP({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},C=I=>a!==void 0&&I<a||l!==void 0&&I>l,S=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let y=r*t;const w=p+y,b=o===void 0?w:o(w);b!==w&&(y=b-p);const F=I=>-y*Math.exp(-I/n),E=I=>b+F(I),R=I=>{const L=F(I),j=E(I);g.done=Math.abs(L)<=u,g.value=g.done?b:j};let A,D;const M=I=>{C(g.value)&&(A=I,D=LI({keyframes:[g.value,S(g.value)],velocity:kI(E,I,g.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return M(0),{calculatedDuration:null,next:I=>{let L=!1;return!D&&A===void 0&&(L=!0,R(I),M(I)),A!==void 0&&I>=A?D.next(I-A):(!L&&R(I),g)}}}const uU=dp(.42,0,1,1),dU=dp(0,0,.58,1),_I=dp(.42,0,.58,1),hU=e=>Array.isArray(e)&&typeof e[0]!="number",fU={linear:Us,easeIn:uU,easeInOut:_I,easeOut:dU,circIn:b1,circInOut:vI,circOut:mI,backIn:x1,backInOut:pI,backOut:fI,anticipate:gI},JP=e=>{if(v1(e)){ON(e.length===4);const[t,r,n,s]=e;return dp(t,r,n,s)}else if(typeof e=="string")return fU[e];return e};function pU(e,t,r){const n=[],s=r||OI,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Us:t;a=hp(l,a)}n.push(a)}return n}function gU(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(ON(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=pU(t,n,s),l=a.length,u=f=>{if(o&&f<e[0])return t[0];let p=0;if(l>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=Cd(e[p],e[p+1],f);return a[p](g)};return r?f=>u(na(e[0],e[i-1],f)):u}function mU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Cd(0,t,n);e.push(Ar(r,1,s))}}function vU(e){const t=[0];return mU(t,e.length-1),t}function CU(e,t){return e.map(r=>r*t)}function yU(e,t){return e.map(()=>t||_I).splice(0,e.length-1)}function ov({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=hU(n)?n.map(JP):JP(n),i={done:!1,value:t[0]},o=CU(r&&r.length===t.length?r:vU(t),e),a=gU(o,t,{ease:Array.isArray(s)?s:yU(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const SU=e=>{const t=({timestamp:r})=>e(r);return{start:()=>wr.update(t,!0),stop:()=>ol(t),now:()=>yn.isProcessing?yn.timestamp:uo.now()}},wU={decay:XP,inertia:XP,tween:ov,keyframes:ov,spring:LI},xU=e=>e/100;class A1 extends NI{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||T1,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=m1(r)?r:wU[r]||ov;let l,u;a!==ov&&typeof t[0]!="number"&&(l=hp(xU,OI(t[0],t[1])),t=[0,100]);const f=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=eI(f));const{calculatedDuration:p}=f,g=p+s,C=g*(n+1)-s;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:g,totalDuration:C}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:f,resolvedDuration:p}=n;if(this.startTime===null)return i.next(0);const{delay:g,repeat:C,repeatType:S,repeatDelay:y,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-g*(this.speed>=0?1:-1),F=this.speed>=0?b<0:b>f;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let E=this.currentTime,R=i;if(C){const I=Math.min(this.currentTime,f)/p;let L=Math.floor(I),j=I%1;!j&&I>=1&&(j=1),j===1&&L--,L=Math.min(L,C+1),!!(L%2)&&(S==="reverse"?(j=1-j,y&&(j-=y/p)):S==="mirror"&&(R=o)),E=na(0,1,j)*p}const A=F?{done:!1,value:l[0]}:R.next(E);a&&(A.value=a(A.value));let{done:D}=A;!F&&u!==null&&(D=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return M&&s!==void 0&&(A.value=l0(l,this.options,s)),w&&w(A.value),M&&this.finish(),A}get duration(){const{resolved:t}=this;return t?zo(t.calculatedDuration):0}get time(){return zo(this.currentTime)}set time(t){t=Uo(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=zo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=SU,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const bU=new Set(["opacity","clipPath","filter","transform"]);function RU(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:r};l&&(u.offset=l);const f=nI(a,s);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const EU=t1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),av=10,FU=2e4;function TU(e){return m1(e.type)||e.type==="spring"||!rI(e.ease)}function PU(e,t){const r=new A1({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<FU;)n=r.sample(i),s.push(n.value),i+=av;return{times:void 0,keyframes:s,duration:i-av,ease:"linear"}}const jI={anticipate:gI,backInOut:pI,circInOut:vI};function AU(e){return e in jI}class ZP extends NI{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new MI(i,(o,a)=>this.onKeyframesResolved(o,a),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&sv()&&AU(i)&&(i=jI[i]),TU(this.options)){const{onComplete:p,onUpdate:g,motionValue:C,element:S,...y}=this.options,w=PU(t,y);t=w.keyframes,t.length===1&&(t[1]=t[0]),n=w.duration,s=w.times,i=w.ease,o="keyframes"}const f=RU(a.owner.current,l,t,{...this.options,duration:n,times:s,ease:i});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(LP(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;a.set(l0(t,this.options,r)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:n,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return zo(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return zo(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Uo(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Us;const{animation:n}=r;LP(n,t)}return Us}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:o,times:a}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:p,element:g,...C}=this.options,S=new A1({...C,keyframes:n,duration:s,type:i,ease:o,times:a,isGenerator:!0}),y=Uo(this.time);u.setWithVelocity(S.sample(y-av).value,S.sample(y).value,av)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=r.owner.getProps();return EU()&&n&&bU.has(n)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const DU={type:"spring",stiffness:500,damping:25,restSpeed:10},MU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),NU={type:"keyframes",duration:.8},IU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OU=(e,{keyframes:t})=>t.length>2?NU:Gc.has(e)?e.startsWith("scale")?MU(t[1]):DU:IU;function kU({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const D1=(e,t,r,n={},s,i)=>o=>{const a=g1(n,e)||{},l=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Uo(l);let f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};kU(a)||(f={...f,...OU(e,f)}),f.duration&&(f.duration=Uo(f.duration)),f.repeatDelay&&(f.repeatDelay=Uo(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!i&&t.get()!==void 0){const g=l0(f.keyframes,a);if(g!==void 0)return wr.update(()=>{f.onUpdate(g),f.onComplete()}),new eW([])}return!i&&ZP.supports(f)?new ZP(f):new A1(f)};function LU({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function BI(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(o=n);const u=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const p in l){const g=e.getValue(p,(i=e.latestValues[p])!==null&&i!==void 0?i:null),C=l[p];if(C===void 0||f&&LU(f,p))continue;const S={delay:r,...g1(o||{},p)};let y=!1;if(window.MotionHandoffAnimation){const b=cI(e);if(b){const F=window.MotionHandoffAnimation(b,p,wr);F!==null&&(S.startTime=F,y=!0)}}Tw(e,p),g.start(D1(p,g,C,e.shouldReduceMotion&&aI.has(p)?{type:!1}:S,e,y));const w=g.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{wr.update(()=>{a&&pW(e,a)})}),u}function Ow(e,t,r={}){var n;const s=a0(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(BI(e,s,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=i;return _U(e,t,f+u,p,g,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,f]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>f())}else return Promise.all([o(),a(r.delay)])}function _U(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,l=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(e.variantChildren).sort(jU).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(Ow(u,t,{...i,delay:r+l(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function jU(e,t){return e.sortNodePosition(t)}function BU(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Ow(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Ow(e,t,r);else{const s=typeof t=="function"?a0(e,t,r.custom):t;n=Promise.all(BI(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const GU=n1.length;function GI(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?GI(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<GU;r++){const n=n1[r],s=e.props[n];(Pf(s)||s===!1)&&(t[n]=s)}return t}const HU=[...r1].reverse(),VU=r1.length;function WU(e){return t=>Promise.all(t.map(({animation:r,options:n})=>BU(e,r,n)))}function UU(e){let t=WU(e),r=eA(),n=!0;const s=l=>(u,f)=>{var p;const g=a0(e,f,l==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:C,transitionEnd:S,...y}=g;u={...u,...y,...S}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,f=GI(e.parent)||{},p=[],g=new Set;let C={},S=1/0;for(let w=0;w<VU;w++){const b=HU[w],F=r[b],E=u[b]!==void 0?u[b]:f[b],R=Pf(E),A=b===l?F.isActive:null;A===!1&&(S=w);let D=E===f[b]&&E!==u[b]&&R;if(D&&n&&e.manuallyAnimateOnMount&&(D=!1),F.protectedKeys={...C},!F.isActive&&A===null||!E&&!F.prevProp||i0(E)||typeof E=="boolean")continue;const M=zU(F.prevProp,E);let I=M||b===l&&F.isActive&&!D&&R||w>S&&R,L=!1;const j=Array.isArray(E)?E:[E];let W=j.reduce(s(b),{});A===!1&&(W={});const{prevResolvedValues:B={}}=F,ie={...B,...W},Se=ae=>{I=!0,g.has(ae)&&(L=!0,g.delete(ae)),F.needsAnimating[ae]=!0;const Z=e.getValue(ae);Z&&(Z.liveStyle=!1)};for(const ae in ie){const Z=W[ae],re=B[ae];if(C.hasOwnProperty(ae))continue;let ue=!1;Rw(Z)&&Rw(re)?ue=!ZN(Z,re):ue=Z!==re,ue?Z!=null?Se(ae):g.add(ae):Z!==void 0&&g.has(ae)?Se(ae):F.protectedKeys[ae]=!0}F.prevProp=E,F.prevResolvedValues=W,F.isActive&&(C={...C,...W}),n&&e.blockInitialAnimation&&(I=!1),I&&(!(D&&M)||L)&&p.push(...j.map(ae=>({animation:ae,options:{type:b}})))}if(g.size){const w={};g.forEach(b=>{const F=e.getBaseTarget(b),E=e.getValue(b);E&&(E.liveStyle=!0),w[b]=F??null}),p.push({animation:w})}let y=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(p):Promise.resolve()}function a(l,u){var f;if(r[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var C;return(C=g.animationState)===null||C===void 0?void 0:C.setActive(l,u)}),r[l].isActive=u;const p=o(l);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=eA(),n=!0}}}function zU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZN(t,e):!1}function Ul(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eA(){return{animate:Ul(!0),whileInView:Ul(),whileHover:Ul(),whileTap:Ul(),whileDrag:Ul(),whileFocus:Ul(),exit:Ul()}}class yl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class $U extends yl{constructor(t){super(t),t.animationState||(t.animationState=UU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();i0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let KU=0;class qU extends yl{constructor(){super(...arguments),this.id=KU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const YU={animation:{Feature:$U},exit:{Feature:qU}};function Nf(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function fp(e){return{point:{x:e.pageX,y:e.pageY}}}const QU=e=>t=>C1(t)&&e(t,fp(t));function uf(e,t,r,n){return Nf(e,t,QU(r),n)}const tA=(e,t)=>Math.abs(e-t);function XU(e,t){const r=tA(e.x,t.x),n=tA(e.y,t.y);return Math.sqrt(r**2+n**2)}class HI{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Zy(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,C=XU(p.offset,{x:0,y:0})>=3;if(!g&&!C)return;const{point:S}=p,{timestamp:y}=yn;this.history.push({...S,timestamp:y});const{onStart:w,onMove:b}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Jy(g,this.transformPagePoint),wr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:C,onSessionEnd:S,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Zy(p.type==="pointercancel"?this.lastMoveEventInfo:Jy(g,this.transformPagePoint),this.history);this.startEvent&&C&&C(p,w),S&&S(p,w)},!C1(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=fp(t),a=Jy(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=yn;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,Zy(a,this.history)),this.removeListeners=hp(uf(this.contextWindow,"pointermove",this.handlePointerMove),uf(this.contextWindow,"pointerup",this.handlePointerUp),uf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ol(this.updatePoint)}}function Jy(e,t){return t?{point:t(e.point)}:e}function rA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zy({point:e},t){return{point:e,delta:rA(e,VI(t)),offset:rA(e,JU(t)),velocity:ZU(t,.1)}}function JU(e){return e[0]}function VI(e){return e[e.length-1]}function ZU(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=VI(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Uo(t)));)r--;if(!n)return{x:0,y:0};const i=zo(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const WI=1e-4,ez=1-WI,tz=1+WI,UI=.01,rz=0-UI,nz=0+UI;function Ks(e){return e.max-e.min}function sz(e,t,r){return Math.abs(e-t)<=r}function nA(e,t,r,n=.5){e.origin=n,e.originPoint=Ar(t.min,t.max,e.origin),e.scale=Ks(r)/Ks(t),e.translate=Ar(r.min,r.max,e.origin)-e.originPoint,(e.scale>=ez&&e.scale<=tz||isNaN(e.scale))&&(e.scale=1),(e.translate>=rz&&e.translate<=nz||isNaN(e.translate))&&(e.translate=0)}function df(e,t,r,n){nA(e.x,t.x,r.x,n?n.originX:void 0),nA(e.y,t.y,r.y,n?n.originY:void 0)}function sA(e,t,r){e.min=r.min+t.min,e.max=e.min+Ks(t)}function iz(e,t,r){sA(e.x,t.x,r.x),sA(e.y,t.y,r.y)}function iA(e,t,r){e.min=t.min-r.min,e.max=e.min+Ks(t)}function hf(e,t,r){iA(e.x,t.x,r.x),iA(e.y,t.y,r.y)}function oz(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ar(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ar(r,e,n.max):Math.min(e,r)),e}function oA(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function az(e,{top:t,left:r,bottom:n,right:s}){return{x:oA(e.x,r,s),y:oA(e.y,t,n)}}function aA(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function lz(e,t){return{x:aA(e.x,t.x),y:aA(e.y,t.y)}}function cz(e,t){let r=.5;const n=Ks(e),s=Ks(t);return s>n?r=Cd(t.min,t.max-n,e.min):n>s&&(r=Cd(e.min,e.max-s,t.min)),na(0,1,r)}function uz(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const kw=.35;function dz(e=kw){return e===!1?e=0:e===!0&&(e=kw),{x:lA(e,"left","right"),y:lA(e,"top","bottom")}}function lA(e,t,r){return{min:cA(e,t),max:cA(e,r)}}function cA(e,t){return typeof e=="number"?e:e[t]||0}const uA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hu=()=>({x:uA(),y:uA()}),dA=()=>({min:0,max:0}),Wr=()=>({x:dA(),y:dA()});function li(e){return[e("x"),e("y")]}function zI({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function hz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function fz(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function eS(e){return e===void 0||e===1}function Lw({scale:e,scaleX:t,scaleY:r}){return!eS(e)||!eS(t)||!eS(r)}function $l(e){return Lw(e)||$I(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $I(e){return hA(e.x)||hA(e.y)}function hA(e){return e&&e!=="0%"}function lv(e,t,r){const n=e-r,s=t*n;return r+s}function fA(e,t,r,n,s){return s!==void 0&&(e=lv(e,s,n)),lv(e,r,n)+t}function _w(e,t=0,r=1,n,s){e.min=fA(e.min,t,r,n,s),e.max=fA(e.max,t,r,n,s)}function KI(e,{x:t,y:r}){_w(e.x,t.translate,t.scale,t.originPoint),_w(e.y,r.translate,r.scale,r.originPoint)}const pA=.999999999999,gA=1.0000000000001;function pz(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Wu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,KI(e,o)),n&&$l(i.latestValues)&&Wu(e,i.latestValues))}t.x<gA&&t.x>pA&&(t.x=1),t.y<gA&&t.y>pA&&(t.y=1)}function Vu(e,t){e.min=e.min+t,e.max=e.max+t}function mA(e,t,r,n,s=.5){const i=Ar(e.min,e.max,s);_w(e,t,r,i,n)}function Wu(e,t){mA(e.x,t.x,t.scaleX,t.scale,t.originX),mA(e.y,t.y,t.scaleY,t.scale,t.originY)}function qI(e,t){return zI(fz(e.getBoundingClientRect(),t))}function gz(e,t,r){const n=qI(e,r),{scroll:s}=t;return s&&(Vu(n.x,s.offset.x),Vu(n.y,s.offset.y)),n}const YI=({current:e})=>e?e.ownerDocument.defaultView:null,mz=new WeakMap;class vz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(fp(f).point)},i=(f,p)=>{const{drag:g,dragPropagation:C,onDragStart:S}=this.getProps();if(g&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cW(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(w=>{let b=this.getAxisMotionValue(w).get()||0;if(co.test(b)){const{projection:F}=this.visualElement;if(F&&F.layout){const E=F.layout.layoutBox[w];E&&(b=Ks(E)*(parseFloat(b)/100))}}this.originPoint[w]=b}),S&&wr.postRender(()=>S(f,p)),Tw(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:C,onDirectionLock:S,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=p;if(C&&this.currentDirection===null){this.currentDirection=Cz(w),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),y&&y(f,p)},a=(f,p)=>this.stop(f,p),l=()=>li(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new HI(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:YI(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&wr.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!om(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=oz(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Bu(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=az(s.layoutBox,r):this.constraints=!1,this.elastic=dz(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&li(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=uz(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Bu(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=gz(n,s.root,this.visualElement.getTransformPagePoint());let o=lz(s.layout.layoutBox,i);if(r){const a=r(hz(o));this.hasMutatedConstraints=!!a,a&&(o=zI(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=li(f=>{if(!om(f,r,this.currentDirection))return;let p=l&&l[f]||{};o&&(p={min:0,max:0});const g=s?200:1e6,C=s?40:1e7,S={type:"inertia",velocity:n?t[f]:0,bounceStiffness:g,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(f,S)});return Promise.all(u).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Tw(this.visualElement,t),n.start(D1(t,n,0,r,this.visualElement,!1))}stopAnimation(){li(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){li(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){li(r=>{const{drag:n}=this.getProps();if(!om(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-Ar(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Bu(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};li(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=cz({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),li(o=>{if(!om(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ar(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;mz.set(this.visualElement,this);const t=this.visualElement.current,r=uf(t,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Bu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wr.read(n);const o=Nf(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(li(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=l[f].translate,p.set(p.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=kw,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function om(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Cz(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class yz extends yl{constructor(t){super(t),this.removeGroupControls=Us,this.removeListeners=Us,this.controls=new vz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Us}unmount(){this.removeGroupControls(),this.removeListeners()}}const vA=e=>(t,r)=>{e&&wr.postRender(()=>e(t,r))};class Sz extends yl{constructor(){super(...arguments),this.removePointerDownListener=Us}onPointerDown(t){this.session=new HI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:vA(t),onStart:vA(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&wr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=uf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Uh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Pt.test(e))e=parseFloat(e);else return e;const r=CA(e,t.target.x),n=CA(e,t.target.y);return`${r}% ${n}%`}},wz={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=al.parse(e);if(s.length>5)return n;const i=al.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=Ar(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class xz extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;V7(bz),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||wr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),i1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function QI(e){const[t,r]=NN(),n=v.useContext(Xx);return d.jsx(xz,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(GN),isPresent:t,safeToRemove:r})}const bz={borderRadius:{...Uh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uh,borderTopRightRadius:Uh,borderBottomLeftRadius:Uh,borderBottomRightRadius:Uh,boxShadow:wz};function Rz(e,t,r){const n=kn(e)?e:Df(e);return n.start(D1("",n,t,r)),n.animation}function Ez(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Fz=(e,t)=>e.depth-t.depth;class Tz{constructor(){this.children=[],this.isDirty=!1}add(t){y1(this.children,t),this.isDirty=!0}remove(t){S1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Fz),this.isDirty=!1,this.children.forEach(t)}}function Pz(e,t){const r=uo.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(ol(n),e(i-t))};return wr.read(n,!0),()=>ol(n)}const XI=["TopLeft","TopRight","BottomLeft","BottomRight"],Az=XI.length,yA=e=>typeof e=="string"?parseFloat(e):e,SA=e=>typeof e=="number"||Pt.test(e);function Dz(e,t,r,n,s,i){s?(e.opacity=Ar(0,r.opacity!==void 0?r.opacity:1,Mz(n)),e.opacityExit=Ar(t.opacity!==void 0?t.opacity:1,0,Nz(n))):i&&(e.opacity=Ar(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Az;o++){const a=`border${XI[o]}Radius`;let l=wA(t,a),u=wA(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||SA(l)===SA(u)?(e[a]=Math.max(Ar(yA(l),yA(u),n),0),(co.test(u)||co.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||r.rotate)&&(e.rotate=Ar(t.rotate||0,r.rotate||0,n))}function wA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mz=JI(0,.5,mI),Nz=JI(.5,.95,Us);function JI(e,t,r){return n=>n<e?0:n>t?1:r(Cd(e,t,n))}function xA(e,t){e.min=t.min,e.max=t.max}function si(e,t){xA(e.x,t.x),xA(e.y,t.y)}function bA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function RA(e,t,r,n,s){return e-=t,e=lv(e,1/r,n),s!==void 0&&(e=lv(e,1/s,n)),e}function Iz(e,t=0,r=1,n=.5,s,i=e,o=e){if(co.test(t)&&(t=parseFloat(t),t=Ar(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ar(i.min,i.max,n);e===i&&(a-=t),e.min=RA(e.min,t,r,a,s),e.max=RA(e.max,t,r,a,s)}function EA(e,t,[r,n,s],i,o){Iz(e,t[r],t[n],t[s],t.scale,i,o)}const Oz=["x","scaleX","originX"],kz=["y","scaleY","originY"];function FA(e,t,r,n){EA(e.x,t,Oz,r?r.x:void 0,n?n.x:void 0),EA(e.y,t,kz,r?r.y:void 0,n?n.y:void 0)}function TA(e){return e.translate===0&&e.scale===1}function ZI(e){return TA(e.x)&&TA(e.y)}function PA(e,t){return e.min===t.min&&e.max===t.max}function Lz(e,t){return PA(e.x,t.x)&&PA(e.y,t.y)}function AA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function eO(e,t){return AA(e.x,t.x)&&AA(e.y,t.y)}function DA(e){return Ks(e.x)/Ks(e.y)}function MA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _z{constructor(){this.members=[]}add(t){y1(this.members,t),t.scheduleRender()}remove(t){if(S1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jz(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:g,skewX:C,skewY:S}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),C&&(n+=`skewX(${C}deg) `),S&&(n+=`skewY(${S}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Kl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tf=typeof window<"u"&&window.MotionDebug!==void 0,tS=["","X","Y","Z"],Bz={visibility:"hidden"},NA=1e3;let Gz=0;function rS(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function tO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=cI(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",wr,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&tO(n)}function rO({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Gz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tf&&(Kl.totalNodes=Kl.resolvedTargetDeltas=Kl.recalculatedProjection=0),this.nodes.forEach(Wz),this.nodes.forEach(qz),this.nodes.forEach(Yz),this.nodes.forEach(Uz),tf&&window.MotionDebug.record(Kl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new w1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ez(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Pz(g,250),jm.hasAnimatedSinceResize&&(jm.hasAnimatedSinceResize=!1,this.nodes.forEach(OA))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:C,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||e$,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=f.getProps(),F=!this.targetLayout||!eO(this.targetLayout,S)||C,E=!g&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||g&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,E);const R={...g1(y,"layout"),onPlay:w,onComplete:b};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||OA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ol(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IA);return}this.isUpdating||this.nodes.forEach($z),this.isUpdating=!1,this.nodes.forEach(Kz),this.nodes.forEach(Hz),this.nodes.forEach(Vz),this.clearAllSnapshots();const a=uo.now();yn.delta=na(0,1e3/60,a-yn.timestamp),yn.timestamp=a,yn.isProcessing=!0,Ky.update.process(yn),Ky.preRender.process(yn),Ky.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,i1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zz),this.sharedNodes.forEach(Xz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!ZI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||$l(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),t$(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Wr();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(r$))){const{scroll:f}=this.root;f&&(Vu(l.x,f.offset.x),Vu(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=Wr();if(si(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&si(l,o),Vu(l.x,p.offset.x),Vu(l.y,p.offset.y))}return l}applyTransform(o,a=!1){const l=Wr();si(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Wu(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),$l(f.latestValues)&&Wu(l,f.latestValues)}return $l(this.latestValues)&&Wu(l,this.latestValues),l}removeTransform(o){const a=Wr();si(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!$l(u.latestValues))continue;Lw(u.latestValues)&&u.updateSnapshot();const f=Wr(),p=u.measurePageBox();si(f,p),FA(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return $l(this.latestValues)&&FA(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),hf(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wr(),this.targetWithTransforms=Wr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):si(this.target,this.layout.layoutBox),KI(this.target,this.targetDelta)):si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),hf(this.relativeTargetOrigin,this.target,C.target),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tf&&Kl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lw(this.parent.latestValues)||$I(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;si(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,C=this.treeScale.y;pz(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Wr());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bA(this.prevProjectionDelta.x,this.projectionDelta.x),bA(this.prevProjectionDelta.y,this.projectionDelta.y)),df(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==C||!MA(this.projectionDelta.x,this.prevProjectionDelta.x)||!MA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),tf&&Kl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hu(),this.projectionDelta=Hu(),this.projectionDeltaWithTransform=Hu()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},p=Hu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Wr(),C=l?l.source:void 0,S=this.layout?this.layout.source:void 0,y=C!==S,w=this.getStack(),b=!w||w.members.length<=1,F=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(Zz));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const A=R/1e3;kA(p.x,o.x,A),kA(p.y,o.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hf(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jz(this.relativeTarget,this.relativeTargetOrigin,g,A),E&&Lz(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Wr()),si(E,this.relativeTarget)),y&&(this.animationValues=f,Dz(f,u,this.latestValues,A,F,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ol(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wr.update(()=>{jm.hasAnimatedSinceResize=!0,this.currentAnimation=Rz(0,NA,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&nO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Wr();const p=Ks(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=Ks(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}si(a,l),Wu(a,f),df(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _z),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&rS("z",o,u,this.animationValues);for(let f=0;f<tS.length;f++)rS(`rotate${tS[f]}`,o,u,this.animationValues),rS(`skew${tS[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Bz;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Lm(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Lm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$l(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=jz(this.projectionDeltaWithTransform,this.treeScale,g),f&&(u.transform=f(g,u.transform));const{x:C,y:S}=this.projectionDelta;u.transformOrigin=`${C.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const y in nv){if(g[y]===void 0)continue;const{correct:w,applyTo:b}=nv[y],F=u.transform==="none"?g[y]:w(g[y],p);if(b){const E=b.length;for(let R=0;R<E;R++)u[b[R]]=F}else u[y]=F}return this.options.layoutId&&(u.pointerEvents=p===this?Lm(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(IA),this.root.sharedNodes.clear()}}}function Hz(e){e.updateLayout()}function Vz(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?li(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],C=Ks(g);g.min=n[p].min,g.max=g.min+C}):nO(i,r.layoutBox,n)&&li(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],C=Ks(n[p]);g.max=g.min+C,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+C)});const a=Hu();df(a,n,r.layoutBox);const l=Hu();o?df(l,e.applyTransform(s,!0),r.measuredBox):df(l,n,r.layoutBox);const u=!ZI(a);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:C}=p;if(g&&C){const S=Wr();hf(S,r.layoutBox,g.layoutBox);const y=Wr();hf(y,n,C.layoutBox),eO(S,y)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=S,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Wz(e){tf&&Kl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Uz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zz(e){e.clearSnapshot()}function IA(e){e.clearMeasurements()}function $z(e){e.isLayoutDirty=!1}function Kz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function OA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qz(e){e.resolveTargetDelta()}function Yz(e){e.calcProjection()}function Qz(e){e.resetSkewAndRotation()}function Xz(e){e.removeLeadSnapshot()}function kA(e,t,r){e.translate=Ar(t.translate,0,r),e.scale=Ar(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function LA(e,t,r,n){e.min=Ar(t.min,r.min,n),e.max=Ar(t.max,r.max,n)}function Jz(e,t,r,n){LA(e.x,t.x,r.x,n),LA(e.y,t.y,r.y,n)}function Zz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const e$={duration:.45,ease:[.4,0,.1,1]},_A=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jA=_A("applewebkit/")&&!_A("chrome/")?Math.round:Us;function BA(e){e.min=jA(e.min),e.max=jA(e.max)}function t$(e){BA(e.x),BA(e.y)}function nO(e,t,r){return e==="position"||e==="preserve-aspect"&&!sz(DA(t),DA(r),.2)}function r$(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const n$=rO({attachResizeListener:(e,t)=>Nf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nS={current:void 0},sO=rO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nS.current){const e=new n$({});e.mount(window),e.setOptions({layoutScroll:!0}),nS.current=e}return nS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),s$={pan:{Feature:Sz},drag:{Feature:yz,ProjectionNode:sO,MeasureLayout:QI}};function GA(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&wr.postRender(()=>i(t,fp(t)))}class i$ extends yl{mount(){const{current:t}=this.node;t&&(this.unmount=sW(t,r=>(GA(this.node,r,"Start"),n=>GA(this.node,n,"End"))))}unmount(){}}class o$ extends yl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hp(Nf(this.node.current,"focus",()=>this.onFocus()),Nf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HA(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&wr.postRender(()=>i(t,fp(t)))}class a$ extends yl{mount(){const{current:t}=this.node;t&&(this.unmount=lW(t,r=>(HA(this.node,r,"Start"),(n,{success:s})=>HA(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jw=new WeakMap,sS=new WeakMap,l$=e=>{const t=jw.get(e.target);t&&t(e)},c$=e=>{e.forEach(l$)};function u$({root:e,...t}){const r=e||document;sS.has(r)||sS.set(r,{});const n=sS.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(c$,{root:e,...t})),n[s]}function d$(e,t,r){const n=u$(t);return jw.set(e,r),n.observe(e),()=>{jw.delete(e),n.unobserve(e)}}const h$={some:0,all:1};class f$ extends yl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:h$[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=u?f:p;g&&g(l)};return d$(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(p$(t,r))&&this.startObserver()}unmount(){}}function p$({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const g$={inView:{Feature:f$},tap:{Feature:a$},focus:{Feature:o$},hover:{Feature:i$}},m$={layout:{ProjectionNode:sO,MeasureLayout:QI}},Bw={current:null},iO={current:!1};function v$(){if(iO.current=!0,!!e1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Bw.current=e.matches;e.addListener(t),t()}else Bw.current=!1}const C$=[...DI,Nn,al],y$=e=>C$.find(AI(e)),VA=new WeakMap;function S$(e,t,r){for(const n in t){const s=t[n],i=r[n];if(kn(s))e.addValue(n,s);else if(kn(i))e.addValue(n,Df(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Df(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const WA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class w${scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=T1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=uo.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,wr.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=o0(r),this.isVariantNode=jN(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const C in g){const S=g[C];l[C]!==void 0&&kn(S)&&S.set(l[C],!1)}}mount(t){this.current=t,VA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),iO.current||v$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){VA.delete(this.current),this.projection&&this.projection.unmount(),ol(this.notifyUpdate),ol(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Gc.has(t),s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&wr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yd){const r=yd[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<WA.length;n++){const s=WA[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=S$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Df(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(TI(s)||CI(s))?s=parseFloat(s):!y$(s)&&al.test(r)&&(s=RI(t,r)),this.setBaseTarget(t,kn(s)?s.get():s)),kn(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=a1(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!kn(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new w1),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class oO extends w${constructor(){super(...arguments),this.KeyframeResolver=MI}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function x$(e){return window.getComputedStyle(e)}class b$ extends oO{constructor(){super(...arguments),this.type="html",this.renderInstance=KN}readValueFromInstance(t,r){if(Gc.has(r)){const n=F1(r);return n&&n.default||0}else{const n=x$(t),s=(UN(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return qI(t,r)}build(t,r,n){u1(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return p1(t,r,n)}}class R$ extends oO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Gc.has(r)){const n=F1(r);return n&&n.default||0}return r=qN.has(r)?r:s1(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return XN(t,r,n)}build(t,r,n){d1(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){YN(t,r,n,s)}mount(t){this.isSVGTag=f1(t.tagName),super.mount(t)}}const E$=(e,t)=>o1(e)?new R$(t):new b$(t,{allowProjection:e!==v.Fragment}),F$=X7({...YU,...g$,...s$,...m$},E$),Gs=h7(F$);function UA(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function T$(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function P$(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function A$(e){return Xr({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(e)}function D$(e){return Xr({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2.8 1L2.74967 0.99997C2.52122 0.999752 2.32429 0.999564 2.14983 1.04145C1.60136 1.17312 1.17312 1.60136 1.04145 2.14983C0.999564 2.32429 0.999752 2.52122 0.99997 2.74967L1 2.8V5.2L0.99997 5.25033C0.999752 5.47878 0.999564 5.67572 1.04145 5.85017C1.17312 6.39864 1.60136 6.82688 2.14983 6.95856C2.32429 7.00044 2.52122 7.00025 2.74967 7.00003L2.8 7H5.2L5.25033 7.00003C5.47878 7.00025 5.67572 7.00044 5.85017 6.95856C6.39864 6.82688 6.82688 6.39864 6.95856 5.85017C7.00044 5.67572 7.00025 5.47878 7.00003 5.25033L7 5.2V2.8L7.00003 2.74967C7.00025 2.52122 7.00044 2.32429 6.95856 2.14983C6.82688 1.60136 6.39864 1.17312 5.85017 1.04145C5.67572 0.999564 5.47878 0.999752 5.25033 0.99997L5.2 1H2.8ZM2.38328 2.01382C2.42632 2.00348 2.49222 2 2.8 2H5.2C5.50779 2 5.57369 2.00348 5.61672 2.01382C5.79955 2.05771 5.94229 2.20045 5.98619 2.38328C5.99652 2.42632 6 2.49222 6 2.8V5.2C6 5.50779 5.99652 5.57369 5.98619 5.61672C5.94229 5.79955 5.79955 5.94229 5.61672 5.98619C5.57369 5.99652 5.50779 6 5.2 6H2.8C2.49222 6 2.42632 5.99652 2.38328 5.98619C2.20045 5.94229 2.05771 5.79955 2.01382 5.61672C2.00348 5.57369 2 5.50779 2 5.2V2.8C2 2.49222 2.00348 2.42632 2.01382 2.38328C2.05771 2.20045 2.20045 2.05771 2.38328 2.01382ZM9.8 1L9.74967 0.99997C9.52122 0.999752 9.32429 0.999564 9.14983 1.04145C8.60136 1.17312 8.17312 1.60136 8.04145 2.14983C7.99956 2.32429 7.99975 2.52122 7.99997 2.74967L8 2.8V5.2L7.99997 5.25033C7.99975 5.47878 7.99956 5.67572 8.04145 5.85017C8.17312 6.39864 8.60136 6.82688 9.14983 6.95856C9.32429 7.00044 9.52122 7.00025 9.74967 7.00003L9.8 7H12.2L12.2503 7.00003C12.4788 7.00025 12.6757 7.00044 12.8502 6.95856C13.3986 6.82688 13.8269 6.39864 13.9586 5.85017C14.0004 5.67572 14.0003 5.47878 14 5.25033L14 5.2V2.8L14 2.74967C14.0003 2.52122 14.0004 2.32429 13.9586 2.14983C13.8269 1.60136 13.3986 1.17312 12.8502 1.04145C12.6757 0.999564 12.4788 0.999752 12.2503 0.99997L12.2 1H9.8ZM9.38328 2.01382C9.42632 2.00348 9.49222 2 9.8 2H12.2C12.5078 2 12.5737 2.00348 12.6167 2.01382C12.7995 2.05771 12.9423 2.20045 12.9862 2.38328C12.9965 2.42632 13 2.49222 13 2.8V5.2C13 5.50779 12.9965 5.57369 12.9862 5.61672C12.9423 5.79955 12.7995 5.94229 12.6167 5.98619C12.5737 5.99652 12.5078 6 12.2 6H9.8C9.49222 6 9.42632 5.99652 9.38328 5.98619C9.20045 5.94229 9.05771 5.79955 9.01382 5.61672C9.00348 5.57369 9 5.50779 9 5.2V2.8C9 2.49222 9.00348 2.42632 9.01382 2.38328C9.05771 2.20045 9.20045 2.05771 9.38328 2.01382ZM2.74967 7.99997L2.8 8H5.2L5.25033 7.99997C5.47878 7.99975 5.67572 7.99956 5.85017 8.04145C6.39864 8.17312 6.82688 8.60136 6.95856 9.14983C7.00044 9.32429 7.00025 9.52122 7.00003 9.74967L7 9.8V12.2L7.00003 12.2503C7.00025 12.4788 7.00044 12.6757 6.95856 12.8502C6.82688 13.3986 6.39864 13.8269 5.85017 13.9586C5.67572 14.0004 5.47878 14.0003 5.25033 14L5.2 14H2.8L2.74967 14C2.52122 14.0003 2.32429 14.0004 2.14983 13.9586C1.60136 13.8269 1.17312 13.3986 1.04145 12.8502C0.999564 12.6757 0.999752 12.4788 0.99997 12.2503L1 12.2V9.8L0.99997 9.74967C0.999752 9.52122 0.999564 9.32429 1.04145 9.14983C1.17312 8.60136 1.60136 8.17312 2.14983 8.04145C2.32429 7.99956 2.52122 7.99975 2.74967 7.99997ZM2.8 9C2.49222 9 2.42632 9.00348 2.38328 9.01382C2.20045 9.05771 2.05771 9.20045 2.01382 9.38328C2.00348 9.42632 2 9.49222 2 9.8V12.2C2 12.5078 2.00348 12.5737 2.01382 12.6167C2.05771 12.7995 2.20045 12.9423 2.38328 12.9862C2.42632 12.9965 2.49222 13 2.8 13H5.2C5.50779 13 5.57369 12.9965 5.61672 12.9862C5.79955 12.9423 5.94229 12.7995 5.98619 12.6167C5.99652 12.5737 6 12.5078 6 12.2V9.8C6 9.49222 5.99652 9.42632 5.98619 9.38328C5.94229 9.20045 5.79955 9.05771 5.61672 9.01382C5.57369 9.00348 5.50779 9 5.2 9H2.8ZM9.8 8L9.74967 7.99997C9.52122 7.99975 9.32429 7.99956 9.14983 8.04145C8.60136 8.17312 8.17312 8.60136 8.04145 9.14983C7.99956 9.32429 7.99975 9.52122 7.99997 9.74967L8 9.8V12.2L7.99997 12.2503C7.99975 12.4788 7.99956 12.6757 8.04145 12.8502C8.17312 13.3986 8.60136 13.8269 9.14983 13.9586C9.32429 14.0004 9.52122 14.0003 9.74967 14L9.8 14H12.2L12.2503 14C12.4788 14.0003 12.6757 14.0004 12.8502 13.9586C13.3986 13.8269 13.8269 13.3986 13.9586 12.8502C14.0004 12.6757 14.0003 12.4788 14 12.2503L14 12.2V9.8L14 9.74967C14.0003 9.52122 14.0004 9.32429 13.9586 9.14983C13.8269 8.60136 13.3986 8.17312 12.8502 8.04145C12.6757 7.99956 12.4788 7.99975 12.2503 7.99997L12.2 8H9.8ZM9.38328 9.01382C9.42632 9.00348 9.49222 9 9.8 9H12.2C12.5078 9 12.5737 9.00348 12.6167 9.01382C12.7995 9.05771 12.9423 9.20045 12.9862 9.38328C12.9965 9.42632 13 9.49222 13 9.8V12.2C13 12.5078 12.9965 12.5737 12.9862 12.6167C12.9423 12.7995 12.7995 12.9423 12.6167 12.9862C12.5737 12.9965 12.5078 13 12.2 13H9.8C9.49222 13 9.42632 12.9965 9.38328 12.9862C9.20045 12.9423 9.05771 12.7995 9.01382 12.6167C9.00348 12.5737 9 12.5078 9 12.2V9.8C9 9.49222 9.00348 9.42632 9.01382 9.38328C9.05771 9.20045 9.20045 9.05771 9.38328 9.01382Z",fill:"currentColor"},child:[]}]})(e)}function et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function M$(e,t){const r=v.createContext(t),n=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return d.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function mi(e,t=[]){let r=[];function n(i,o){const a=v.createContext(o),l=r.length;r=[...r,o];const u=p=>{var b;const{scope:g,children:C,...S}=p,y=((b=g==null?void 0:g[e])==null?void 0:b[l])||a,w=v.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:w,children:C})};u.displayName=i+"Provider";function f(p,g){var y;const C=((y=g==null?void 0:g[e])==null?void 0:y[l])||a,S=v.useContext(C);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,N$(s,...t)]}function N$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var I$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=I$.reduce((e,t)=>{const r=il(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function aO(e,t){e&&jc.flushSync(()=>e.dispatchEvent(t))}function un(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function O$(e,t=globalThis==null?void 0:globalThis.document){const r=un(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var k$="DismissableLayer",Gw="dismissableLayer.update",L$="dismissableLayer.pointerDownOutside",_$="dismissableLayer.focusOutside",zA,lO=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jd=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=v.useContext(lO),[f,p]=v.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=v.useState({}),S=Ht(t,M=>p(M)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(w),F=f?y.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,R=F>=b,A=G$(M=>{const I=M.target,L=[...u.branches].some(j=>j.contains(I));!R||L||(s==null||s(M),o==null||o(M),M.defaultPrevented||a==null||a())},g),D=H$(M=>{const I=M.target;[...u.branches].some(j=>j.contains(I))||(i==null||i(M),o==null||o(M),M.defaultPrevented||a==null||a())},g);return O$(M=>{F===u.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},g),v.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zA=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),$A(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=zA)}},[f,g,r,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),$A())},[f,u]),v.useEffect(()=>{const M=()=>C({});return document.addEventListener(Gw,M),()=>document.removeEventListener(Gw,M)},[]),d.jsx(mt.div,{...l,ref:S,style:{pointerEvents:E?R?"auto":"none":void 0,...e.style},onFocusCapture:et(e.onFocusCapture,D.onFocusCapture),onBlurCapture:et(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:et(e.onPointerDownCapture,A.onPointerDownCapture)})});jd.displayName=k$;var j$="DismissableLayerBranch",B$=v.forwardRef((e,t)=>{const r=v.useContext(lO),n=v.useRef(null),s=Ht(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(mt.div,{...e,ref:s})});B$.displayName=j$;function G$(e,t=globalThis==null?void 0:globalThis.document){const r=un(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){cO(L$,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function H$(e,t=globalThis==null?void 0:globalThis.document){const r=un(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&cO(_$,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $A(){const e=new CustomEvent(Gw);document.dispatchEvent(e)}function cO(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?aO(s,i):s.dispatchEvent(i)}var Yr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},V$=BM[" useId ".trim().toString()]||(()=>{}),W$=0;function pn(e){const[t,r]=v.useState(V$());return Yr(()=>{r(n=>n??String(W$++))},[e]),t?`radix-${t}`:""}const U$=["top","right","bottom","left"],ll=Math.min,_s=Math.max,cv=Math.round,am=Math.floor,ho=e=>({x:e,y:e}),z$={left:"right",right:"left",bottom:"top",top:"bottom"},$$={start:"end",end:"start"};function Hw(e,t,r){return _s(e,ll(t,r))}function sa(e,t){return typeof e=="function"?e(t):e}function ia(e){return e.split("-")[0]}function Bd(e){return e.split("-")[1]}function M1(e){return e==="x"?"y":"x"}function N1(e){return e==="y"?"height":"width"}function $o(e){return["top","bottom"].includes(ia(e))?"y":"x"}function I1(e){return M1($o(e))}function K$(e,t,r){r===void 0&&(r=!1);const n=Bd(e),s=I1(e),i=N1(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=uv(o)),[o,uv(o)]}function q$(e){const t=uv(e);return[Vw(e),t,Vw(t)]}function Vw(e){return e.replace(/start|end/g,t=>$$[t])}function Y$(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function Q$(e,t,r,n){const s=Bd(e);let i=Y$(ia(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Vw)))),i}function uv(e){return e.replace(/left|right|bottom|top/g,t=>z$[t])}function X$(e){return{top:0,right:0,bottom:0,left:0,...e}}function uO(e){return typeof e!="number"?X$(e):{top:e,right:e,bottom:e,left:e}}function dv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function KA(e,t,r){let{reference:n,floating:s}=e;const i=$o(t),o=I1(t),a=N1(o),l=ia(t),u=i==="y",f=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,g=n[a]/2-s[a]/2;let C;switch(l){case"top":C={x:f,y:n.y-s.height};break;case"bottom":C={x:f,y:n.y+n.height};break;case"right":C={x:n.x+n.width,y:p};break;case"left":C={x:n.x-s.width,y:p};break;default:C={x:n.x,y:n.y}}switch(Bd(t)){case"start":C[o]-=g*(r&&u?-1:1);break;case"end":C[o]+=g*(r&&u?-1:1);break}return C}const J$=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:p}=KA(u,n,l),g=n,C={},S=0;for(let y=0;y<a.length;y++){const{name:w,fn:b}=a[y],{x:F,y:E,data:R,reset:A}=await b({x:f,y:p,initialPlacement:n,placement:g,strategy:s,middlewareData:C,rects:u,platform:o,elements:{reference:e,floating:t}});f=F??f,p=E??p,C={...C,[w]:{...C[w],...R}},A&&S<=50&&(S++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(u=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):A.rects),{x:f,y:p}=KA(u,g,l)),y=-1)}return{x:f,y:p,placement:g,strategy:s,middlewareData:C}};async function If(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:C=0}=sa(t,e),S=uO(C),w=a[g?p==="floating"?"reference":"floating":p],b=dv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),F=p==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},A=dv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:F,offsetParent:E,strategy:l}):F);return{top:(b.top-A.top+S.top)/R.y,bottom:(A.bottom-b.bottom+S.bottom)/R.y,left:(b.left-A.left+S.left)/R.x,right:(A.right-b.right+S.right)/R.x}}const Z$=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:f=0}=sa(e,t)||{};if(u==null)return{};const p=uO(f),g={x:r,y:n},C=I1(s),S=N1(C),y=await o.getDimensions(u),w=C==="y",b=w?"top":"left",F=w?"bottom":"right",E=w?"clientHeight":"clientWidth",R=i.reference[S]+i.reference[C]-g[C]-i.floating[S],A=g[C]-i.reference[C],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let M=D?D[E]:0;(!M||!await(o.isElement==null?void 0:o.isElement(D)))&&(M=a.floating[E]||i.floating[S]);const I=R/2-A/2,L=M/2-y[S]/2-1,j=ll(p[b],L),W=ll(p[F],L),B=j,ie=M-y[S]-W,Se=M/2-y[S]/2+I,Ee=Hw(B,Se,ie),xe=!l.arrow&&Bd(s)!=null&&Se!==Ee&&i.reference[S]/2-(Se<B?j:W)-y[S]/2<0,ae=xe?Se<B?Se-B:Se-ie:0;return{[C]:g[C]+ae,data:{[C]:Ee,centerOffset:Se-Ee-ae,...xe&&{alignmentOffset:ae}},reset:xe}}}),eK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...w}=sa(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=ia(s),F=$o(a),E=ia(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(u.floating)),A=g||(E||!y?[uv(a)]:q$(a)),D=S!=="none";!g&&D&&A.push(...Q$(a,y,S,R));const M=[a,...A],I=await If(t,w),L=[];let j=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&L.push(I[b]),p){const Ee=K$(s,o,R);L.push(I[Ee[0]],I[Ee[1]])}if(j=[...j,{placement:s,overflows:L}],!L.every(Ee=>Ee<=0)){var W,B;const Ee=(((W=i.flip)==null?void 0:W.index)||0)+1,xe=M[Ee];if(xe){var ie;const Z=p==="alignment"?F!==$o(xe):!1,re=((ie=j[0])==null?void 0:ie.overflows[0])>0;if(!Z||re)return{data:{index:Ee,overflows:j},reset:{placement:xe}}}let ae=(B=j.filter(Z=>Z.overflows[0]<=0).sort((Z,re)=>Z.overflows[1]-re.overflows[1])[0])==null?void 0:B.placement;if(!ae)switch(C){case"bestFit":{var Se;const Z=(Se=j.filter(re=>{if(D){const ue=$o(re.placement);return ue===F||ue==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(ue=>ue>0).reduce((ue,z)=>ue+z,0)]).sort((re,ue)=>re[1]-ue[1])[0])==null?void 0:Se[0];Z&&(ae=Z);break}case"initialPlacement":ae=a;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function qA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YA(e){return U$.some(t=>e[t]>=0)}const tK=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=sa(e,t);switch(n){case"referenceHidden":{const i=await If(t,{...s,elementContext:"reference"}),o=qA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YA(o)}}}case"escaped":{const i=await If(t,{...s,altBoundary:!0}),o=qA(i,r.floating);return{data:{escapedOffsets:o,escaped:YA(o)}}}default:return{}}}}};async function rK(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ia(r),a=Bd(r),l=$o(r)==="y",u=["left","top"].includes(o)?-1:1,f=i&&l?-1:1,p=sa(t,e);let{mainAxis:g,crossAxis:C,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof S=="number"&&(C=a==="end"?S*-1:S),l?{x:C*f,y:g*u}:{x:g*u,y:C*f}}const nK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await rK(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},sK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:b,y:F}=w;return{x:b,y:F}}},...l}=sa(e,t),u={x:r,y:n},f=await If(t,l),p=$o(ia(s)),g=M1(p);let C=u[g],S=u[p];if(i){const w=g==="y"?"top":"left",b=g==="y"?"bottom":"right",F=C+f[w],E=C-f[b];C=Hw(F,C,E)}if(o){const w=p==="y"?"top":"left",b=p==="y"?"bottom":"right",F=S+f[w],E=S-f[b];S=Hw(F,S,E)}const y=a.fn({...t,[g]:C,[p]:S});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:i,[p]:o}}}}}},iK=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=sa(e,t),f={x:r,y:n},p=$o(s),g=M1(p);let C=f[g],S=f[p];const y=sa(a,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=g==="y"?"height":"width",R=i.reference[g]-i.floating[E]+w.mainAxis,A=i.reference[g]+i.reference[E]-w.mainAxis;C<R?C=R:C>A&&(C=A)}if(u){var b,F;const E=g==="y"?"width":"height",R=["top","left"].includes(ia(s)),A=i.reference[p]-i.floating[E]+(R&&((b=o.offset)==null?void 0:b[p])||0)+(R?0:w.crossAxis),D=i.reference[p]+i.reference[E]+(R?0:((F=o.offset)==null?void 0:F[p])||0)-(R?w.crossAxis:0);S<A?S=A:S>D&&(S=D)}return{[g]:C,[p]:S}}}},oK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...u}=sa(e,t),f=await If(t,u),p=ia(s),g=Bd(s),C=$o(s)==="y",{width:S,height:y}=i.floating;let w,b;p==="top"||p==="bottom"?(w=p,b=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=p,w=g==="end"?"top":"bottom");const F=y-f.top-f.bottom,E=S-f.left-f.right,R=ll(y-f[w],F),A=ll(S-f[b],E),D=!t.middlewareData.shift;let M=R,I=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=F),D&&!g){const j=_s(f.left,0),W=_s(f.right,0),B=_s(f.top,0),ie=_s(f.bottom,0);C?I=S-2*(j!==0||W!==0?j+W:_s(f.left,f.right)):M=y-2*(B!==0||ie!==0?B+ie:_s(f.top,f.bottom))}await l({...t,availableWidth:I,availableHeight:M});const L=await o.getDimensions(a.floating);return S!==L.width||y!==L.height?{reset:{rects:!0}}:{}}}};function c0(){return typeof window<"u"}function Gd(e){return dO(e)?(e.nodeName||"").toLowerCase():"#document"}function zs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yo(e){var t;return(t=(dO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dO(e){return c0()?e instanceof Node||e instanceof zs(e).Node:!1}function Wi(e){return c0()?e instanceof Element||e instanceof zs(e).Element:!1}function po(e){return c0()?e instanceof HTMLElement||e instanceof zs(e).HTMLElement:!1}function QA(e){return!c0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zs(e).ShadowRoot}function pp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ui(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function aK(e){return["table","td","th"].includes(Gd(e))}function u0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function O1(e){const t=k1(),r=Wi(e)?Ui(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function lK(e){let t=cl(e);for(;po(t)&&!wd(t);){if(O1(t))return t;if(u0(t))return null;t=cl(t)}return null}function k1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wd(e){return["html","body","#document"].includes(Gd(e))}function Ui(e){return zs(e).getComputedStyle(e)}function d0(e){return Wi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cl(e){if(Gd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||QA(e)&&e.host||yo(e);return QA(t)?t.host:t}function hO(e){const t=cl(e);return wd(t)?e.ownerDocument?e.ownerDocument.body:e.body:po(t)&&pp(t)?t:hO(t)}function Of(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=hO(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=zs(s);if(i){const a=Ww(o);return t.concat(o,o.visualViewport||[],pp(s)?s:[],a&&r?Of(a):[])}return t.concat(s,Of(s,[],r))}function Ww(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fO(e){const t=Ui(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=po(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=cv(r)!==i||cv(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function L1(e){return Wi(e)?e:e.contextElement}function Yu(e){const t=L1(e);if(!po(t))return ho(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=fO(t);let o=(i?cv(r.width):r.width)/n,a=(i?cv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const cK=ho(0);function pO(e){const t=zs(e);return!k1()||!t.visualViewport?cK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uK(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zs(e)?!1:t}function Ec(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=L1(e);let o=ho(1);t&&(n?Wi(n)&&(o=Yu(n)):o=Yu(e));const a=uK(i,r,n)?pO(i):ho(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,f=s.width/o.x,p=s.height/o.y;if(i){const g=zs(i),C=n&&Wi(n)?zs(n):n;let S=g,y=Ww(S);for(;y&&n&&C!==S;){const w=Yu(y),b=y.getBoundingClientRect(),F=Ui(y),E=b.left+(y.clientLeft+parseFloat(F.paddingLeft))*w.x,R=b.top+(y.clientTop+parseFloat(F.paddingTop))*w.y;l*=w.x,u*=w.y,f*=w.x,p*=w.y,l+=E,u+=R,S=zs(y),y=Ww(S)}}return dv({width:f,height:p,x:l,y:u})}function _1(e,t){const r=d0(e).scrollLeft;return t?t.left+r:Ec(yo(e)).left+r}function gO(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:_1(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function dK(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=yo(n),a=t?u0(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=ho(1);const f=ho(0),p=po(n);if((p||!p&&!i)&&((Gd(n)!=="body"||pp(o))&&(l=d0(n)),po(n))){const C=Ec(n);u=Yu(n),f.x=C.x+n.clientLeft,f.y=C.y+n.clientTop}const g=o&&!p&&!i?gO(o,l,!0):ho(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-l.scrollTop*u.y+f.y+g.y}}function hK(e){return Array.from(e.getClientRects())}function fK(e){const t=yo(e),r=d0(e),n=e.ownerDocument.body,s=_s(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=_s(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+_1(e);const a=-r.scrollTop;return Ui(n).direction==="rtl"&&(o+=_s(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function pK(e,t){const r=zs(e),n=yo(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=k1();(!u||u&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function gK(e,t){const r=Ec(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=po(e)?Yu(e):ho(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:a,x:l,y:u}}function XA(e,t,r){let n;if(t==="viewport")n=pK(e,r);else if(t==="document")n=fK(yo(e));else if(Wi(t))n=gK(t,r);else{const s=pO(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return dv(n)}function mO(e,t){const r=cl(e);return r===t||!Wi(r)||wd(r)?!1:Ui(r).position==="fixed"||mO(r,t)}function mK(e,t){const r=t.get(e);if(r)return r;let n=Of(e,[],!1).filter(a=>Wi(a)&&Gd(a)!=="body"),s=null;const i=Ui(e).position==="fixed";let o=i?cl(e):e;for(;Wi(o)&&!wd(o);){const a=Ui(o),l=O1(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||pp(o)&&!l&&mO(e,o))?n=n.filter(f=>f!==o):s=a,o=cl(o)}return t.set(e,n),n}function vK(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?u0(t)?[]:mK(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,f)=>{const p=XA(t,f,s);return u.top=_s(p.top,u.top),u.right=ll(p.right,u.right),u.bottom=ll(p.bottom,u.bottom),u.left=_s(p.left,u.left),u},XA(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function CK(e){const{width:t,height:r}=fO(e);return{width:t,height:r}}function yK(e,t,r){const n=po(t),s=yo(t),i=r==="fixed",o=Ec(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=ho(0);function u(){l.x=_1(s)}if(n||!n&&!i)if((Gd(t)!=="body"||pp(s))&&(a=d0(t)),n){const C=Ec(t,!0,i,t);l.x=C.x+t.clientLeft,l.y=C.y+t.clientTop}else s&&u();i&&!n&&s&&u();const f=s&&!n&&!i?gO(s,a):ho(0),p=o.left+a.scrollLeft-l.x-f.x,g=o.top+a.scrollTop-l.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function iS(e){return Ui(e).position==="static"}function JA(e,t){if(!po(e)||Ui(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return yo(e)===r&&(r=r.ownerDocument.body),r}function vO(e,t){const r=zs(e);if(u0(e))return r;if(!po(e)){let s=cl(e);for(;s&&!wd(s);){if(Wi(s)&&!iS(s))return s;s=cl(s)}return r}let n=JA(e,t);for(;n&&aK(n)&&iS(n);)n=JA(n,t);return n&&wd(n)&&iS(n)&&!O1(n)?r:n||lK(e)||r}const SK=async function(e){const t=this.getOffsetParent||vO,r=this.getDimensions,n=await r(e.floating);return{reference:yK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function wK(e){return Ui(e).direction==="rtl"}const xK={convertOffsetParentRelativeRectToViewportRelativeRect:dK,getDocumentElement:yo,getClippingRect:vK,getOffsetParent:vO,getElementRects:SK,getClientRects:hK,getDimensions:CK,getScale:Yu,isElement:Wi,isRTL:wK};function CO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bK(e,t){let r=null,n;const s=yo(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:f,top:p,width:g,height:C}=u;if(a||t(),!g||!C)return;const S=am(p),y=am(s.clientWidth-(f+g)),w=am(s.clientHeight-(p+C)),b=am(f),E={rootMargin:-S+"px "+-y+"px "+-w+"px "+-b+"px",threshold:_s(0,ll(1,l))||1};let R=!0;function A(D){const M=D[0].intersectionRatio;if(M!==l){if(!R)return o();M?o(!1,M):n=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!CO(u,e.getBoundingClientRect())&&o(),R=!1}try{r=new IntersectionObserver(A,{...E,root:s.ownerDocument})}catch{r=new IntersectionObserver(A,E)}r.observe(e)}return o(!0),i}function RK(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=L1(e),f=s||i?[...u?Of(u):[],...Of(t)]:[];f.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const p=u&&a?bK(u,r):null;let g=-1,C=null;o&&(C=new ResizeObserver(b=>{let[F]=b;F&&F.target===u&&C&&(C.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=C)==null||E.observe(t)})),r()}),u&&!l&&C.observe(u),C.observe(t));let S,y=l?Ec(e):null;l&&w();function w(){const b=Ec(e);y&&!CO(y,b)&&r(),y=b,S=requestAnimationFrame(w)}return r(),()=>{var b;f.forEach(F=>{s&&F.removeEventListener("scroll",r),i&&F.removeEventListener("resize",r)}),p==null||p(),(b=C)==null||b.disconnect(),C=null,l&&cancelAnimationFrame(S)}}const EK=nK,FK=sK,TK=eK,PK=oK,AK=tK,ZA=Z$,DK=iK,MK=(e,t,r)=>{const n=new Map,s={platform:xK,...r},i={...s.platform,_c:n};return J$(e,t,{...s,platform:i})};var Bm=typeof document<"u"?v.useLayoutEffect:v.useEffect;function hv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!hv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function yO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eD(e,t){const r=yO(e);return Math.round(t*r)/r}function oS(e){const t=v.useRef(e);return Bm(()=>{t.current=e}),t}function NK(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[f,p]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,C]=v.useState(n);hv(g,n)||C(n);const[S,y]=v.useState(null),[w,b]=v.useState(null),F=v.useCallback(Z=>{Z!==D.current&&(D.current=Z,y(Z))},[]),E=v.useCallback(Z=>{Z!==M.current&&(M.current=Z,b(Z))},[]),R=i||S,A=o||w,D=v.useRef(null),M=v.useRef(null),I=v.useRef(f),L=l!=null,j=oS(l),W=oS(s),B=oS(u),ie=v.useCallback(()=>{if(!D.current||!M.current)return;const Z={placement:t,strategy:r,middleware:g};W.current&&(Z.platform=W.current),MK(D.current,M.current,Z).then(re=>{const ue={...re,isPositioned:B.current!==!1};Se.current&&!hv(I.current,ue)&&(I.current=ue,jc.flushSync(()=>{p(ue)}))})},[g,t,r,W,B]);Bm(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(Z=>({...Z,isPositioned:!1})))},[u]);const Se=v.useRef(!1);Bm(()=>(Se.current=!0,()=>{Se.current=!1}),[]),Bm(()=>{if(R&&(D.current=R),A&&(M.current=A),R&&A){if(j.current)return j.current(R,A,ie);ie()}},[R,A,ie,j,L]);const Ee=v.useMemo(()=>({reference:D,floating:M,setReference:F,setFloating:E}),[F,E]),xe=v.useMemo(()=>({reference:R,floating:A}),[R,A]),ae=v.useMemo(()=>{const Z={position:r,left:0,top:0};if(!xe.floating)return Z;const re=eD(xe.floating,f.x),ue=eD(xe.floating,f.y);return a?{...Z,transform:"translate("+re+"px, "+ue+"px)",...yO(xe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:ue}},[r,a,xe.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:ie,refs:Ee,elements:xe,floatingStyles:ae}),[f,ie,Ee,xe,ae])}const IK=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ZA({element:n.current,padding:s}).fn(r):{}:n?ZA({element:n,padding:s}).fn(r):{}}}},OK=(e,t)=>({...EK(e),options:[e,t]}),kK=(e,t)=>({...FK(e),options:[e,t]}),LK=(e,t)=>({...DK(e),options:[e,t]}),_K=(e,t)=>({...TK(e),options:[e,t]}),jK=(e,t)=>({...PK(e),options:[e,t]}),BK=(e,t)=>({...AK(e),options:[e,t]}),GK=(e,t)=>({...IK(e),options:[e,t]});var HK="Arrow",SO=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return d.jsx(mt.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});SO.displayName=HK;var VK=SO;function WK(e){const[t,r]=v.useState(void 0);return Yr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var j1="Popper",[wO,Sl]=mi(j1),[UK,xO]=wO(j1),bO=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return d.jsx(UK,{scope:t,anchor:n,onAnchorChange:s,children:r})};bO.displayName=j1;var RO="PopperAnchor",EO=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=xO(RO,r),o=v.useRef(null),a=Ht(t,o);return v.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(mt.div,{...s,ref:a})});EO.displayName=RO;var B1="PopperContent",[zK,$K]=wO(B1),FO=v.forwardRef((e,t)=>{var oe,ve,X,ne,Ne,Ae;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:C="optimized",onPlaced:S,...y}=e,w=xO(B1,r),[b,F]=v.useState(null),E=Ht(t,Qe=>F(Qe)),[R,A]=v.useState(null),D=WK(R),M=(D==null?void 0:D.width)??0,I=(D==null?void 0:D.height)??0,L=n+(i!=="center"?"-"+i:""),j=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},W=Array.isArray(u)?u:[u],B=W.length>0,ie={padding:j,boundary:W.filter(qK),altBoundary:B},{refs:Se,floatingStyles:Ee,placement:xe,isPositioned:ae,middlewareData:Z}=NK({strategy:"fixed",placement:L,whileElementsMounted:(...Qe)=>RK(...Qe,{animationFrame:C==="always"}),elements:{reference:w.anchor},middleware:[OK({mainAxis:s+I,alignmentAxis:o}),l&&kK({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?LK():void 0,...ie}),l&&_K({...ie}),jK({...ie,apply:({elements:Qe,rects:Je,availableWidth:ft,availableHeight:xt})=>{const{width:We,height:le}=Je.reference,Ke=Qe.floating.style;Ke.setProperty("--radix-popper-available-width",`${ft}px`),Ke.setProperty("--radix-popper-available-height",`${xt}px`),Ke.setProperty("--radix-popper-anchor-width",`${We}px`),Ke.setProperty("--radix-popper-anchor-height",`${le}px`)}}),R&&GK({element:R,padding:a}),YK({arrowWidth:M,arrowHeight:I}),g&&BK({strategy:"referenceHidden",...ie})]}),[re,ue]=AO(xe),z=un(S);Yr(()=>{ae&&(z==null||z())},[ae,z]);const N=(oe=Z.arrow)==null?void 0:oe.x,O=(ve=Z.arrow)==null?void 0:ve.y,H=((X=Z.arrow)==null?void 0:X.centerOffset)!==0,[G,J]=v.useState();return Yr(()=>{b&&J(window.getComputedStyle(b).zIndex)},[b]),d.jsx("div",{ref:Se.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:ae?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(ne=Z.transformOrigin)==null?void 0:ne.x,(Ne=Z.transformOrigin)==null?void 0:Ne.y].join(" "),...((Ae=Z.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(zK,{scope:r,placedSide:re,onArrowChange:A,arrowX:N,arrowY:O,shouldHideArrow:H,children:d.jsx(mt.div,{"data-side":re,"data-align":ue,...y,ref:E,style:{...y.style,animation:ae?void 0:"none"}})})})});FO.displayName=B1;var TO="PopperArrow",KK={top:"bottom",right:"left",bottom:"top",left:"right"},PO=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=$K(TO,n),o=KK[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(VK,{...s,ref:r,style:{...s.style,display:"block"}})})});PO.displayName=TO;function qK(e){return e!==null}var YK=e=>({name:"transformOrigin",options:e,fn(t){var w,b,F;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,f]=AO(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,C=(((F=s.arrow)==null?void 0:F.y)??0)+l/2;let S="",y="";return u==="bottom"?(S=o?p:`${g}px`,y=`${-l}px`):u==="top"?(S=o?p:`${g}px`,y=`${n.floating.height+l}px`):u==="right"?(S=`${-l}px`,y=o?p:`${C}px`):u==="left"&&(S=`${n.floating.width+l}px`,y=o?p:`${C}px`),{data:{x:S,y}}}});function AO(e){const[t,r="center"]=e.split("-");return[t,r]}var h0=bO,gp=EO,f0=FO,p0=PO,QK="Portal",Hd=v.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=v.useState(!1);Yr(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?rN.createPortal(d.jsx(mt.div,{...n,ref:t}),o):null});Hd.displayName=QK;function XK(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Fn=e=>{const{present:t,children:r}=e,n=JK(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=Ht(n.ref,ZK(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};Fn.displayName="Presence";function JK(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[a,l]=XK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=lm(n.current);i.current=a==="mounted"?u:"none"},[a]),Yr(()=>{const u=n.current,f=s.current;if(f!==e){const g=i.current,C=lm(u);e?l("MOUNT"):C==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&g!==C?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Yr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=C=>{const y=lm(n.current).includes(C.animationName);if(C.target===t&&y&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=C=>{C.target===t&&(i.current=lm(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function lm(e){return(e==null?void 0:e.animationName)||"none"}function ZK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eq=BM[" useInsertionEffect ".trim().toString()]||Yr;function ul({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=tq({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const u=v.useCallback(f=>{var p;if(a){const g=rq(f)?f(e):f;g!==e&&((p=o.current)==null||p.call(o,g))}else i(f)},[a,e,i,o]);return[l,u]}function tq({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return eq(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function rq(e){return typeof e=="function"}var DO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nq="VisuallyHidden",MO=v.forwardRef((e,t)=>d.jsx(mt.span,{...e,ref:t,style:{...DO,...e.style}}));MO.displayName=nq;var sq=MO,[g0,lRe]=mi("Tooltip",[Sl]),m0=Sl(),NO="TooltipProvider",iq=700,Uw="tooltip.open",[oq,G1]=g0(NO),IO=e=>{const{__scopeTooltip:t,delayDuration:r=iq,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),d.jsx(oq,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};IO.displayName=NO;var kf="Tooltip",[aq,mp]=g0(kf),OO=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,l=G1(kf,e.__scopeTooltip),u=m0(t),[f,p]=v.useState(null),g=pn(),C=v.useRef(0),S=o??l.disableHoverableContent,y=a??l.delayDuration,w=v.useRef(!1),[b,F]=ul({prop:n,defaultProp:s??!1,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(Uw))):l.onClose(),i==null||i(M)},caller:kf}),E=v.useMemo(()=>b?w.current?"delayed-open":"instant-open":"closed",[b]),R=v.useCallback(()=>{window.clearTimeout(C.current),C.current=0,w.current=!1,F(!0)},[F]),A=v.useCallback(()=>{window.clearTimeout(C.current),C.current=0,F(!1)},[F]),D=v.useCallback(()=>{window.clearTimeout(C.current),C.current=window.setTimeout(()=>{w.current=!0,F(!0),C.current=0},y)},[y,F]);return v.useEffect(()=>()=>{C.current&&(window.clearTimeout(C.current),C.current=0)},[]),d.jsx(h0,{...u,children:d.jsx(aq,{scope:t,contentId:g,open:b,stateAttribute:E,trigger:f,onTriggerChange:p,onTriggerEnter:v.useCallback(()=>{l.isOpenDelayedRef.current?D():R()},[l.isOpenDelayedRef,D,R]),onTriggerLeave:v.useCallback(()=>{S?A():(window.clearTimeout(C.current),C.current=0)},[A,S]),onOpen:R,onClose:A,disableHoverableContent:S,children:r})})};OO.displayName=kf;var zw="TooltipTrigger",kO=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=mp(zw,r),i=G1(zw,r),o=m0(r),a=v.useRef(null),l=Ht(t,a,s.onTriggerChange),u=v.useRef(!1),f=v.useRef(!1),p=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(gp,{asChild:!0,...o,children:d.jsx(mt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:et(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:et(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:et(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:et(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:et(e.onBlur,s.onClose),onClick:et(e.onClick,s.onClose)})})});kO.displayName=zw;var H1="TooltipPortal",[lq,cq]=g0(H1,{forceMount:void 0}),LO=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:s}=e,i=mp(H1,t);return d.jsx(lq,{scope:t,forceMount:r,children:d.jsx(Fn,{present:r||i.open,children:d.jsx(Hd,{asChild:!0,container:s,children:n})})})};LO.displayName=H1;var xd="TooltipContent",_O=v.forwardRef((e,t)=>{const r=cq(xd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=mp(xd,e.__scopeTooltip);return d.jsx(Fn,{present:n||o.open,children:o.disableHoverableContent?d.jsx(jO,{side:s,...i,ref:t}):d.jsx(uq,{side:s,...i,ref:t})})}),uq=v.forwardRef((e,t)=>{const r=mp(xd,e.__scopeTooltip),n=G1(xd,e.__scopeTooltip),s=v.useRef(null),i=Ht(t,s),[o,a]=v.useState(null),{trigger:l,onClose:u}=r,f=s.current,{onPointerInTransitChange:p}=n,g=v.useCallback(()=>{a(null),p(!1)},[p]),C=v.useCallback((S,y)=>{const w=S.currentTarget,b={x:S.clientX,y:S.clientY},F=gq(b,w.getBoundingClientRect()),E=mq(b,F),R=vq(y.getBoundingClientRect()),A=yq([...E,...R]);a(A),p(!0)},[p]);return v.useEffect(()=>()=>g(),[g]),v.useEffect(()=>{if(l&&f){const S=w=>C(w,f),y=w=>C(w,l);return l.addEventListener("pointerleave",S),f.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",S),f.removeEventListener("pointerleave",y)}}},[l,f,C,g]),v.useEffect(()=>{if(o){const S=y=>{const w=y.target,b={x:y.clientX,y:y.clientY},F=(l==null?void 0:l.contains(w))||(f==null?void 0:f.contains(w)),E=!Cq(b,o);F?g():E&&(g(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,f,o,u,g]),d.jsx(jO,{...e,ref:i})}),[dq,hq]=g0(kf,{isInside:!1}),fq=h9("TooltipContent"),jO=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=mp(xd,r),u=m0(r),{onClose:f}=l;return v.useEffect(()=>(document.addEventListener(Uw,f),()=>document.removeEventListener(Uw,f)),[f]),v.useEffect(()=>{if(l.trigger){const p=g=>{const C=g.target;C!=null&&C.contains(l.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,f]),d.jsx(jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:d.jsxs(f0,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(fq,{children:n}),d.jsx(dq,{scope:r,isInside:!0,children:d.jsx(sq,{id:l.contentId,role:"tooltip",children:s||n})})]})})});_O.displayName=xd;var BO="TooltipArrow",pq=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=m0(r);return hq(BO,r).isInside?null:d.jsx(p0,{...s,...n,ref:t})});pq.displayName=BO;function gq(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function mq(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function vq(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Cq(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],u=a.x,f=a.y,p=l.x,g=l.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(s=!s)}return s}function yq(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Sq(t)}function Sq(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wq=IO,xq=OO,bq=kO,Rq=LO,GO=_O;const Eq=wq,Fq=xq,Tq=bq,HO=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(Rq,{children:d.jsx(GO,{ref:n,sideOffset:t,className:_t("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));HO.displayName=GO.displayName;function Pq(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(e)}function Aq(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 17v-5"},child:[]},{tag:"path",attr:{d:"M12 17v-1"},child:[]},{tag:"path",attr:{d:"M15 17v-3"},child:[]}]})(e)}function Dq(e){return Xr({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.8 9.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.4-.3.7s.1.5.3.7z"},child:[]}]})(e)}function Mq(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C15.2713 2 18.1757 3.57078 20.0002 5.99923L17.2909 5.99931C15.8807 4.75499 14.0285 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C14.029 20 15.8816 19.2446 17.2919 17.9998L20.0009 17.9998C18.1765 20.4288 15.2717 22 12 22ZM19 16V13H11V11H19V8L24 12L19 16Z"},child:[]}]})(e)}function Nq(e){return Xr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM14.5946 18.8115C14.5327 18.5511 14.5 18.2794 14.5 18C14.5 17.7207 14.5327 17.449 14.5945 17.1886L13.6029 16.6161L14.6029 14.884L15.5952 15.4569C15.9883 15.0851 16.4676 14.8034 17 14.6449V13.5H19V14.6449C19.5324 14.8034 20.0116 15.0851 20.4047 15.4569L21.3971 14.8839L22.3972 16.616L21.4055 17.1885C21.4673 17.449 21.5 17.7207 21.5 18C21.5 18.2793 21.4673 18.551 21.4055 18.8114L22.3972 19.3839L21.3972 21.116L20.4048 20.543C20.0117 20.9149 19.5325 21.1966 19.0001 21.355V22.5H17.0001V21.3551C16.4677 21.1967 15.9884 20.915 15.5953 20.5431L14.603 21.1161L13.6029 19.384L14.5946 18.8115ZM18 19.5C18.8284 19.5 19.5 18.8284 19.5 18C19.5 17.1716 18.8284 16.5 18 16.5C17.1716 16.5 16.5 17.1716 16.5 18C16.5 18.8284 17.1716 19.5 18 19.5Z"},child:[]}]})(e)}const aS=[{label:"Dashboard",path:"/app/home",icon:d.jsx(D$,{})},{label:"Product List",path:"/app/product-list",icon:d.jsx(Aq,{})},{label:"User",path:"/app/user",icon:d.jsx(P$,{})},{label:"Transaction",path:"",icon:d.jsx(Pq,{}),subLinks:[{label:"Customer List",path:"/app/customer-list"},{label:"Sales",path:"/app/sales"},{label:"Installation-Location",path:"/app/installation-location"},{label:"Delivery Challan",path:"/app/delivery-challan"},{label:"Installation",path:"/app/installation"},{label:"Services",path:"/app/services"}]},{label:"Customer Setting",path:"",icon:d.jsx(Nq,{}),subLinks:[{label:"Customer Type",path:"/app/customer-type"},{label:"Source of Reference",path:"/app/SourceOfReference"},{label:"Reference Details",path:"/app/reference-details"},{label:"Customer Status",path:"/app/customer-status"},{label:"Designation",path:"/app/designation"}]},{label:"Product Setting",path:"",icon:d.jsx(T$,{}),subLinks:[{label:"Item Category",path:"/app/item-category"},{label:"Item Type",path:"/app/item-type"},{label:"Item Status",path:"/app/item-status"},{label:"Star Rating",path:"/app/star-rating"},{label:"Ref Gas Type",path:"/app/ref-gas-type"},{label:"Order Type",path:"/app/order-type"},{label:"Ton Capacity",path:"/app/ton-capacity"},{label:"Unit Of Measurements",path:"/app/unit-of-measurements"},{label:"Brand Names",path:"/app/brand-name"},{label:"Material",path:"/app/material"}]}],Iq=()=>{const e=Ts(),t=jn(),[r,n]=v.useState(!0),[s,i]=v.useState(!1),[o,a]=v.useState(null),[l,u]=v.useState(null);v.useEffect(()=>{const p=()=>{i(window.innerWidth<=768),window.innerWidth>768&&n(!0)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),v.useEffect(()=>{const p=e.pathname;let g=aS.find(C=>{var S;return(S=C.subLinks)==null?void 0:S.some(y=>y.path===p)});g||(g=aS.find(C=>C.path===p)),g!=null&&g.subLinks&&a(g.label),u(p)},[e.pathname]);const f=(p,g)=>{console.log("Navigating to:",p),u(g),t(g),s&&n(!1)};return d.jsxs("div",{className:"bg-sidebar text-sidebar-foreground",children:[s&&!r&&d.jsx("button",{onClick:()=>n(!0),className:"fixed top-4 left-4 z-50",children:d.jsx(UA,{size:24,className:"text-black dark:text-white"})}),d.jsxs("div",{className:`${s?`fixed top-0 left-0 h-screen shadow-md z-40 transition-transform ${r?"translate-x-0":"-translate-x-full"}`:`h-screen shadow-md transition-all ${r?"w-52":"w-16"}`} bg-white dark:bg-gray-900 text-black dark:text-white flex flex-col`,children:[d.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[r&&d.jsx("h1",{className:"text-lg font-bold",children:"CRM"}),d.jsx("button",{onClick:()=>n(!r),children:r?d.jsx(A$,{size:20}):d.jsx(UA,{size:20})})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto px-1 py-2 space-y-1",children:aS.map(p=>{var C;const g=l===p.path||((C=p.subLinks)==null?void 0:C.some(S=>l===S.path));return d.jsxs("div",{children:[d.jsxs("div",{onClick:()=>p.subLinks?a(o===p.label?null:p.label):f(p.label,p.path),className:`flex items-center gap-2 p-2 text-sm rounded cursor-pointer transition-colors ${g?"bg-primary text-primary-foreground":"hover:underline underline-offset-1 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:[d.jsx(Eq,{children:d.jsxs(Fq,{children:[d.jsx(Tq,{children:p.icon}),d.jsx(HO,{children:p.label})]})}),r&&d.jsx("span",{children:p.label}),p.subLinks&&r&&d.jsx(Dq,{className:`ml-auto transition-transform ${o===p.label?"rotate-180":""}`})]}),d.jsx(s7,{children:p.subLinks&&o===p.label&&r&&d.jsx(Gs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-0.5 space-y-1",children:p.subLinks.map(S=>d.jsx("div",{onClick:()=>f(S.label,S.path),className:`p-1.5 text-sm rounded cursor-pointer transition-colors ${l===S.path?"bg-primary text-primary-foreground":"hover:underline underline-offset-1 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:S.label},S.label))})})]},p.label)})})]}),s&&r&&d.jsx("div",{className:"fixed inset-0 bg-black opacity-30 z-30",onClick:()=>n(!1)})]})};var Oq=(e,t,r,n,s,i,o,a)=>{let l=document.documentElement,u=["light","dark"];function f(C){(Array.isArray(e)?e:[e]).forEach(S=>{let y=S==="class",w=y&&i?s.map(b=>i[b]||b):s;y?(l.classList.remove(...w),l.classList.add(i&&i[C]?i[C]:C)):l.setAttribute(S,C)}),p(C)}function p(C){a&&u.includes(C)&&(l.style.colorScheme=C)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let C=localStorage.getItem(t)||r,S=o&&C==="system"?g():C;f(S)}catch{}},tD=["light","dark"],VO="(prefers-color-scheme: dark)",kq=typeof window>"u",V1=v.createContext(void 0),Lq={setTheme:e=>{},themes:[]},W1=()=>{var e;return(e=v.useContext(V1))!=null?e:Lq},_q=e=>v.useContext(V1)?v.createElement(v.Fragment,null,e.children):v.createElement(Bq,{...e}),jq=["light","dark"],Bq=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:i=jq,defaultTheme:o=r?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:f,scriptProps:p})=>{let[g,C]=v.useState(()=>Hq(s,o)),[S,y]=v.useState(()=>g==="system"?lS():g),w=l?Object.values(l):i,b=v.useCallback(A=>{let D=A;if(!D)return;A==="system"&&r&&(D=lS());let M=l?l[D]:D,I=t?Vq(f):null,L=document.documentElement,j=W=>{W==="class"?(L.classList.remove(...w),M&&L.classList.add(M)):W.startsWith("data-")&&(M?L.setAttribute(W,M):L.removeAttribute(W))};if(Array.isArray(a)?a.forEach(j):j(a),n){let W=tD.includes(o)?o:null,B=tD.includes(D)?D:W;L.style.colorScheme=B}I==null||I()},[f]),F=v.useCallback(A=>{let D=typeof A=="function"?A(g):A;C(D);try{localStorage.setItem(s,D)}catch{}},[g]),E=v.useCallback(A=>{let D=lS(A);y(D),g==="system"&&r&&!e&&b("system")},[g,e]);v.useEffect(()=>{let A=window.matchMedia(VO);return A.addListener(E),E(A),()=>A.removeListener(E)},[E]),v.useEffect(()=>{let A=D=>{D.key===s&&(D.newValue?C(D.newValue):F(o))};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[F]),v.useEffect(()=>{b(e??g)},[e,g]);let R=v.useMemo(()=>({theme:g,setTheme:F,forcedTheme:e,resolvedTheme:g==="system"?S:g,themes:r?[...i,"system"]:i,systemTheme:r?S:void 0}),[g,F,e,S,r,i]);return v.createElement(V1.Provider,{value:R},v.createElement(Gq,{forcedTheme:e,storageKey:s,attribute:a,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:l,themes:i,nonce:f,scriptProps:p}),u)},Gq=v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:u})=>{let f=JSON.stringify([r,t,i,e,a,o,n,s]).slice(1,-1);return v.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Oq.toString()})(${f})`}})}),Hq=(e,t)=>{if(kq)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Vq=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},lS=e=>(e||(e=window.matchMedia(VO)),e.matches?"dark":"light");const Wq=()=>{const{theme:e,setTheme:t}=W1();return d.jsxs("button",{"aria-label":"theme toggler",onClick:()=>t(e==="dark"?"light":"dark"),className:"flex items-center justify-center text-black rounded-full cursor-pointer bg-gray-2 dark:bg-dark-bg h-9 w-9 dark:text-white md:h-14 md:w-14",children:[d.jsx("svg",{viewBox:"0 0 23 23",className:"w-5 h-5 stroke-current dark:hidden md:h-6 md:w-6",fill:"none",children:d.jsx("path",{d:"M9.55078 1.5C5.80078 1.5 1.30078 5.25 1.30078 11.25C1.30078 17.25 5.80078 21.75 11.8008 21.75C17.8008 21.75 21.5508 17.25 21.5508 13.5C13.3008 18.75 4.30078 9.75 9.55078 1.5Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),d.jsxs("svg",{viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"hidden w-5 h-5 dark:block md:h-6 md:w-6",children:[d.jsx("mask",{id:"path-1-inside-1_977:1934",fill:"white",children:d.jsx("path",{d:"M12.0508 16.5C10.8573 16.5 9.71271 16.0259 8.8688 15.182C8.02489 14.3381 7.55078 13.1935 7.55078 12C7.55078 10.8065 8.02489 9.66193 8.8688 8.81802C9.71271 7.97411 10.8573 7.5 12.0508 7.5C13.2443 7.5 14.3888 7.97411 15.2328 8.81802C16.0767 9.66193 16.5508 10.8065 16.5508 12C16.5508 13.1935 16.0767 14.3381 15.2328 15.182C14.3888 16.0259 13.2443 16.5 12.0508 16.5ZM12.0508 18C13.6421 18 15.1682 17.3679 16.2934 16.2426C17.4186 15.1174 18.0508 13.5913 18.0508 12C18.0508 10.4087 17.4186 8.88258 16.2934 7.75736C15.1682 6.63214 13.6421 6 12.0508 6C10.4595 6 8.93336 6.63214 7.80814 7.75736C6.68292 8.88258 6.05078 10.4087 6.05078 12C6.05078 13.5913 6.68292 15.1174 7.80814 16.2426C8.93336 17.3679 10.4595 18 12.0508 18ZM12.0508 0C12.2497 0 12.4405 0.0790176 12.5811 0.21967C12.7218 0.360322 12.8008 0.551088 12.8008 0.75V3.75C12.8008 3.94891 12.7218 4.13968 12.5811 4.28033C12.4405 4.42098 12.2497 4.5 12.0508 4.5C11.8519 4.5 11.6611 4.42098 11.5205 4.28033C11.3798 4.13968 11.3008 3.94891 11.3008 3.75V0.75C11.3008 0.551088 11.3798 0.360322 11.5205 0.21967C11.6611 0.0790176 11.8519 0 12.0508 0V0ZM12.0508 19.5C12.2497 19.5 12.4405 19.579 12.5811 19.7197C12.7218 19.8603 12.8008 20.0511 12.8008 20.25V23.25C12.8008 23.4489 12.7218 23.6397 12.5811 23.7803C12.4405 23.921 12.2497 24 12.0508 24C11.8519 24 11.6611 23.921 11.5205 23.7803C11.3798 23.6397 11.3008 23.4489 11.3008 23.25V20.25C11.3008 20.0511 11.3798 19.8603 11.5205 19.7197C11.6611 19.579 11.8519 19.5 12.0508 19.5ZM24.0508 12C24.0508 12.1989 23.9718 12.3897 23.8311 12.5303C23.6905 12.671 23.4997 12.75 23.3008 12.75H20.3008C20.1019 12.75 19.9111 12.671 19.7705 12.5303C19.6298 12.3897 19.5508 12.1989 19.5508 12C19.5508 11.8011 19.6298 11.6103 19.7705 11.4697C19.9111 11.329 20.1019 11.25 20.3008 11.25H23.3008C23.4997 11.25 23.6905 11.329 23.8311 11.4697C23.9718 11.6103 24.0508 11.8011 24.0508 12ZM4.55078 12C4.55078 12.1989 4.47176 12.3897 4.33111 12.5303C4.19046 12.671 3.99969 12.75 3.80078 12.75H0.800781C0.601869 12.75 0.411103 12.671 0.270451 12.5303C0.129799 12.3897 0.0507813 12.1989 0.0507812 12C0.0507813 11.8011 0.129799 11.6103 0.270451 11.4697C0.411103 11.329 0.601869 11.25 0.800781 11.25H3.80078C3.99969 11.25 4.19046 11.329 4.33111 11.4697C4.47176 11.6103 4.55078 11.8011 4.55078 12ZM20.5363 3.5145C20.6769 3.65515 20.7559 3.84588 20.7559 4.04475C20.7559 4.24362 20.6769 4.43435 20.5363 4.575L18.4153 6.6975C18.3455 6.76713 18.2628 6.82235 18.1717 6.86C18.0806 6.89765 17.983 6.91699 17.8845 6.91692C17.6855 6.91678 17.4947 6.83758 17.354 6.69675C17.2844 6.62702 17.2292 6.54425 17.1915 6.45318C17.1539 6.36211 17.1345 6.26452 17.1346 6.16597C17.1348 5.96695 17.214 5.77613 17.3548 5.6355L19.4758 3.5145C19.6164 3.3739 19.8072 3.29491 20.006 3.29491C20.2049 3.29491 20.3956 3.3739 20.5363 3.5145ZM6.74678 17.304C6.88738 17.4446 6.96637 17.6354 6.96637 17.8342C6.96637 18.0331 6.88738 18.2239 6.74678 18.3645L4.62578 20.4855C4.48433 20.6221 4.29488 20.6977 4.09823 20.696C3.90158 20.6943 3.71347 20.6154 3.57442 20.4764C3.43536 20.3373 3.35648 20.1492 3.35478 19.9526C3.35307 19.7559 3.42866 19.5665 3.56528 19.425L5.68628 17.304C5.82693 17.1634 6.01766 17.0844 6.21653 17.0844C6.4154 17.0844 6.60614 17.1634 6.74678 17.304ZM20.5363 20.4855C20.3956 20.6261 20.2049 20.7051 20.006 20.7051C19.8072 20.7051 19.6164 20.6261 19.4758 20.4855L17.3548 18.3645C17.2182 18.223 17.1426 18.0336 17.1443 17.8369C17.146 17.6403 17.2249 17.4522 17.3639 17.3131C17.503 17.1741 17.6911 17.0952 17.8877 17.0935C18.0844 17.0918 18.2738 17.1674 18.4153 17.304L20.5363 19.425C20.6769 19.5656 20.7559 19.7564 20.7559 19.9552C20.7559 20.1541 20.6769 20.3449 20.5363 20.4855ZM6.74678 6.6975C6.60614 6.8381 6.4154 6.91709 6.21653 6.91709C6.01766 6.91709 5.82693 6.8381 5.68628 6.6975L3.56528 4.575C3.49365 4.50582 3.43651 4.42306 3.39721 4.33155C3.3579 4.24005 3.33721 4.14164 3.33634 4.04205C3.33548 3.94247 3.35445 3.84371 3.39216 3.75153C3.42988 3.65936 3.48557 3.57562 3.55598 3.5052C3.6264 3.43478 3.71014 3.37909 3.80232 3.34138C3.89449 3.30367 3.99325 3.2847 4.09283 3.28556C4.19242 3.28643 4.29083 3.30712 4.38233 3.34642C4.47384 3.38573 4.5566 3.44287 4.62578 3.5145L6.74678 5.6355C6.81663 5.70517 6.87204 5.78793 6.90985 5.87905C6.94766 5.97017 6.96712 6.06785 6.96712 6.1665C6.96712 6.26515 6.94766 6.36283 6.90985 6.45395C6.87204 6.54507 6.81663 6.62783 6.74678 6.6975Z"})}),d.jsx("path",{d:"M12.0508 16.5C10.8573 16.5 9.71271 16.0259 8.8688 15.182C8.02489 14.3381 7.55078 13.1935 7.55078 12C7.55078 10.8065 8.02489 9.66193 8.8688 8.81802C9.71271 7.97411 10.8573 7.5 12.0508 7.5C13.2443 7.5 14.3888 7.97411 15.2328 8.81802C16.0767 9.66193 16.5508 10.8065 16.5508 12C16.5508 13.1935 16.0767 14.3381 15.2328 15.182C14.3888 16.0259 13.2443 16.5 12.0508 16.5ZM12.0508 18C13.6421 18 15.1682 17.3679 16.2934 16.2426C17.4186 15.1174 18.0508 13.5913 18.0508 12C18.0508 10.4087 17.4186 8.88258 16.2934 7.75736C15.1682 6.63214 13.6421 6 12.0508 6C10.4595 6 8.93336 6.63214 7.80814 7.75736C6.68292 8.88258 6.05078 10.4087 6.05078 12C6.05078 13.5913 6.68292 15.1174 7.80814 16.2426C8.93336 17.3679 10.4595 18 12.0508 18ZM12.0508 0C12.2497 0 12.4405 0.0790176 12.5811 0.21967C12.7218 0.360322 12.8008 0.551088 12.8008 0.75V3.75C12.8008 3.94891 12.7218 4.13968 12.5811 4.28033C12.4405 4.42098 12.2497 4.5 12.0508 4.5C11.8519 4.5 11.6611 4.42098 11.5205 4.28033C11.3798 4.13968 11.3008 3.94891 11.3008 3.75V0.75C11.3008 0.551088 11.3798 0.360322 11.5205 0.21967C11.6611 0.0790176 11.8519 0 12.0508 0V0ZM12.0508 19.5C12.2497 19.5 12.4405 19.579 12.5811 19.7197C12.7218 19.8603 12.8008 20.0511 12.8008 20.25V23.25C12.8008 23.4489 12.7218 23.6397 12.5811 23.7803C12.4405 23.921 12.2497 24 12.0508 24C11.8519 24 11.6611 23.921 11.5205 23.7803C11.3798 23.6397 11.3008 23.4489 11.3008 23.25V20.25C11.3008 20.0511 11.3798 19.8603 11.5205 19.7197C11.6611 19.579 11.8519 19.5 12.0508 19.5ZM24.0508 12C24.0508 12.1989 23.9718 12.3897 23.8311 12.5303C23.6905 12.671 23.4997 12.75 23.3008 12.75H20.3008C20.1019 12.75 19.9111 12.671 19.7705 12.5303C19.6298 12.3897 19.5508 12.1989 19.5508 12C19.5508 11.8011 19.6298 11.6103 19.7705 11.4697C19.9111 11.329 20.1019 11.25 20.3008 11.25H23.3008C23.4997 11.25 23.6905 11.329 23.8311 11.4697C23.9718 11.6103 24.0508 11.8011 24.0508 12ZM4.55078 12C4.55078 12.1989 4.47176 12.3897 4.33111 12.5303C4.19046 12.671 3.99969 12.75 3.80078 12.75H0.800781C0.601869 12.75 0.411103 12.671 0.270451 12.5303C0.129799 12.3897 0.0507813 12.1989 0.0507812 12C0.0507813 11.8011 0.129799 11.6103 0.270451 11.4697C0.411103 11.329 0.601869 11.25 0.800781 11.25H3.80078C3.99969 11.25 4.19046 11.329 4.33111 11.4697C4.47176 11.6103 4.55078 11.8011 4.55078 12ZM20.5363 3.5145C20.6769 3.65515 20.7559 3.84588 20.7559 4.04475C20.7559 4.24362 20.6769 4.43435 20.5363 4.575L18.4153 6.6975C18.3455 6.76713 18.2628 6.82235 18.1717 6.86C18.0806 6.89765 17.983 6.91699 17.8845 6.91692C17.6855 6.91678 17.4947 6.83758 17.354 6.69675C17.2844 6.62702 17.2292 6.54425 17.1915 6.45318C17.1539 6.36211 17.1345 6.26452 17.1346 6.16597C17.1348 5.96695 17.214 5.77613 17.3548 5.6355L19.4758 3.5145C19.6164 3.3739 19.8072 3.29491 20.006 3.29491C20.2049 3.29491 20.3956 3.3739 20.5363 3.5145ZM6.74678 17.304C6.88738 17.4446 6.96637 17.6354 6.96637 17.8342C6.96637 18.0331 6.88738 18.2239 6.74678 18.3645L4.62578 20.4855C4.48433 20.6221 4.29488 20.6977 4.09823 20.696C3.90158 20.6943 3.71347 20.6154 3.57442 20.4764C3.43536 20.3373 3.35648 20.1492 3.35478 19.9526C3.35307 19.7559 3.42866 19.5665 3.56528 19.425L5.68628 17.304C5.82693 17.1634 6.01766 17.0844 6.21653 17.0844C6.4154 17.0844 6.60614 17.1634 6.74678 17.304ZM20.5363 20.4855C20.3956 20.6261 20.2049 20.7051 20.006 20.7051C19.8072 20.7051 19.6164 20.6261 19.4758 20.4855L17.3548 18.3645C17.2182 18.223 17.1426 18.0336 17.1443 17.8369C17.146 17.6403 17.2249 17.4522 17.3639 17.3131C17.503 17.1741 17.6911 17.0952 17.8877 17.0935C18.0844 17.0918 18.2738 17.1674 18.4153 17.304L20.5363 19.425C20.6769 19.5656 20.7559 19.7564 20.7559 19.9552C20.7559 20.1541 20.6769 20.3449 20.5363 20.4855ZM6.74678 6.6975C6.60614 6.8381 6.4154 6.91709 6.21653 6.91709C6.01766 6.91709 5.82693 6.8381 5.68628 6.6975L3.56528 4.575C3.49365 4.50582 3.43651 4.42306 3.39721 4.33155C3.3579 4.24005 3.33721 4.14164 3.33634 4.04205C3.33548 3.94247 3.35445 3.84371 3.39216 3.75153C3.42988 3.65936 3.48557 3.57562 3.55598 3.5052C3.6264 3.43478 3.71014 3.37909 3.80232 3.34138C3.89449 3.30367 3.99325 3.2847 4.09283 3.28556C4.19242 3.28643 4.29083 3.30712 4.38233 3.34642C4.47384 3.38573 4.5566 3.44287 4.62578 3.5145L6.74678 5.6355C6.81663 5.70517 6.87204 5.78793 6.90985 5.87905C6.94766 5.97017 6.96712 6.06785 6.96712 6.1665C6.96712 6.26515 6.94766 6.36283 6.90985 6.45395C6.87204 6.54507 6.81663 6.62783 6.74678 6.6975Z",fill:"black",stroke:"white",strokeWidth:"2",mask:"url(#path-1-inside-1_977:1934)"})]})]})};function U1(e){const t=e+"CollectionProvider",[r,n]=mi(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:b}=y,F=De.useRef(null),E=De.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:E,collectionRef:F,children:b})};o.displayName=t;const a=e+"CollectionSlot",l=il(a),u=De.forwardRef((y,w)=>{const{scope:b,children:F}=y,E=i(a,b),R=Ht(w,E.collectionRef);return d.jsx(l,{ref:R,children:F})});u.displayName=a;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=il(f),C=De.forwardRef((y,w)=>{const{scope:b,children:F,...E}=y,R=De.useRef(null),A=Ht(w,R),D=i(f,b);return De.useEffect(()=>(D.itemMap.set(R,{ref:R,...E}),()=>void D.itemMap.delete(R))),d.jsx(g,{[p]:"",ref:A,children:F})});C.displayName=f;function S(y){const w=i(e+"CollectionConsumer",y);return De.useCallback(()=>{const F=w.collectionRef.current;if(!F)return[];const E=Array.from(F.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((D,M)=>E.indexOf(D.ref.current)-E.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:C},S,n]}var Uq=v.createContext(void 0);function vp(e){const t=v.useContext(Uq);return e||t||"ltr"}var cS=0;function v0(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rD()),document.body.insertAdjacentElement("beforeend",e[1]??rD()),cS++,()=>{cS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cS--}},[])}function rD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var uS="focusScope.autoFocusOnMount",dS="focusScope.autoFocusOnUnmount",nD={bubbles:!1,cancelable:!0},zq="FocusScope",Cp=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=v.useState(null),u=un(s),f=un(i),p=v.useRef(null),g=Ht(t,y=>l(y)),C=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let y=function(E){if(C.paused||!a)return;const R=E.target;a.contains(R)?p.current=R:Ha(p.current,{select:!0})},w=function(E){if(C.paused||!a)return;const R=E.relatedTarget;R!==null&&(a.contains(R)||Ha(p.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const A of E)A.removedNodes.length>0&&Ha(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const F=new MutationObserver(b);return a&&F.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),F.disconnect()}}},[n,a,C.paused]),v.useEffect(()=>{if(a){iD.add(C);const y=document.activeElement;if(!a.contains(y)){const b=new CustomEvent(uS,nD);a.addEventListener(uS,u),a.dispatchEvent(b),b.defaultPrevented||($q(Xq(WO(a)),{select:!0}),document.activeElement===y&&Ha(a))}return()=>{a.removeEventListener(uS,u),setTimeout(()=>{const b=new CustomEvent(dS,nD);a.addEventListener(dS,f),a.dispatchEvent(b),b.defaultPrevented||Ha(y??document.body,{select:!0}),a.removeEventListener(dS,f),iD.remove(C)},0)}}},[a,u,f,C]);const S=v.useCallback(y=>{if(!r&&!n||C.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(w&&b){const F=y.currentTarget,[E,R]=Kq(F);E&&R?!y.shiftKey&&b===R?(y.preventDefault(),r&&Ha(E,{select:!0})):y.shiftKey&&b===E&&(y.preventDefault(),r&&Ha(R,{select:!0})):b===F&&y.preventDefault()}},[r,n,C.paused]);return d.jsx(mt.div,{tabIndex:-1,...o,ref:g,onKeyDown:S})});Cp.displayName=zq;function $q(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ha(n,{select:t}),document.activeElement!==r)return}function Kq(e){const t=WO(e),r=sD(t,e),n=sD(t.reverse(),e);return[r,n]}function WO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sD(e,t){for(const r of e)if(!qq(r,{upTo:t}))return r}function qq(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Yq(e){return e instanceof HTMLInputElement&&"select"in e}function Ha(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Yq(e)&&t&&e.select()}}var iD=Qq();function Qq(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=oD(e,t),e.unshift(t)},remove(t){var r;e=oD(e,t),(r=e[0])==null||r.resume()}}}function oD(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Xq(e){return e.filter(t=>t.tagName!=="A")}var hS="rovingFocusGroup.onEntryFocus",Jq={bubbles:!1,cancelable:!0},yp="RovingFocusGroup",[$w,UO,Zq]=U1(yp),[eY,C0]=mi(yp,[Zq]),[tY,rY]=eY(yp),zO=v.forwardRef((e,t)=>d.jsx($w.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx($w.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(nY,{...e,ref:t})})}));zO.displayName=yp;var nY=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,g=v.useRef(null),C=Ht(t,g),S=vp(i),[y,w]=ul({prop:o,defaultProp:a??null,onChange:l,caller:yp}),[b,F]=v.useState(!1),E=un(u),R=UO(r),A=v.useRef(!1),[D,M]=v.useState(0);return v.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(hS,E),()=>I.removeEventListener(hS,E)},[E]),d.jsx(tY,{scope:r,orientation:n,dir:S,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(I=>w(I),[w]),onItemShiftTab:v.useCallback(()=>F(!0),[]),onFocusableItemAdd:v.useCallback(()=>M(I=>I+1),[]),onFocusableItemRemove:v.useCallback(()=>M(I=>I-1),[]),children:d.jsx(mt.div,{tabIndex:b||D===0?-1:0,"data-orientation":n,...p,ref:C,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{A.current=!0}),onFocus:et(e.onFocus,I=>{const L=!A.current;if(I.target===I.currentTarget&&L&&!b){const j=new CustomEvent(hS,Jq);if(I.currentTarget.dispatchEvent(j),!j.defaultPrevented){const W=R().filter(xe=>xe.focusable),B=W.find(xe=>xe.active),ie=W.find(xe=>xe.id===y),Ee=[B,ie,...W].filter(Boolean).map(xe=>xe.ref.current);qO(Ee,f)}}A.current=!1}),onBlur:et(e.onBlur,()=>F(!1))})})}),$O="RovingFocusGroupItem",KO=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=pn(),u=i||l,f=rY($O,r),p=f.currentTabStopId===u,g=UO(r),{onFocusableItemAdd:C,onFocusableItemRemove:S,currentTabStopId:y}=f;return v.useEffect(()=>{if(n)return C(),()=>S()},[n,C,S]),d.jsx($w.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:d.jsx(mt.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...a,ref:t,onMouseDown:et(e.onMouseDown,w=>{n?f.onItemFocus(u):w.preventDefault()}),onFocus:et(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:et(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=oY(w,f.orientation,f.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=g().filter(R=>R.focusable).map(R=>R.ref.current);if(b==="last")E.reverse();else if(b==="prev"||b==="next"){b==="prev"&&E.reverse();const R=E.indexOf(w.currentTarget);E=f.loop?aY(E,R+1):E.slice(R+1)}setTimeout(()=>qO(E))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});KO.displayName=$O;var sY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iY(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oY(e,t,r){const n=iY(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return sY[n]}function qO(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function aY(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var YO=zO,QO=KO,lY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fu=new WeakMap,cm=new WeakMap,um={},fS=0,XO=function(e){return e&&(e.host||XO(e.parentNode))},cY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=XO(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},uY=function(e,t,r,n){var s=cY(t,Array.isArray(e)?e:[e]);um[r]||(um[r]=new WeakMap);var i=um[r],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var f=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))f(g);else try{var C=g.getAttribute(n),S=C!==null&&C!=="false",y=(Fu.get(g)||0)+1,w=(i.get(g)||0)+1;Fu.set(g,y),i.set(g,w),o.push(g),y===1&&S&&cm.set(g,!0),w===1&&g.setAttribute(r,"true"),S||g.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",g,b)}})};return f(t),a.clear(),fS++,function(){o.forEach(function(p){var g=Fu.get(p)-1,C=i.get(p)-1;Fu.set(p,g),i.set(p,C),g||(cm.has(p)||p.removeAttribute(n),cm.delete(p)),C||p.removeAttribute(r)}),fS--,fS||(Fu=new WeakMap,Fu=new WeakMap,cm=new WeakMap,um={})}},y0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=lY(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),uY(n,s,r,"aria-hidden")):function(){return null}},oo=function(){return oo=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},oo.apply(this,arguments)};function JO(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function dY(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Gm="right-scroll-bar-position",Hm="width-before-scroll-bar",hY="with-scroll-bars-hidden",fY="--removed-body-scroll-bar-size";function pS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pY(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var gY=typeof window<"u"?v.useLayoutEffect:v.useEffect,aD=new WeakMap;function mY(e,t){var r=pY(null,function(n){return e.forEach(function(s){return pS(s,n)})});return gY(function(){var n=aD.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||pS(a,null)}),i.forEach(function(a){s.has(a)||pS(a,o)})}aD.set(r,e)},[e]),r}function vY(e){return e}function CY(e,t){t===void 0&&(t=vY);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return s}function yY(e){e===void 0&&(e={});var t=CY(null);return t.options=oo({async:!0,ssr:!1},e),t}var ZO=function(e){var t=e.sideCar,r=JO(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,oo({},r))};ZO.isSideCarExport=!0;function SY(e,t){return e.useMedium(t),ZO}var ek=yY(),gS=function(){},S0=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:gS,onWheelCapture:gS,onTouchMoveCapture:gS}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,C=e.noRelative,S=e.noIsolation,y=e.inert,w=e.allowPinchZoom,b=e.as,F=b===void 0?"div":b,E=e.gapMode,R=JO(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,D=mY([r,t]),M=oo(oo({},R),s);return v.createElement(v.Fragment,null,f&&v.createElement(A,{sideCar:ek,removeScrollBar:u,shards:p,noRelative:C,noIsolation:S,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:E}),o?v.cloneElement(v.Children.only(a),oo(oo({},M),{ref:D})):v.createElement(F,oo({},M,{className:l,ref:D}),a))});S0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};S0.classNames={fullWidth:Hm,zeroRight:Gm};var wY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xY(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wY();return t&&e.setAttribute("nonce",t),e}function bY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function RY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var EY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=xY())&&(bY(t,r),RY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},FY=function(){var e=EY();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},tk=function(){var e=FY(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},TY={left:0,top:0,right:0,gap:0},mS=function(e){return parseInt(e||"",10)||0},PY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[mS(r),mS(n),mS(s)]},AY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return TY;var t=PY(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},DY=tk(),Qu="data-scroll-locked",MY=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(hY,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Qu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gm,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Hm,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Gm," .").concat(Gm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hm," .").concat(Hm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qu,`] {
    `).concat(fY,": ").concat(a,`px;
  }
`)},lD=function(){var e=parseInt(document.body.getAttribute(Qu)||"0",10);return isFinite(e)?e:0},NY=function(){v.useEffect(function(){return document.body.setAttribute(Qu,(lD()+1).toString()),function(){var e=lD()-1;e<=0?document.body.removeAttribute(Qu):document.body.setAttribute(Qu,e.toString())}},[])},IY=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;NY();var i=v.useMemo(function(){return AY(s)},[s]);return v.createElement(DY,{styles:MY(i,!t,s,r?"":"!important")})},Kw=!1;if(typeof window<"u")try{var dm=Object.defineProperty({},"passive",{get:function(){return Kw=!0,!0}});window.addEventListener("test",dm,dm),window.removeEventListener("test",dm,dm)}catch{Kw=!1}var Tu=Kw?{passive:!1}:!1,OY=function(e){return e.tagName==="TEXTAREA"},rk=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!OY(e)&&r[t]==="visible")},kY=function(e){return rk(e,"overflowY")},LY=function(e){return rk(e,"overflowX")},cD=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=nk(e,n);if(s){var i=sk(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_Y=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},nk=function(e,t){return e==="v"?kY(t):LY(t)},sk=function(e,t){return e==="v"?_Y(t):jY(t)},BY=function(e,t){return e==="h"&&t==="rtl"?-1:1},GY=function(e,t,r,n,s){var i=BY(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),u=!1,f=o>0,p=0,g=0;do{var C=sk(e,a),S=C[0],y=C[1],w=C[2],b=y-w-i*S;(S||b)&&nk(e,a)&&(p+=b,g+=S),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(u=!0),u},hm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uD=function(e){return[e.deltaX,e.deltaY]},dD=function(e){return e&&"current"in e?e.current:e},HY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},WY=0,Pu=[];function UY(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(WY++)[0],i=v.useState(tk)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=dY([e.lockRef.current],(e.shards||[]).map(dD),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var b=hm(y),F=r.current,E="deltaX"in y?y.deltaX:F[0]-b[0],R="deltaY"in y?y.deltaY:F[1]-b[1],A,D=y.target,M=Math.abs(E)>Math.abs(R)?"h":"v";if("touches"in y&&M==="h"&&D.type==="range")return!1;var I=cD(M,D);if(!I)return!0;if(I?A=M:(A=M==="v"?"h":"v",I=cD(M,D)),!I)return!1;if(!n.current&&"changedTouches"in y&&(E||R)&&(n.current=A),!A)return!0;var L=n.current||A;return GY(L,w,y,L==="h"?E:R)},[]),l=v.useCallback(function(y){var w=y;if(!(!Pu.length||Pu[Pu.length-1]!==i)){var b="deltaY"in w?uD(w):hm(w),F=t.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&HY(A.delta,b)})[0];if(F&&F.should){w.cancelable&&w.preventDefault();return}if(!F){var E=(o.current.shards||[]).map(dD).filter(Boolean).filter(function(A){return A.contains(w.target)}),R=E.length>0?a(w,E[0]):!o.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),u=v.useCallback(function(y,w,b,F){var E={name:y,delta:w,target:b,should:F,shadowParent:zY(b)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(R){return R!==E})},1)},[]),f=v.useCallback(function(y){r.current=hm(y),n.current=void 0},[]),p=v.useCallback(function(y){u(y.type,uD(y),y.target,a(y,e.lockRef.current))},[]),g=v.useCallback(function(y){u(y.type,hm(y),y.target,a(y,e.lockRef.current))},[]);v.useEffect(function(){return Pu.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Tu),document.addEventListener("touchmove",l,Tu),document.addEventListener("touchstart",f,Tu),function(){Pu=Pu.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Tu),document.removeEventListener("touchmove",l,Tu),document.removeEventListener("touchstart",f,Tu)}},[]);var C=e.removeScrollBar,S=e.inert;return v.createElement(v.Fragment,null,S?v.createElement(i,{styles:VY(s)}):null,C?v.createElement(IY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $Y=SY(ek,UY);var Sp=v.forwardRef(function(e,t){return v.createElement(S0,oo({},e,{ref:t,sideCar:$Y}))});Sp.classNames=S0.classNames;var qw=["Enter"," "],KY=["ArrowDown","PageUp","Home"],ik=["ArrowUp","PageDown","End"],qY=[...KY,...ik],YY={ltr:[...qw,"ArrowRight"],rtl:[...qw,"ArrowLeft"]},QY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wp="Menu",[Lf,XY,JY]=U1(wp),[Hc,ok]=mi(wp,[JY,Sl,C0]),w0=Sl(),ak=C0(),[ZY,Vc]=Hc(wp),[eQ,xp]=Hc(wp),lk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,a=w0(t),[l,u]=v.useState(null),f=v.useRef(!1),p=un(i),g=vp(s);return v.useEffect(()=>{const C=()=>{f.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>f.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),d.jsx(h0,{...a,children:d.jsx(ZY,{scope:t,open:r,onOpenChange:p,content:l,onContentChange:u,children:d.jsx(eQ,{scope:t,onClose:v.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};lk.displayName=wp;var tQ="MenuAnchor",z1=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=w0(r);return d.jsx(gp,{...s,...n,ref:t})});z1.displayName=tQ;var $1="MenuPortal",[rQ,ck]=Hc($1,{forceMount:void 0}),uk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Vc($1,t);return d.jsx(rQ,{scope:t,forceMount:r,children:d.jsx(Fn,{present:r||i.open,children:d.jsx(Hd,{asChild:!0,container:s,children:n})})})};uk.displayName=$1;var hi="MenuContent",[nQ,K1]=Hc(hi),dk=v.forwardRef((e,t)=>{const r=ck(hi,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Vc(hi,e.__scopeMenu),o=xp(hi,e.__scopeMenu);return d.jsx(Lf.Provider,{scope:e.__scopeMenu,children:d.jsx(Fn,{present:n||i.open,children:d.jsx(Lf.Slot,{scope:e.__scopeMenu,children:o.modal?d.jsx(sQ,{...s,ref:t}):d.jsx(iQ,{...s,ref:t})})})})}),sQ=v.forwardRef((e,t)=>{const r=Vc(hi,e.__scopeMenu),n=v.useRef(null),s=Ht(t,n);return v.useEffect(()=>{const i=n.current;if(i)return y0(i)},[]),d.jsx(q1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),iQ=v.forwardRef((e,t)=>{const r=Vc(hi,e.__scopeMenu);return d.jsx(q1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),oQ=il("MenuContent.ScrollLock"),q1=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:C,disableOutsideScroll:S,...y}=e,w=Vc(hi,r),b=xp(hi,r),F=w0(r),E=ak(r),R=XY(r),[A,D]=v.useState(null),M=v.useRef(null),I=Ht(t,M,w.onContentChange),L=v.useRef(0),j=v.useRef(""),W=v.useRef(0),B=v.useRef(null),ie=v.useRef("right"),Se=v.useRef(0),Ee=S?Sp:v.Fragment,xe=S?{as:oQ,allowPinchZoom:!0}:void 0,ae=re=>{var oe,ve;const ue=j.current+re,z=R().filter(X=>!X.disabled),N=document.activeElement,O=(oe=z.find(X=>X.ref.current===N))==null?void 0:oe.textValue,H=z.map(X=>X.textValue),G=CQ(H,ue,O),J=(ve=z.find(X=>X.textValue===G))==null?void 0:ve.ref.current;(function X(ne){j.current=ne,window.clearTimeout(L.current),ne!==""&&(L.current=window.setTimeout(()=>X(""),1e3))})(ue),J&&setTimeout(()=>J.focus())};v.useEffect(()=>()=>window.clearTimeout(L.current),[]),v0();const Z=v.useCallback(re=>{var z,N;return ie.current===((z=B.current)==null?void 0:z.side)&&SQ(re,(N=B.current)==null?void 0:N.area)},[]);return d.jsx(nQ,{scope:r,searchRef:j,onItemEnter:v.useCallback(re=>{Z(re)&&re.preventDefault()},[Z]),onItemLeave:v.useCallback(re=>{var ue;Z(re)||((ue=M.current)==null||ue.focus(),D(null))},[Z]),onTriggerLeave:v.useCallback(re=>{Z(re)&&re.preventDefault()},[Z]),pointerGraceTimerRef:W,onPointerGraceIntentChange:v.useCallback(re=>{B.current=re},[]),children:d.jsx(Ee,{...xe,children:d.jsx(Cp,{asChild:!0,trapped:s,onMountAutoFocus:et(i,re=>{var ue;re.preventDefault(),(ue=M.current)==null||ue.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(jd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:C,children:d.jsx(YO,{asChild:!0,...E,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:D,onEntryFocus:et(l,re=>{b.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(f0,{role:"menu","aria-orientation":"vertical","data-state":Tk(w.open),"data-radix-menu-content":"",dir:b.dir,...F,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:et(y.onKeyDown,re=>{const z=re.target.closest("[data-radix-menu-content]")===re.currentTarget,N=re.ctrlKey||re.altKey||re.metaKey,O=re.key.length===1;z&&(re.key==="Tab"&&re.preventDefault(),!N&&O&&ae(re.key));const H=M.current;if(re.target!==H||!qY.includes(re.key))return;re.preventDefault();const J=R().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);ik.includes(re.key)&&J.reverse(),mQ(J)}),onBlur:et(e.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout(L.current),j.current="")}),onPointerMove:et(e.onPointerMove,_f(re=>{const ue=re.target,z=Se.current!==re.clientX;if(re.currentTarget.contains(ue)&&z){const N=re.clientX>Se.current?"right":"left";ie.current=N,Se.current=re.clientX}}))})})})})})})});dk.displayName=hi;var aQ="MenuGroup",Y1=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(mt.div,{role:"group",...n,ref:t})});Y1.displayName=aQ;var lQ="MenuLabel",hk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(mt.div,{...n,ref:t})});hk.displayName=lQ;var fv="MenuItem",hD="menu.itemSelect",x0=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=v.useRef(null),o=xp(fv,e.__scopeMenu),a=K1(fv,e.__scopeMenu),l=Ht(t,i),u=v.useRef(!1),f=()=>{const p=i.current;if(!r&&p){const g=new CustomEvent(hD,{bubbles:!0,cancelable:!0});p.addEventListener(hD,C=>n==null?void 0:n(C),{once:!0}),aO(p,g),g.defaultPrevented?u.current=!1:o.onClose()}};return d.jsx(fk,{...s,ref:l,disabled:r,onClick:et(e.onClick,f),onPointerDown:p=>{var g;(g=e.onPointerDown)==null||g.call(e,p),u.current=!0},onPointerUp:et(e.onPointerUp,p=>{var g;u.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:et(e.onKeyDown,p=>{const g=a.searchRef.current!=="";r||g&&p.key===" "||qw.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});x0.displayName=fv;var fk=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=K1(fv,r),a=ak(r),l=v.useRef(null),u=Ht(t,l),[f,p]=v.useState(!1),[g,C]=v.useState("");return v.useEffect(()=>{const S=l.current;S&&C((S.textContent??"").trim())},[i.children]),d.jsx(Lf.ItemSlot,{scope:r,disabled:n,textValue:s??g,children:d.jsx(QO,{asChild:!0,...a,focusable:!n,children:d.jsx(mt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:et(e.onPointerMove,_f(S=>{n?o.onItemLeave(S):(o.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,_f(S=>o.onItemLeave(S))),onFocus:et(e.onFocus,()=>p(!0)),onBlur:et(e.onBlur,()=>p(!1))})})})}),cQ="MenuCheckboxItem",pk=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return d.jsx(yk,{scope:e.__scopeMenu,checked:r,children:d.jsx(x0,{role:"menuitemcheckbox","aria-checked":pv(r)?"mixed":r,...s,ref:t,"data-state":X1(r),onSelect:et(s.onSelect,()=>n==null?void 0:n(pv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});pk.displayName=cQ;var gk="MenuRadioGroup",[uQ,dQ]=Hc(gk,{value:void 0,onValueChange:()=>{}}),mk=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=un(n);return d.jsx(uQ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:d.jsx(Y1,{...s,ref:t})})});mk.displayName=gk;var vk="MenuRadioItem",Ck=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=dQ(vk,e.__scopeMenu),i=r===s.value;return d.jsx(yk,{scope:e.__scopeMenu,checked:i,children:d.jsx(x0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":X1(i),onSelect:et(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});Ck.displayName=vk;var Q1="MenuItemIndicator",[yk,hQ]=Hc(Q1,{checked:!1}),Sk=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=hQ(Q1,r);return d.jsx(Fn,{present:n||pv(i.checked)||i.checked===!0,children:d.jsx(mt.span,{...s,ref:t,"data-state":X1(i.checked)})})});Sk.displayName=Q1;var fQ="MenuSeparator",wk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});wk.displayName=fQ;var pQ="MenuArrow",xk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=w0(r);return d.jsx(p0,{...s,...n,ref:t})});xk.displayName=pQ;var gQ="MenuSub",[cRe,bk]=Hc(gQ),rf="MenuSubTrigger",Rk=v.forwardRef((e,t)=>{const r=Vc(rf,e.__scopeMenu),n=xp(rf,e.__scopeMenu),s=bk(rf,e.__scopeMenu),i=K1(rf,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},f=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>f,[f]),v.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),d.jsx(z1,{asChild:!0,...u,children:d.jsx(fk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Tk(r.open),...e,ref:ra(t,s.onTriggerChange),onClick:p=>{var g;(g=e.onClick)==null||g.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,_f(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:et(e.onPointerLeave,_f(p=>{var C,S;f();const g=(C=r.content)==null?void 0:C.getBoundingClientRect();if(g){const y=(S=r.content)==null?void 0:S.dataset.side,w=y==="right",b=w?-5:5,F=g[w?"left":"right"],E=g[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+b,y:p.clientY},{x:F,y:g.top},{x:E,y:g.top},{x:E,y:g.bottom},{x:F,y:g.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,p=>{var C;const g=i.searchRef.current!=="";e.disabled||g&&p.key===" "||YY[n.dir].includes(p.key)&&(r.onOpenChange(!0),(C=r.content)==null||C.focus(),p.preventDefault())})})})});Rk.displayName=rf;var Ek="MenuSubContent",Fk=v.forwardRef((e,t)=>{const r=ck(hi,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Vc(hi,e.__scopeMenu),o=xp(hi,e.__scopeMenu),a=bk(Ek,e.__scopeMenu),l=v.useRef(null),u=Ht(t,l);return d.jsx(Lf.Provider,{scope:e.__scopeMenu,children:d.jsx(Fn,{present:n||i.open,children:d.jsx(Lf.Slot,{scope:e.__scopeMenu,children:d.jsx(q1,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;o.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:et(e.onFocusOutside,f=>{f.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:et(e.onKeyDown,f=>{var C;const p=f.currentTarget.contains(f.target),g=QY[o.dir].includes(f.key);p&&g&&(i.onOpenChange(!1),(C=a.trigger)==null||C.focus(),f.preventDefault())})})})})})});Fk.displayName=Ek;function Tk(e){return e?"open":"closed"}function pv(e){return e==="indeterminate"}function X1(e){return pv(e)?"indeterminate":e?"checked":"unchecked"}function mQ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function vQ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function CQ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=vQ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function yQ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],u=a.x,f=a.y,p=l.x,g=l.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(s=!s)}return s}function SQ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return yQ(r,t)}function _f(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wQ=lk,xQ=z1,bQ=uk,RQ=dk,EQ=Y1,FQ=hk,TQ=x0,PQ=pk,AQ=mk,DQ=Ck,MQ=Sk,NQ=wk,IQ=xk,OQ=Rk,kQ=Fk,b0="DropdownMenu",[LQ,uRe]=mi(b0,[ok]),ls=ok(),[_Q,Pk]=LQ(b0),Ak=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=ls(t),u=v.useRef(null),[f,p]=ul({prop:s,defaultProp:i??!1,onChange:o,caller:b0});return d.jsx(_Q,{scope:t,triggerId:pn(),triggerRef:u,contentId:pn(),open:f,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(g=>!g),[p]),modal:a,children:d.jsx(wQ,{...l,open:f,onOpenChange:p,dir:n,modal:a,children:r})})};Ak.displayName=b0;var Dk="DropdownMenuTrigger",Mk=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=Pk(Dk,r),o=ls(r);return d.jsx(xQ,{asChild:!0,...o,children:d.jsx(mt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:ra(t,i.triggerRef),onPointerDown:et(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:et(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Mk.displayName=Dk;var jQ="DropdownMenuPortal",Nk=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ls(t);return d.jsx(bQ,{...n,...r})};Nk.displayName=jQ;var Ik="DropdownMenuContent",Ok=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pk(Ik,r),i=ls(r),o=v.useRef(!1);return d.jsx(RQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:et(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ok.displayName=Ik;var BQ="DropdownMenuGroup",GQ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(EQ,{...s,...n,ref:t})});GQ.displayName=BQ;var HQ="DropdownMenuLabel",kk=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(FQ,{...s,...n,ref:t})});kk.displayName=HQ;var VQ="DropdownMenuItem",Lk=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(TQ,{...s,...n,ref:t})});Lk.displayName=VQ;var WQ="DropdownMenuCheckboxItem",_k=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(PQ,{...s,...n,ref:t})});_k.displayName=WQ;var UQ="DropdownMenuRadioGroup",zQ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(AQ,{...s,...n,ref:t})});zQ.displayName=UQ;var $Q="DropdownMenuRadioItem",jk=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(DQ,{...s,...n,ref:t})});jk.displayName=$Q;var KQ="DropdownMenuItemIndicator",Bk=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(MQ,{...s,...n,ref:t})});Bk.displayName=KQ;var qQ="DropdownMenuSeparator",Gk=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(NQ,{...s,...n,ref:t})});Gk.displayName=qQ;var YQ="DropdownMenuArrow",QQ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(IQ,{...s,...n,ref:t})});QQ.displayName=YQ;var XQ="DropdownMenuSubTrigger",Hk=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(OQ,{...s,...n,ref:t})});Hk.displayName=XQ;var JQ="DropdownMenuSubContent",Vk=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ls(r);return d.jsx(kQ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vk.displayName=JQ;var ZQ=Ak,eX=Mk,tX=Nk,Wk=Ok,J1=kk,Uk=Lk,zk=_k,$k=jk,Kk=Bk,qk=Gk,Yk=Hk,Qk=Vk;/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xk=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...nX,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Xk("lucide",s),...a},[...o.map(([u,f])=>v.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=(e,t)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(sX,{ref:i,iconNode:t,className:Xk(`lucide-${rX(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=wl("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=wl("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=wl("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=wl("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=wl("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=wl("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=wl("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=wl("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gv=ZQ,mv=eX,uX=v.forwardRef(({className:e,inset:t,children:r,...n},s)=>d.jsxs(Yk,{ref:s,className:_t("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,d.jsx(iX,{className:"ml-auto"})]}));uX.displayName=Yk.displayName;const dX=v.forwardRef(({className:e,...t},r)=>d.jsx(Qk,{ref:r,className:_t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));dX.displayName=Qk.displayName;const jf=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(tX,{children:d.jsx(Wk,{ref:n,sideOffset:t,className:_t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));jf.displayName=Wk.displayName;const Xu=v.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(Uk,{ref:n,className:_t("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));Xu.displayName=Uk.displayName;const Z1=v.forwardRef(({className:e,children:t,checked:r,...n},s)=>d.jsxs(zk,{ref:s,className:_t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Kk,{children:d.jsx(On,{className:"h-4 w-4"})})}),t]}));Z1.displayName=zk.displayName;const hX=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs($k,{ref:n,className:_t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Kk,{children:d.jsx(aX,{className:"h-2 w-2 fill-current"})})}),t]}));hX.displayName=$k.displayName;const Zk=v.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(J1,{ref:n,className:_t("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Zk.displayName=J1.displayName;const eL=v.forwardRef(({className:e,...t},r)=>d.jsx(qk,{ref:r,className:_t("-mx-1 my-1 h-px bg-muted",e),...t}));eL.displayName=qk.displayName;var vS={exports:{}},CS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD;function fX(){if(fD)return CS;fD=1;var e=Jv();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(p,g){var C=g(),S=n({inst:{value:C,getSnapshot:g}}),y=S[0].inst,w=S[1];return i(function(){y.value=C,y.getSnapshot=g,l(y)&&w({inst:y})},[p,C,g]),s(function(){return l(y)&&w({inst:y}),p(function(){l(y)&&w({inst:y})})},[p]),o(C),C}function l(p){var g=p.getSnapshot;p=p.value;try{var C=g();return!r(p,C)}catch{return!0}}function u(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return CS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,CS}var pD;function pX(){return pD||(pD=1,vS.exports=fX()),vS.exports}var gX=pX();function mX(){return gX.useSyncExternalStore(vX,()=>!0,()=>!1)}function vX(){return()=>{}}var eb="Avatar",[CX,dRe]=mi(eb),[yX,tL]=CX(eb),rL=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=v.useState("idle");return d.jsx(yX,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(mt.span,{...n,ref:t})})});rL.displayName=eb;var nL="AvatarImage",sL=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=tL(nL,r),a=SX(n,i),l=un(u=>{s(u),o.onImageLoadingStatusChange(u)});return Yr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(mt.img,{...i,ref:t,src:n}):null});sL.displayName=nL;var iL="AvatarFallback",oL=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=tL(iL,r),[o,a]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&i.imageLoadingStatus!=="loaded"?d.jsx(mt.span,{...s,ref:t}):null});oL.displayName=iL;function gD(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function SX(e,{referrerPolicy:t,crossOrigin:r}){const n=mX(),s=v.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,a]=v.useState(()=>gD(i,e));return Yr(()=>{a(gD(i,e))},[i,e]),Yr(()=>{const l=p=>()=>{a(p)};if(!i)return;const u=l("loaded"),f=l("error");return i.addEventListener("load",u),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,r,t]),o}var aL=rL,lL=sL,cL=oL;const uL=v.forwardRef(({className:e,...t},r)=>d.jsx(aL,{ref:r,className:_t("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));uL.displayName=aL.displayName;const dL=v.forwardRef(({className:e,...t},r)=>d.jsx(lL,{ref:r,className:_t("aspect-square h-full w-full",e),...t}));dL.displayName=lL.displayName;const hL=v.forwardRef(({className:e,...t},r)=>d.jsx(cL,{ref:r,className:_t("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));hL.displayName=cL.displayName;function wX(e){return Xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 352c-12.6-.84-21-4-28-12-14-16-14-36 5.49-52.48l32.82-29.14c50.27-44.41 50.27-117.21 0-161.63C389.26 64.14 339.54 48 287.86 48c-60.34 0-123.39 22-172 65.11-90.46 80-90.46 210.92 0 290.87 45 39.76 105.63 59.59 165.64 60h1.84c60 0 119.07-19.5 161.2-56.77C464 390 464 385 444.62 355.56 440 348 431 353 416 352zM112 208a32 32 0 1 1 32 32 32 32 0 0 1-32-32zm40 135a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm40-199a32 32 0 1 1 32 32 32 32 0 0 1-32-32zm64 271a48 48 0 1 1 48-48 48 48 0 0 1-48 48zm72-239a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(e)}function yS(e){return Xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29 448 448"},child:[]}]})(e)}var R0="Dialog",[fL,hRe]=mi(R0),[xX,Ki]=fL(R0),pL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=v.useRef(null),l=v.useRef(null),[u,f]=ul({prop:n,defaultProp:s??!1,onChange:i,caller:R0});return d.jsx(xX,{scope:t,triggerRef:a,contentRef:l,contentId:pn(),titleId:pn(),descriptionId:pn(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};pL.displayName=R0;var gL="DialogTrigger",bX=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ki(gL,r),i=Ht(t,s.triggerRef);return d.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nb(s.open),...n,ref:i,onClick:et(e.onClick,s.onOpenToggle)})});bX.displayName=gL;var tb="DialogPortal",[RX,mL]=fL(tb,{forceMount:void 0}),vL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Ki(tb,t);return d.jsx(RX,{scope:t,forceMount:r,children:v.Children.map(n,o=>d.jsx(Fn,{present:r||i.open,children:d.jsx(Hd,{asChild:!0,container:s,children:o})}))})};vL.displayName=tb;var vv="DialogOverlay",CL=v.forwardRef((e,t)=>{const r=mL(vv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ki(vv,e.__scopeDialog);return i.modal?d.jsx(Fn,{present:n||i.open,children:d.jsx(FX,{...s,ref:t})}):null});CL.displayName=vv;var EX=il("DialogOverlay.RemoveScroll"),FX=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ki(vv,r);return d.jsx(Sp,{as:EX,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(mt.div,{"data-state":nb(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Fc="DialogContent",yL=v.forwardRef((e,t)=>{const r=mL(Fc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ki(Fc,e.__scopeDialog);return d.jsx(Fn,{present:n||i.open,children:i.modal?d.jsx(TX,{...s,ref:t}):d.jsx(PX,{...s,ref:t})})});yL.displayName=Fc;var TX=v.forwardRef((e,t)=>{const r=Ki(Fc,e.__scopeDialog),n=v.useRef(null),s=Ht(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return y0(i)},[]),d.jsx(SL,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault())})}),PX=v.forwardRef((e,t)=>{const r=Ki(Fc,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return d.jsx(SL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),SL=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Ki(Fc,r),l=v.useRef(null),u=Ht(t,l);return v0(),d.jsxs(d.Fragment,{children:[d.jsx(Cp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(jd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":nb(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(AX,{titleId:a.titleId}),d.jsx(MX,{contentRef:l,descriptionId:a.descriptionId})]})]})}),rb="DialogTitle",wL=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ki(rb,r);return d.jsx(mt.h2,{id:s.titleId,...n,ref:t})});wL.displayName=rb;var xL="DialogDescription",bL=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ki(xL,r);return d.jsx(mt.p,{id:s.descriptionId,...n,ref:t})});bL.displayName=xL;var RL="DialogClose",EL=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ki(RL,r);return d.jsx(mt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>s.onOpenChange(!1))})});EL.displayName=RL;function nb(e){return e?"open":"closed"}var FL="DialogTitleWarning",[fRe,TL]=M$(FL,{contentName:Fc,titleName:rb,docsSlug:"dialog"}),AX=({titleId:e})=>{const t=TL(FL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},DX="DialogDescriptionWarning",MX=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TL(DX).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},PL=pL,AL=vL,sb=CL,ib=yL,DL=wL,ML=bL,NL=EL;const IL=PL,NX=AL,IX=NL,OL=v.forwardRef(({className:e,...t},r)=>d.jsx(sb,{ref:r,className:_t("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OL.displayName=sb.displayName;const ob=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(NX,{children:[d.jsx(OL,{}),d.jsxs(ib,{ref:n,className:_t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(NL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(cX,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ob.displayName=ib.displayName;const ab=({className:e,...t})=>d.jsx("div",{className:_t("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ab.displayName="DialogHeader";const kL=({className:e,...t})=>d.jsx("div",{className:_t("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kL.displayName="DialogFooter";const LL=v.forwardRef(({className:e,...t},r)=>d.jsx(DL,{ref:r,className:_t("text-lg font-semibold leading-none tracking-tight",e),...t}));LL.displayName=DL.displayName;const _L=v.forwardRef(({className:e,...t},r)=>d.jsx(ML,{ref:r,className:_t("text-sm text-muted-foreground",e),...t}));_L.displayName=ML.displayName;function OX(e){return Xr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function kX(e){return Xr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},child:[]},{tag:"path",attr:{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},child:[]}]})(e)}function LX(e){return Xr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}const SS=[{group:"Main Navigation",label:"Dashboard",path:"/app/home"},{group:"Main Navigation",label:"Product List",path:"/app/product-list"},{group:"Main Navigation",label:"User",path:"/app/user"},{group:"Transaction",label:"Customer List",path:"/app/customer-list"},{group:"Transaction",label:"Sales",path:"/app/sales"},{group:"Transaction",label:"Installation-Location",path:"/app/installation-location"},{group:"Transaction",label:"Delivery Challan",path:"/app/delivery-challan"},{group:"Transaction",label:"Installation",path:"/app/delivery-challan"},{group:"Transaction",label:"Services",path:"/app/services"},{group:"Customer Setting",label:"Customer Type",path:"/app/customer-type"},{group:"Customer Setting",label:"Source of Reference",path:"/app/SourceOfReference"},{group:"Customer Setting",label:"Reference Details",path:"/app/reference-details"},{group:"Customer Setting",label:"Customer Status",path:"/app/customer-status"},{group:"Customer Setting",label:"Designation",path:"/app/designation"},{group:"Product Setting",label:"Item Category",path:"/app/item-category"},{group:"Product Setting",label:"Item Type",path:"/app/item-type"},{group:"Product Setting",label:"Item Status",path:"/app/item-status"},{group:"Product Setting",label:"Star Rating",path:"/app/star-rating"},{group:"Product Setting",label:"Ref Gas Type",path:"/app/ref-gas-type"},{group:"Product Setting",label:"Order Type",path:"/app/order-type"},{group:"Product Setting",label:"Ton Capacity",path:"/app/ton-capacity"},{group:"Product Setting",label:"Unit Of Measurements",path:"/app/unit-of-measurements"},{group:"Product Setting",label:"Brand Names",path:"/app/brand-name"},{group:"Product Setting",label:"Material",path:"/app/material"}],_X=()=>{const{logout:e}=zx(),t=jn(),[r,n]=v.useState(!1),[s,i]=v.useState(""),[o,a]=v.useState(SS),[l,u]=v.useState(-1),f=v.useRef(null),p=()=>{e(),t("/")},g=()=>{t("/app/appearance")},C=JSON.parse(localStorage.getItem("user")||"{}"),S=(C==null?void 0:C.userName)||"",y=(C==null?void 0:C.email)||"",w=`${S.charAt(0)}${y.charAt(0)}`.toUpperCase()||"DB";v.useEffect(()=>{if(s.trim()==="")a(SS);else{const E=s.toLowerCase(),R=SS.filter(A=>A.label.toLowerCase().includes(E)||A.group.toLowerCase().includes(E));a(R)}u(-1)},[s]);const b=v.useCallback(E=>{r?E.key==="ArrowDown"?(E.preventDefault(),u(R=>Math.min(R+1,o.length-1))):E.key==="ArrowUp"?(E.preventDefault(),u(R=>Math.max(R-1,0))):E.key==="Enter"?(E.preventDefault(),l>=0&&o[l]&&(t(o[l].path),n(!1),i(""))):E.key==="Escape"&&(n(!1),i("")):E.key==="k"&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),n(!0))},[r,o,l,t]);v.useEffect(()=>(document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}),[b]),v.useEffect(()=>{r&&f.current&&f.current.focus()},[r]);const F=o.reduce((E,R)=>(E[R.group]||(E[R.group]=[]),E[R.group].push(R),E),{});return d.jsxs("header",{className:"w-full h-[3.8rem] bg-white shadow-lg shadow-gray-500/10 p-4 flex justify-between dark:bg-gray-900 dark:text-white items-center",children:[d.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs(IL,{open:r,onOpenChange:n,children:[d.jsx(Ot,{variant:"outline",className:"hidden sm:flex h-9 w-48 justify-between text-sm text-muted-foreground items-center",onClick:()=>n(!0),children:d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(yS,{className:"h-4 w-4"}),"Search..."]})}),d.jsx(Ot,{variant:"outline",size:"icon",className:"sm:hidden",onClick:()=>n(!0),children:d.jsx(yS,{className:"h-4 w-4"})}),d.jsxs(ob,{className:"p-0 sm:max-w-[450px] flex flex-col h-[80vh]",children:[d.jsx(ab,{className:"p-2 border-b",children:d.jsxs("div",{className:"relative flex items-center",children:[d.jsx(yS,{className:"absolute left-4 h-4 w-4 text-gray-500 dark:text-gray-400"}),d.jsx(be,{ref:f,className:"flex h-10 w-full rounded-md border-none bg-background py-2 pl-10 pr-8 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Type a command or search...",value:s,onChange:E=>i(E.target.value)})]})}),d.jsxs("div",{className:`flex-1 overflow-y-auto py-2\r
                         scrollbar scrollbar-thumb-gray-400 scrollbar-track-gray-200\r
                         dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800`,children:[Object.keys(F).length===0&&d.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 p-4",children:"No results found."}),Object.keys(F).map(E=>d.jsxs(De.Fragment,{children:[d.jsx("h3",{className:"px-4 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400",children:E}),F[E].map(R=>d.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 cursor-pointer text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800
                      ${l===o.findIndex(A=>A.label===R.label)?"bg-gray-100 dark:bg-gray-800":""}`,onClick:()=>{t(R.path),n(!1),i("")},children:[d.jsx(kX,{className:"h-4 w-4"}),d.jsx("span",{children:R.label})]},R.label))]},E))]})]})]}),d.jsx(Wq,{}),d.jsxs(gv,{children:[d.jsx(mv,{asChild:!0,children:d.jsxs(uL,{children:[d.jsx(dL,{src:"/default-avatar.png",alt:"Profile Picture"}),d.jsx(hL,{children:w})]})}),d.jsxs(jf,{align:"end",children:[d.jsxs(Xu,{onClick:g,children:[d.jsx(wX,{})," Appearance"]}),d.jsxs(Xu,{onClick:p,children:[d.jsx(Mq,{}),"Logout"]})]})]})]})]})},er=({children:e})=>d.jsx("div",{className:"flex h-screen overflow-hidden",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[" ",d.jsx(Iq,{})]}),d.jsxs("div",{className:"relative flex  flex-1 flex-col overflow-y-auto overflow-x-hidden",children:[d.jsx(_X,{}),d.jsx("main",{children:d.jsx("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-4",children:e})})]})]})});var Vd=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,r){const n=t?this.allAsyncListeners:this.allSyncListeners;let s=n.get(e);return!s&&r&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,r=!1){this.getListeners(e,r,!0).add(t)}removeEventListener(e,t,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(t),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const r=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const n=(a,l)=>a.forEach(u=>{if(!l.has(u))return;const f=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);t?this.dispatchAsync(f):f()}),s=this.getListeners(r,t,!1)??new Set,i=new Set(s);i.size>0&&n(i,s),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(r,e)):()=>a(r,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},jL=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(jL||{}),mD={};function lb(e,t){mD[t]||(e(),mD[t]=!0)}function ji(e,...t){console.log("AG Grid: "+e,...t)}function Te(e,...t){lb(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Qt(e,...t){lb(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function cb(e){return!!(e&&e.constructor&&e.call&&e.apply)}function jX(e){BX(e,400)}var wS=[],xS=!1;function vD(e){wS.push(e),!xS&&(xS=!0,window.setTimeout(()=>{const t=wS.slice();wS.length=0,xS=!1,t.forEach(r=>r())},0))}function BX(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(r=>r()),t)}function is(e,t){let r;return function(...n){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.apply(s,n)},t)}}function CD(e,t){let r=0;return function(...n){const s=this,i=new Date().getTime();i-r<t||(r=i,e.apply(s,n))}}function GX(e,t,r=100,n){const s=new Date().getTime();let i=null,o=!1;const a=()=>{const l=new Date().getTime()-s>r;(e()||l)&&(t(),o=!0,i!=null&&(window.clearInterval(i),i=null))};a(),o||(i=window.setInterval(a,10))}function HX(...e){return t=>e.reduce((r,n)=>n(r),t)}function Ko(e){return e==null||e===""?null:e}function Le(e,t=!1){return e!=null&&(e!==""||t)}function Gt(e){return!Le(e)}function $s(e){return e==null||e.length===0}function Yw(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function pc(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Qw(e){if(e!==void 0)return e===null||e===""?!1:Xw(e)}function Xw(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function Bf(e,t){const r=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return r===n}function VX(e,t,r=!1){const n=e==null,s=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&s)return 0;if(n)return-1;if(s)return 1;function i(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!r)return i(e,t);try{return e.localeCompare(t)}catch{return i(e,t)}}function Vm(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(r=>t.push(r)),t}return Object.values(e)}function BL(e,t){return e.get("rowModelType")===t}function Sr(e){return BL(e,"clientSide")}function So(e){return BL(e,"serverSide")}function bn(e,t){return e.get("domLayout")===t}function Cv(e){return wv(e)!==void 0}function yv(e){return!e.get("suppressAsyncEvents")}function GL(e){return typeof e.get("getRowHeight")=="function"}function WX(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function dl(e,t,r=!1,n){if(n==null&&(n=e.environment.getDefaultRowHeight()),GL(e)){if(r)return{height:n,estimated:!0};const o={node:t,data:t.data},a=e.getCallback("getRowHeight")(o);if(Jw(a))return a===0&&Te("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return UX(e);const s=e.get("rowHeight");return{height:s&&Jw(s)?s:n,estimated:!1}}function UX(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return Jw(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function gc(e){const{environment:t}=e,r=e.get("rowHeight");if(!r||Gt(r))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return n!==-1?n:(Te("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function Jw(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Gf(e,t,r){const n=t[e.getDomDataKey()];return n?n[r]:void 0}function Tc(e,t,r,n){const s=e.getDomDataKey();let i=t[s];Gt(i)&&(i={},t[s]=i),i[r]=n}function jr(e){let t=null;const r=e.get("getDocument");return r&&Le(r)?t=r():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&Le(t)?t:document}function HL(e){return jr(e).defaultView||window}function Hf(e){return e.eGridDiv.getRootNode()}function Dr(e){return Hf(e).activeElement}function VL(e){const t=jr(e),r=Dr(e);return r===null||r===t.body}function Ju(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function E0(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||bn(e,"print"))}function ao(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function Zw(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function WL(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function UL(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const r=e.get("groupIncludeFooter");if(typeof r=="function"){const n=e.getCallback("groupIncludeFooter");return s=>n(s)?"bottom":void 0}return()=>r?"bottom":void 0}function zL(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function F0(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Wd(e){const t=e.getCallback("getRowId");return t===void 0?t:r=>{let n=t(r);return typeof n!="string"&&(Te("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}function bd(e){return(e==null?void 0:e.checkboxes)??!0}function Sv(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function zX(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function $X(e){return typeof e.get("rowSelection")!="string"}function KX(e){return e.get("cellSelection")!==void 0}function qX(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?(t==null?void 0:t.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function oa(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function YX(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="range":!1:e.get("enableRangeHandle")}function yD(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="fill":!1:e.get("enableFillHandle")}function $L(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const r=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return r&&n?!1:r?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function QX(e){const t=$L(e);return t===!0||t==="enableSelection"}function SD(e){const t=$L(e);return t===!0||t==="enableDeselection"}function ub(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function wv(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t==null?void 0:t.mode}function KL(e){return wv(e)==="multiRow"}function XX(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function db(e){const t=e.get("rowSelection");if(typeof t=="string"){const r=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return r&&n?"filteredDescendants":r?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Pc(e){const t=db(e);return t==="descendants"||t==="filteredDescendants"}function bS(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Bt(e){if(!(!e||!e.length))return e[e.length-1]}function xl(e,t,r){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,s)=>r?r(n,t[s]):t[s]===n)}function JX(e){return e.sort((t,r)=>t-r)}function qL(e,t){const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.pop())}function os(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function ZX(e,t){for(let r=0;r<t.length;r++)qL(e,t[r])}function eJ(e,t){for(let r=0;r<t.length;r++)os(e,t[r])}function xv(e,t,r){e.splice(r,0,t)}function YL(e,t,r){eJ(e,t),t.slice().reverse().forEach(n=>xv(e,n,r))}function mc(e,t){return e.indexOf(t)>-1}function tJ(e){return(e==null?void 0:e.flatMap(t=>t))??[]}function wD(e,t){t==null||e==null||t.forEach(r=>e.push(r))}var QL="__ag_Grid_Stop_Propagation",rJ=["touchstart","touchend","touchmove","touchcancel","scroll"],RS={};function Rd(e){e[QL]=!0}function qo(e){return e[QL]===!0}var XL=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r=>{if(typeof RS[r]=="boolean")return RS[r];const n=document.createElement(e[r]||"div");return r="on"+r,RS[r]=r in n}})();function ex(e,t,r){let n=t;for(;n;){const s=Gf(e,n,r);if(s)return s;n=n.parentElement}return null}function nJ(e,t){return!t||!e?!1:iJ(t).indexOf(e)>=0}function sJ(e){const t=[];let r=e.target;for(;r;)t.push(r),r=r.parentElement;return t}function iJ(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():sJ(t)}function oJ(e,t,r,n){const i=mc(rJ,r)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,r,n,i)}var Re=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,r){this.localEventService||(this.localEventService=new Vd),this.localEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.localEventService&&this.localEventService.removeEventListener(e,t,r)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const r=[];for(const n in t){const s=t[n];s&&r.push(this._setupListener(e,n,s))}return r}_setupListener(e,t,r){if(this.destroyed)return()=>null;e instanceof HTMLElement?oJ(this.getFrameworkOverrides(),e,t,r):e.addEventListener(t,r);const n=()=>(e.removeEventListener(t,r),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const r=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=s.changeSet.id}const i={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};t(i)};e.forEach(s=>this.setupGridOptionListener(s,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r}createBean(e,t,r){return(t||this.stubContext).createBean(e,r)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Qn(e){return e instanceof Wm}var Wm=class extends Re{constructor(e,t,r,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=e_(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{hl(t)?e.push(t):Qn(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let i=0,o=n.length;i<o;i++){const a=n[i];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,r=!0):l==="closed"?(t=!0,r=!0):(e=!0,t=!0)}const s=e&&t&&r;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=r=>{r.forEach(n=>{Qn(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},JL="ag-Grid-ControlsColumn",aJ=class extends Re{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return[];const r=bd(t),n=Sv(t);if(r||n){const s=e.get("selectionColumnDef"),o={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(l,u,f,p){const g=f.isSelected(),C=p.isSelected();return g&&C?0:g?1:-1},editable:!1,suppressFillHandle:!0,...s,colId:`${JL}`},a=new gb(o,null,o.colId,!1);return this.createBean(a),[a]}return[]}},T0="ag-Grid-AutoColumn";function hb(e){const t=[],r=n=>{for(let s=0;s<n.length;s++){const i=n[s];hl(i)?t.push(i):Qn(i)&&r(i.getChildren())}};return r(e),t}function Bo(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}function Wa(e,t,r){const n={};if(!t)return;aa(null,t,i=>{n[i.getInstanceId()]=i}),r&&aa(null,r,i=>{n[i.getInstanceId()]=null});const s=Object.values(n).filter(i=>i!=null);e.destroyBeans(s)}function tx(e){return e.getId().startsWith(T0)}function bp(e){return e.getColId().startsWith(JL)}function Um(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?Te("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):Te("colDef.type should be of type 'string' | 'string[]'"),t}var fb=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e,t){const{frameworkOverrides:r,wrappedListeners:n}=this;let s=t;if(r.shouldWrapOutgoing){s=o=>{r.wrapOutgoing(()=>t(o))};let i=n.get(e);i||(i=new Map,n.set(e,i)),i.set(t,s)}return s}wrapGlobal(e){const{frameworkOverrides:t,wrappedGlobalListeners:r}=this;let n=e;return t.shouldWrapOutgoing&&(n=(s,i)=>{t.wrapOutgoing(()=>e(s,i))},r.set(e,n)),n}unwrap(e,t){const{wrappedListeners:r}=this,n=r.get(e);if(n){const s=n.get(t);if(s)return n.delete(t),n.size===0&&r.delete(e),s}return t}unwrapGlobal(e){const{wrappedGlobalListeners:t}=this,r=t.get(e);return r?(t.delete(e),r):e}},pb=new Set(["__proto__","constructor","prototype"]);function Li(e,t){if(e!=null){if(Array.isArray(e)){for(let r=0;r<e.length;r++)t(r.toString(),e[r]);return}for(const[r,n]of Object.entries(e))t(r,n)}}function ZL(e){const t={},r=Object.keys(e);for(let n=0;n<r.length;n++){if(pb.has(r[n]))continue;const s=r[n],i=e[s];t[s]=i}return t}function rx(e,t){if(!e)return;const r=e,n={};return Object.keys(r).forEach(s=>{if(t&&t.indexOf(s)>=0||pb.has(s))return;const i=r[s];sx(i)&&i.constructor===Object?n[s]=rx(i):n[s]=i}),n}function nx(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const r=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&r.push(e[n]);return r}function ss(e,t,r=!0,n=!1){Le(t)&&Li(t,(s,i)=>{if(pb.has(s))return;let o=e[s];o!==i&&(n&&o==null&&i!=null&&typeof i=="object"&&i.constructor===Object&&(o={},e[s]=o),sx(i)&&sx(o)&&!Array.isArray(o)?ss(o,i,r,n):(r||i!==void 0)&&(e[s]=i))})}function ff(e,t,r){if(!t||!e)return;if(!r)return e[t];const n=t.split(".");let s=e;for(let i=0;i<n.length;i++){if(s==null)return;s=s[n[i]]}return s}function sx(e){return typeof e=="object"&&e!==null}var lJ={resizable:!0,sortable:!0},cJ=0;function e_(){return cJ++}function hl(e){return e instanceof gb}var gb=class extends Re{constructor(e,t,r,n){super(),this.isColumn=!0,this.instanceId=e_(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new Vd,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,r=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):r!==null&&(this.sortIndex=r);const n=e.hide,s=e.initialHide;n!==void 0?this.visible=!n:this.visible=!s,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const i=e.flex,o=e.initialFlex;i!==void 0?this.flex=i:o!==void 0&&(this.flex=o)}setColDef(e,t,r){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=Le(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=Le(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=Le(this.colDef.tooltipField)||Le(this.colDef.tooltipValueGetter)||Le(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const r=pc(e.width),n=pc(e.initialWidth);return r!=null?t=r:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Gt(this.colDef)||Gt(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return t||r}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new fb(this.frameworkOverrides));const r=((n=this.frameworkEventListenerService)==null?void 0:n.wrap(e,t))??t;this.columnEventService.addEventListener(e,r)}removeEventListener(e,t){var n;const r=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(e,t))??t;this.columnEventService.removeEventListener(e,r)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const r=bp(this)&&bd(t);return this.isColumnFunc(e,r)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??lJ[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const r=this.createColumnFunctionCallbackParams(e);return t(r)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Gt(this.sort)}isSorting(){return Le(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,r){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);r&&ss(n,r),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const r=e===!0;this.visible!==r&&(this.visible=r,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Gt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)}getRowSpan(e){if(Gt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)}setActualWidth(e,t,r=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},uJ={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},dJ=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Yw(e);let r=0;for(;;){let n;if(e?(n=e,r!==0&&(n+="_"+r)):t?(n=t,r!==0&&(n+="_"+r)):n=r,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);r++}}},hJ=class extends Re{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,r,n){const s=new dJ,{existingCols:i,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(r);s.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,i,s,o,n),u=this.findMaxDept(l,0),f=this.balanceColumnTree(l,0,u,s);return aa(null,f,(g,C)=>{Qn(g)&&g.setupExpandable(),g.setOriginalParent(C)}),{columnTree:f,treeDept:u}}extractExistingTreeData(e){const t=[],r=[],n=[];return e&&aa(null,e,s=>{if(Qn(s)){const i=s;r.push(i)}else{const i=s;n.push(i.getId()),t.push(i)}}),{existingCols:t,existingGroups:r,existingColKeys:n}}balanceTreeForAutoCols(e,t){const r=[],n=this.findDepth(t);return e.forEach(s=>{let i=s;for(let o=n-1;o>=0;o--){const a=new Wm(null,`FAKE_PATH_${s.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([i]),i.setOriginalParent(a),i=a}n===0&&s.setOriginalParent(null),r.push(i)}),[r,n]}findDepth(e){let t=0,r=e;for(;r&&r[0]&&Qn(r[0]);)t++,r=r[0].getChildren();return t}balanceColumnTree(e,t,r,n){const s=[];for(let i=0;i<e.length;i++){const o=e[i];if(Qn(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,r,n);a.setChildren(l),s.push(a)}else{let a,l;for(let u=r-1;u>=t;u--){const f=n.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),g=new Wm(p,f,!0,t);this.createBean(g),l&&l.setChildren([g]),l=g,a||(a=l)}if(a&&l)if(s.push(a),e.some(f=>Qn(f))){l.setChildren([o]);continue}else{l.setChildren(e);break}s.push(o)}}return s}findMaxDept(e,t){let r=t;for(let n=0;n<e.length;n++){const s=e[n];if(Qn(s)){const i=s,o=this.findMaxDept(i.getChildren(),t+1);r<o&&(r=o)}}return r}recursivelyCreateColumns(e,t,r,n,s,i,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const u=e[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(r,u,t,n,s,i,o):a[l]=this.createColumn(r,u,n,s,o)}return a}createColumnGroup(e,t,r,n,s,i,o){const a=this.createMergedColGroupDef(t),l=s.getUniqueKey(a.groupId||null,null),u=new Wm(a,l,!1,r);this.createBean(u);const f=this.findExistingGroup(t,i);f&&i.splice(f.idx,1);const p=f==null?void 0:f.group;p&&u.setExpanded(p.isExpanded());const g=this.recursivelyCreateColumns(a.children,r+1,e,n,s,i,o);return u.setChildren(g),u}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,r,n,s){var a;const i=this.findExistingColumn(t,r);i&&(r==null||r.splice(i.idx,1));let o=i==null?void 0:i.column;if(o){const l=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(l,t,s),this.applyColumnState(o,l,s)}else{const l=n.getUniqueKey(t.colId,t.field),u=this.addColumnDefaultAndTypes(t,l);o=new gb(u,t,l,e),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(e,t,r){const n=pc(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const a=pc(t.width);if(a!=null)e.setActualWidth(a,r);else{const l=e.getActualWidth();e.setActualWidth(l,r)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,r):e.setSort(void 0,r));const i=pc(t.sortIndex);i!==void 0&&e.setSortIndex(i);const o=Qw(t.hide);o!==void 0&&e.setVisible(!o,r),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let r=0;r<t.length;r++){const n=t[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[r].getId()===e.colId)return{idx:r,column:t[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:t[r]};continue}if(n===e)return{idx:r,column:t[r]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const s=t[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}addColumnDefaultAndTypes(e,t){var a;const r={},n=this.gos.get("defaultColDef");ss(r,n,!1,!0);const s=this.updateColDefAndGetColumnType(r,e,t);s&&this.assignColumnTypes(s,r),ss(r,e,!1,!0);const i=this.gos.get("autoGroupColumnDef"),o=ao(this.gos);return e.rowGroup&&i&&o&&ss(r,{sort:i.sort,initialSort:i.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(r),r}updateColDefAndGetColumnType(e,t,r){var i;const n=(i=this.dataTypeService)==null?void 0:i.updateColDefAndGetColumnType(e,t,r),s=t.type??n??e.type;return e.type=s,s?Um(s):void 0}assignColumnTypes(e,t){if(!e.length)return;const r=Object.assign({},uJ),n=this.gos.get("columnTypes")||{};Li(n,(s,i)=>{s in r?Te(`the column type '${s}' is a default column type and cannot be overridden.`):(i.type&&Te("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[s]=i)}),e.forEach(s=>{const i=r[s.trim()];i?ss(t,i,!1,!0):Te("colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function aa(e,t,r){if(t)for(let n=0;n<t.length;n++){const s=t[n];Qn(s)&&aa(s,s.getChildren(),r),r(s,e)}}var fJ=class extends Re{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(Xl(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,Xl(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Xl(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(Xl(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),Xl(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var u,f,p;const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const r=(u=this.colDefCols)==null?void 0:u.list,n=(f=this.colDefCols)==null?void 0:f.tree,s=this.columnFactory.createColumnTree(this.colDefs,!0,n,e);Wa(this.context,(p=this.colDefCols)==null?void 0:p.tree,s.columnTree);const i=s.columnTree,o=s.treeDept,a=hb(i),l={};a.forEach(g=>l[g.getId()]=g),this.colDefCols={tree:i,treeDepth:o,list:a,map:l},this.funcColsService.extractCols(e,r),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var s,i,o;if(!this.colDefCols)return;const t=(s=this.cols)==null?void 0:s.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const r=WX(this.gos,this.showingPivotResult);(!e||r)&&this.restoreColOrder(),this.positionLockedCols(),(i=this.showRowGroupColsService)==null||i.refresh(),(o=this.quickFilterService)==null||o.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!xl(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:r,tree:n,treeDepth:s}=e;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:s},e.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:r,tree:n,treeDepth:s}=this.colDefCols;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:s}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(n=>{const s=tx(n);if(e){const i=t&&mc(t,n);return s||i}else return s||n.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),xD(this.cols))}createAutoCols(){var S;const e=F0(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),r=this.funcColsService.getRowGroupColumns(),s=!(r.length>0||this.gos.get("treeData"))||t||e,i=()=>{this.autoCols&&(Wa(this.context,this.autoCols.tree),this.autoCols=null)};if(s||!this.autoColService){i();return}const o=this.autoColService.createAutoCols(r)??[],a=RD(o,((S=this.autoCols)==null?void 0:S.list)||null),l=this.cols.treeDepth,f=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&f)return;i();const[p,g]=this.columnFactory.balanceTreeForAutoCols(o,this.cols.tree);this.autoCols={list:o,tree:p,treeDepth:g,map:{}};const C=y=>{if(!y)return null;const w=y.filter(b=>!tx(b));return[...o,...w]};this.lastOrder=C(this.lastOrder),this.lastPivotOrder=C(this.lastPivotOrder)}createControlsCols(){var u,f,p;const e=()=>{var g;Wa(this.context,(g=this.controlsCols)==null?void 0:g.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,n=(((u=this.controlsCols)==null?void 0:u.treeDepth)??-1)==t,s=((f=this.controlsColService)==null?void 0:f.createControlsCols())??[];if(RD(s,((p=this.controlsCols)==null?void 0:p.list)??[])&&n)return;e();const[o,a]=this.columnFactory.balanceTreeForAutoCols(s,this.cols.tree);this.controlsCols={list:s,tree:o,treeDepth:a,map:{}};const l=g=>{if(!g)return null;const C=g.filter(S=>!bp(S));return[...s,...C]};this.lastOrder=l(this.lastOrder),this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),xD(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,r){this.columnApplyStateService.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},r)}setColsPinned(e,t,r){if(!this.cols||$s(e))return;if(bn(this.gos,"print")){Te("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;t===!0||t==="left"?n="left":t==="right"?n="right":n=null;const s=[];e.forEach(i=>{if(!i)return;const o=this.getCol(i);o&&o.getPinned()!==n&&(o.setPinned(n),s.push(o))}),s.length&&(this.visibleColsService.refresh(r),this.eventDispatcher.columnPinned(s,r)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,r){let n;Qn(e)?n=e.getId():n=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],r)}getProvidedColGroup(e){var r;let t=null;return aa(null,(r=this.cols)==null?void 0:r.tree,n=>{Qn(n)&&n.getId()===e&&(t=n)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const n=this.funcColsService.getRowGroupColumns().findIndex(s=>s.getColId()===e.getColId());return t>n}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Sr(this.gos)||So(this.gos)||Te("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,u)=>[l,u]));if(!this.cols.list.some(l=>t.has(l)))return;const n=new Map(this.cols.list.map(l=>[l,!0])),s=e.filter(l=>n.has(l)),i=new Map(s.map(l=>[l,!0])),o=this.cols.list.filter(l=>!i.has(l)),a=s.slice();o.forEach(l=>{let u=l.getOriginalParent();if(!u){a.push(l);return}const f=[];for(;!f.length&&u;)u.getLeafColumns().forEach(S=>{const y=a.indexOf(S)>=0,w=f.indexOf(S)<0;y&&w&&f.push(S)}),u=u.getOriginalParent();if(!f.length){a.push(l);return}const p=f.map(C=>a.indexOf(C)),g=Math.max(...p);xv(a,l,g+1)}),this.cols.list=a}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const r={};e.forEach(s=>{if(r[s])return;const i=this.cols.map[s];i&&(t.push(i),r[s]=!0)});let n=0;if(this.cols.list.forEach(s=>{const i=s.getColId();if(r[i]!=null)return;i.startsWith(T0)?xv(t,s,n++):t.push(s)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){Te("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(r=>this.cols.list.indexOf(r)<0).length>0||e.sort((r,n)=>{const s=this.cols.list.indexOf(r),i=this.cols.list.indexOf(n);return s-i})}resetColDefIntoCol(e,t){const r=e.getUserProvidedColDef();if(!r)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(n,r,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,r){var n;YL((n=this.cols)==null?void 0:n.list,e,t),this.visibleColsService.refresh(r)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((n,s)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(s)):this.lastOrder&&e.sort((n,s)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(s));const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,r)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(Te("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!$s(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e,t,r;Wa(this.context,(e=this.colDefCols)==null?void 0:e.tree),Wa(this.context,(t=this.autoCols)==null?void 0:t.tree),Wa(this.context,(r=this.controlsCols)==null?void 0:r.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var r,n,s;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[((r=this.colDefCols)==null?void 0:r.list)??[],((n=this.autoCols)==null?void 0:n.list)??[],((s=this.controlsCols)==null?void 0:s.list)??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:r,list:n}=t;if(typeof e=="string"&&r[e])return r[e];for(let s=0;s<n.length;s++)if(bD(n[s],e))return n[s];return this.getAutoCol(e)}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(r=>bD(r,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const r of t){if(!r)continue;const n=r.getGroupRowCount()||0;for(let s=0;s<n;s++){const i=r.getGroupRowCtrlAtIndex(s),o=e[s];if(i){const a=this.getColumnGroupHeaderRowHeight(i);(o==null||a>o)&&(e[s]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let r=0;const n=e.getHeaderCtrls();for(const s of n){const i=s.getColumn();if(i.isAutoHeaderHeight()){const o=i.getAutoHeaderHeight();o!=null&&o>r&&(r=o)}}return Math.max(t,r)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...r)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:r}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",r)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,r){const n=t&&typeof t!="string"?bd(t):void 0,s=e&&typeof e!="string"?bd(e):void 0,i=n!==s,o=t&&typeof t!="string"?Sv(t):void 0,a=e&&typeof e!="string"?Sv(e):void 0;(i||o!==a)&&this.refreshAll(r)}};function Xl(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function xD(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function bD(e,t){const r=e===t,n=e.getColDef()===t,s=e.getColId()==t;return r||n||s}function RD(e,t){return xl(e,t,(r,n)=>r.getColId()===n.getColId())}var pJ=class extends Re{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:r,skipHeaderGroups:n,stopAtGroup:s,source:i="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const o=[];let a=-1;const l=r??this.gos.get("skipHeaderOnAutoSize"),u=n??l;for(;a!==0;){a=0;const f=[];t.forEach(p=>{if(!p)return;const g=this.columnModel.getCol(p);if(!g||o.indexOf(g)>=0)return;const C=this.autoWidthCalculator.getPreferredWidthForColumn(g,l);if(C>0){const S=this.normaliseColumnWidth(g,C);g.setActualWidth(S,i),o.push(g),a++}f.push(g)}),f.length&&this.visibleColsService.refresh(i)}u||this.autoSizeColumnGroupsByColumns(t,i,s),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,r){e&&this.autoSizeCols({colKeys:[e],skipHeader:r,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,r){const n=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=r;)l.isPadding()||n.add(l),l=l.getParent()});let i;const o=[];for(const a of n){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(i=l.getHeaderCtrlForColumn(a),i)break;i&&i.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const r=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:r,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const r=e.getMinWidth();t<r&&(t=r);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},gJ=class extends Re{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>os(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>os(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>os(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const r=this.columnModel.getColDefCol(t);return r?[r]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return $s(this.rowGroupCols)}setColumnAggFunc(e,t,r){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],r))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(r,n)=>this.setRowGroupActive(r,n,t),t)}setRowGroupActive(e,t,r){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,r),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,r),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,r))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,r=>this.setRowGroupActive(!0,r,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,r=>this.setRowGroupActive(!1,r,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,r=>r.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(r,n)=>{n.setPivotActive(r,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,r=>r.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(r,n)=>this.setValueActive(r,n,t),t)}setValueActive(e,t,r){if(e!==t.isValueActive()&&(t.setValueActive(e,r),e&&!t.getAggFunc()&&this.aggFuncService)){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,r=>this.setValueActive(!0,r,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,r=>this.setValueActive(!1,r,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,r){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],s=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(s,r)}setColList(e,t,r,n,s,i,o){if(!this.columnModel.getCols())return;const a=new Map;t.forEach((u,f)=>a.set(u,f)),t.length=0,Le(e)&&e.forEach(u=>{const f=this.columnModel.getColDefCol(u);f&&t.push(f)}),t.forEach((u,f)=>{const p=a.get(u);if(p===void 0){a.set(u,0);return}n&&p!==f||a.delete(u)}),(this.columnModel.getColDefCols()||[]).forEach(u=>{const f=t.indexOf(u)>=0;i(f,u)}),s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(r,[...a.keys()],o)}updateColList(e,t,r,n,s,i,o){if(!e||$s(e))return;let a=!1;const l=new Set;e.forEach(u=>{if(!u)return;const f=this.columnModel.getColDefCol(u);if(f){if(l.add(f),r){if(t.indexOf(f)>=0)return;t.push(f)}else{const p=t.indexOf(f);if(p<0)return;for(let g=p+1;g<t.length;g++)l.add(t[g]);os(t,f)}s(f),a=!0}}),a&&(n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(i,Array.from(l),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(r,n)=>r.setValueActive(n,e),()=>{},()=>{},r=>{const n=r.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},r=>r.initialAggFunc!=null&&r.initialAggFunc!=""),this.valueCols.forEach(r=>{const n=r.getColDef();n.aggFunc!=null&&n.aggFunc!=""?r.setAggFunc(n.aggFunc):r.getAggFunc()||r.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(r,n)=>r.setRowGroupActive(n,e),r=>r.rowGroupIndex,r=>r.initialRowGroupIndex,r=>r.rowGroup,r=>r.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(r,n)=>r.setPivotActive(n,e),r=>r.pivotIndex,r=>r.initialPivotIndex,r=>r.pivot,r=>r.initialPivot)}extractColsCommon(e=[],t=[],r,n,s,i,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(g=>{const C=e.indexOf(g)<0,S=g.getColDef(),y=Qw(i(S)),w=Qw(o(S)),b=pc(n(S)),F=pc(s(S));let E;y!==void 0?E=y:b!==void 0?b===null?E=!1:E=b>=0:C?w!==void 0?E=w:F!==void 0?E=F!=null&&F>=0:E=!1:E=t.indexOf(g)>=0,E&&((C?b!=null||F!=null:b!=null)?a.push(g):l.push(g))});const f=g=>{const C=n(g.getColDef()),S=s(g.getColDef());return C??S};a.sort((g,C)=>{const S=f(g),y=f(C);return S===y?0:S<y?-1:1});const p=[].concat(a);return t.forEach(g=>{l.indexOf(g)>=0&&p.push(g)}),l.forEach(g=>{p.indexOf(g)<0&&p.push(g)}),t.forEach(g=>{p.indexOf(g)<0&&r(g,!1)}),p.forEach(g=>{t.indexOf(g)<0&&r(g,!0)}),p}generateColumnStateForRowGroupAndPivotIndexes(e,t){const r={},n=(s,i,o,a,l,u)=>{const f=this.columnModel.getColDefCols();if(!i.length||!f)return[];const p=Object.keys(s),g=new Set(p),C=new Set(p),S=new Set(i.map(D=>{const M=D.getColId();return C.delete(M),M}).concat(p)),y=[],w={};let b=0;for(let D=0;D<f.length;D++){const M=f[D].getColId();S.has(M)&&(y.push(M),w[M]=b++)}let F=1e3,E=!1,R=0;const A=D=>{const M=w[D];for(let I=R;I<M;I++){const L=y[I];C.has(L)&&(s[L][l]=F++,C.delete(L))}R=M};i.forEach(D=>{const M=D.getColId();if(g.has(M))A(M),s[M][l]=F++;else{const I=D.getColDef();(I[l]===null||I[l]===void 0&&I[u]==null)&&(E||(I[o]||I[o]===void 0&&I[a]?A(M):(C.forEach(W=>{s[W][l]=F+w[W]}),F+=y.length,E=!0)),r[M]||(r[M]={colId:M}),r[M][l]=F++)}})};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(r)}},mJ=class extends Re{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const r=this.columnModel.getColDefCols()||[];if($s(r))return!1;if(e&&e.state&&!e.state.forEach)return Te("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),s=(a,l,u)=>{const f=this.compareColumnStatesAndDispatchEvents(t),p=l.slice(),g={},C={},S=[],y=[];let w=0;const b=this.funcColsService.getRowGroupColumns().slice(),F=this.funcColsService.getPivotColumns().slice();a.forEach(D=>{const M=D.colId||"";if(M.startsWith(T0)){S.push(D),y.push(D);return}const L=u(M);L?(this.syncColumnWithStateItem(L,D,e.defaultState,g,C,!1,t,n),os(p,L)):(y.push(D),w+=1)});const E=D=>this.syncColumnWithStateItem(D,null,e.defaultState,g,C,!1,t,n);p.forEach(E),this.funcColsService.sortRowGroupColumns(ED.bind(this,g,b)),this.funcColsService.sortPivotColumns(ED.bind(this,C,F)),this.columnModel.refreshCols(!1);const A=(this.columnModel.getAutoCols()||[]).slice();return S.forEach(D=>{const M=this.columnModel.getAutoCol(D.colId);os(A,M),this.syncColumnWithStateItem(M,D,e.defaultState,null,null,!0,t,n)}),A.forEach(E),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),f(),{unmatchedAndAutoStates:y,unmatchedCount:w}};this.columnAnimationService.start();let{unmatchedAndAutoStates:i,unmatchedCount:o}=s(e.state||[],r,a=>this.columnModel.getColDefCol(a));if(i.length>0||Le(e.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;o=s(i,l||[],u=>this.pivotResultColsService.getPivotResultCol(u)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if($s(t))return;const r=this.columnModel.getColDefColTree(),n=hb(r),s=[];let i=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),n&&(a=a.concat(n)),a.forEach(u=>{const f=this.getColumnStateFromColDef(u);Gt(f.rowGroupIndex)&&f.rowGroup&&(f.rowGroupIndex=i++),Gt(f.pivotIndex)&&f.pivot&&(f.pivotIndex=o++),s.push(f)}),this.applyColumnState({state:s,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(S,y)=>S??y??null,r=e.getColDef(),n=t(r.sort,r.initialSort),s=t(r.sortIndex,r.initialSortIndex),i=t(r.hide,r.initialHide),o=t(r.pinned,r.initialPinned),a=t(r.width,r.initialWidth),l=t(r.flex,r.initialFlex);let u=t(r.rowGroupIndex,r.initialRowGroupIndex),f=t(r.rowGroup,r.initialRowGroup);u==null&&(f==null||f==!1)&&(u=null,f=null);let p=t(r.pivotIndex,r.initialPivotIndex),g=t(r.pivot,r.initialPivot);p==null&&(g==null||g==!1)&&(p=null,g=null);const C=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:i,pinned:o,width:a,flex:l,rowGroup:f,rowGroupIndex:u,pivot:g,pivotIndex:p,aggFunc:C}}syncColumnWithStateItem(e,t,r,n,s,i,o,a){if(!e)return;const l=(R,A)=>{const D={value1:void 0,value2:void 0};let M=!1;return t&&(t[R]!==void 0&&(D.value1=t[R],M=!0),Le(A)&&t[A]!==void 0&&(D.value2=t[A],M=!0)),!M&&r&&(r[R]!==void 0&&(D.value1=r[R]),Le(A)&&r[A]!==void 0&&(D.value2=r[A])),D},u=l("hide").value1;u!==void 0&&e.setVisible(!u,o);const f=l("pinned").value1;f!==void 0&&e.setPinned(f);const p=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),g=l("flex").value1;if(g!==void 0&&e.setFlex(g),g==null){const R=l("width").value1;R!=null&&p!=null&&R>=p&&e.setActualWidth(R,o)}const C=l("sort").value1;C!==void 0&&(C==="desc"||C==="asc"?e.setSort(C,o):e.setSort(void 0,o));const S=l("sortIndex").value1;if(S!==void 0&&e.setSortIndex(S),i||!e.isPrimary())return;const y=l("aggFunc").value1;y!==void 0&&(typeof y=="string"?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(Le(y)&&Te("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:w,value2:b}=l("rowGroup","rowGroupIndex");(w!==void 0||b!==void 0)&&(typeof b=="number"||w?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),n&&typeof b=="number"&&(n[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:F,value2:E}=l("pivot","pivotIndex");(F!==void 0||E!==void 0)&&(typeof E=="number"||F?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),s&&typeof E=="number"&&(s[e.getId()]=E)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(r=>{r.colId!=null&&t.push(r.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},r=this.columnGetStateService.getColumnState(),n={};return r.forEach(s=>{n[s.colId]=s}),()=>{const s=this.columnModel.getAllCols(),i=(y,w,b,F)=>{const E=w.map(F),R=b.map(F);if(xl(E,R))return;const D=new Set(w);b.forEach(I=>{D.delete(I)||D.add(I)});const M=[...D];this.eventService.dispatchEvent({type:y,columns:M,column:M.length===1?M[0]:null,source:e})},o=y=>{const w=[];return s.forEach(b=>{const F=n[b.getColId()];F&&y(F,b)&&w.push(b)}),w},a=y=>y.getColId();i("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),i("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const u=o((y,w)=>{const b=y.aggFunc!=null,F=b!=w.isValueActive(),E=b&&y.aggFunc!=w.getAggFunc();return F||E});u.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",u,e);const f=(y,w)=>y.width!=w.getActualWidth();this.eventDispatcher.columnResized(o(f),!0,e);const p=(y,w)=>y.pinned!=w.getPinned();this.eventDispatcher.columnPinned(o(p),e);const g=(y,w)=>y.hide==w.isVisible();this.eventDispatcher.columnVisible(o(g),e);const S=o((y,w)=>y.sort!=w.getSort()||y.sortIndex!=w.getSortIndex());S.length>0&&this.sortController.dispatchSortChangedEvents(e,S),this.normaliseColumnMovedEventForColumnState(r,e)}}normaliseColumnMovedEventForColumnState(e,t){const r=this.columnGetStateService.getColumnState(),n={};r.forEach(l=>n[l.colId]=l);const s={};e.forEach(l=>{n[l.colId]&&(s[l.colId]=!0)});const i=e.filter(l=>s[l.colId]),o=r.filter(l=>s[l.colId]),a=[];o.forEach((l,u)=>{const f=i&&i[u];if(f&&f.colId!==l.colId){const p=this.columnModel.getCol(f.colId);p&&a.push(p)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},ED=(e,t,r,n)=>{const s=e[r.getId()],i=e[n.getId()],o=s!=null,a=i!=null;if(o&&a)return s-i;if(o)return-1;if(a)return 1;const l=t.indexOf(r),u=t.indexOf(n),f=l>=0,p=u>=0;return f&&p?l-u:f?-1:1},vJ=class extends Re{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,r){const n=this.columnModel.getCols();if(!n)return;const s=n[e];this.moveColumns([s],t,r)}moveColumns(e,t,r,n=!0){const s=this.columnModel.getCols();if(!s)return;if(t>s.length-e.length){Te("tried to insert columns in invalid location, toIndex = ",t),Te("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const i=this.columnModel.getColsForKeys(e);this.doesMovePassRules(i,t)&&(this.columnModel.moveInCols(i,t,r),this.eventDispatcher.columnMoved({movedColumns:i,source:r,toIndex:t,finished:n})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.columnModel.getCols().slice();return YL(n,e,t),n}doesMovePassLockedPositions(e){const t=i=>i?i==="left"||i===!0?-1:1:0,r=this.gos.get("enableRtl");let n=r?1:-1,s=!0;return e.forEach(i=>{const o=t(i.getColDef().lockPosition);r?o>n&&(s=!1):o<n&&(s=!1),n=o}),s}doesMovePassMarryChildren(e){let t=!0;const r=this.columnModel.getColTree();return aa(null,r,n=>{if(!Qn(n))return;const s=n,i=s.getColGroupDef();if(!(i&&i.marryChildren))return;const a=[];s.getLeafColumns().forEach(g=>{const C=e.indexOf(g);a.push(C)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),f=l-u,p=s.getLeafColumns().length-1;f>p&&(t=!1)}),t}placeLockedColumns(e){const t=[],r=[],n=[];return e.forEach(i=>{const o=i.getColDef().lockPosition;o==="right"?n.push(i):o==="left"||o===!0?t.push(i):r.push(i)}),this.gos.get("enableRtl")?[...n,...r,...t]:[...t,...r,...n]}},CJ=/[&<>"']/g,yJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function fo(e,t){if(e==null)return null;const r=e.toString().toString();return t?r:r.replace(CJ,n=>yJ[n])}function SJ(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}var wJ=class extends Re{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return r?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,r){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,r):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,r,n,s){const i=e.headerValueGetter;if(i){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:r,providedColumnGroup:n,location:s});return typeof i=="function"?i(o):typeof i=="string"?this.expressionService.evaluate(i,o):(Te("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return SJ(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const r=e.getColDef().pivotValueColumn,n=Le(r);let s=null,i;if(n){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;s=r?r.getAggFunc():null,i=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(s=e.getAggFunc(),i=!0):i=!1}if(i){const o=typeof s=="string"?s:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},xJ=class extends Re{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;Wa(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const r=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach(s=>{const i=s.getColDef().pivotKeys,o=s.getColDef().pivotValueColumn;xl(i,e)&&o===r&&(n=s)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var r,n;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const s=this.columnFactory.createColumnTree(e,!1,((r=this.pivotResultCols)==null?void 0:r.tree)||this.previousPivotResultCols||void 0,t);Wa(this.context,(n=this.pivotResultCols)==null?void 0:n.tree,s.columnTree);const i=s.columnTree,o=s.treeDept,a=hb(i),l={};this.pivotResultCols={tree:i,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(f=>this.pivotResultCols.map[f.getId()]=f);const u=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!u)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),r=this.gos.get("processPivotResultColGroupDef");if(!t&&!r)return;const n=s=>{s.forEach(i=>{if(Le(i.children)){const a=i;r&&r(a),n(a.children)}else t&&t(i)})};e&&n(e)}},bJ=class extends Re{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,r,n){const s=[];e.forEach(i=>{const o=this.columnModel.getColDefCol(i.key)||this.columnModel.getCol(i.key);if(!o)return;if(s.push({width:i.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const l=this.visibleColsService.getColAfter(o);if(!l)return;const u=o.getActualWidth()-i.newWidth,f=l.getActualWidth()+u;s.push({width:f,ratios:[1],columns:[l]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:r,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:r,source:n}=e;if(!(!t||t.every(f=>this.checkMinAndMaxWidthsForSet(f)))){if(r){const f=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(f,r,n)}return}const i=[],o=[];t.forEach(f=>{const{width:p,columns:g,ratios:C}=f,S={},y={};g.forEach(F=>o.push(F));let w=!0,b=0;for(;w;){if(b++,b>1e3){Qt("infinite loop in resizeColumnSets");break}w=!1;const F=[];let E=0,R=p;g.forEach((D,M)=>{if(y[D.getId()])R-=S[D.getId()];else{F.push(D);const L=C[M];E+=L}});const A=1/E;F.forEach((D,M)=>{const I=M===F.length-1;let L;I?L=R:(L=Math.round(C[M]*p*A),R-=L);const j=D.getMinWidth(),W=D.getMaxWidth();L<j?(L=j,y[D.getId()]=!0,w=!0):W>0&&L>W&&(L=W,y[D.getId()]=!0,w=!0),S[D.getId()]=L})}g.forEach(F=>{const E=S[F.getId()];F.getActualWidth()!==E&&(F.setActualWidth(E,n),i.push(F))})});const a=i.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const u=o.concat(l);(a||r)&&this.eventDispatcher.columnResized(u,r,n,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:r}=e;let n=0,s=0,i=!0;t.forEach(l=>{const u=l.getMinWidth();n+=u||0;const f=l.getMaxWidth();f>0?s+=f:i=!1});const o=r>=n,a=!i||r<=s;return o&&a}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const r=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const g=new Set(e.resizingCols);for(let C=r.length-1;C>=0;C--)if(g.has(r[C])){n=C;break}}let s=0,i=[],o=0,a=0;for(let g=0;g<r.length;g++)r[g].getFlex()&&g>n?(i.push(r[g]),a+=r[g].getFlex(),o+=r[g].getMinWidth()):s+=r[g].getActualWidth();if(!i.length)return[];let l=[];s+o>this.flexViewportWidth&&(i.forEach(g=>g.setActualWidth(g.getMinWidth(),t)),l=i,i=[]);const u=[];let f;e:for(;;){f=this.flexViewportWidth-s;const g=f/a;for(let C=0;C<i.length;C++){const S=i[C],y=g*S.getFlex();let w=0;const b=S.getMinWidth(),F=S.getMaxWidth();if(y<b?w=b:y>F&&(w=F),w){S.setActualWidth(w,t),qL(i,S),a-=S.getFlex(),l.push(S),s+=S.getActualWidth();continue e}u[C]=Math.floor(y)}break}let p=f;return i.forEach((g,C)=>{const S=C<i.length-1?Math.min(u[C],p):Math.max(u[C],p);g.setActualWidth(S,t),l.push(g),p-=u[C]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,i),i}sizeColumnsToFit(e,t="sizeColumnsToFit",r,n){var g;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,r,n));return}const s={};n&&((g=n==null?void 0:n.columnLimits)==null||g.forEach(({key:C,...S})=>{s[typeof C=="string"?C:C.getColId()]=S}));const i=this.visibleColsService.getAllCols(),o=e===Bo(i);if(e<=0||!i.length||o)return;const a=[],l=[];i.forEach(C=>{C.getColDef().suppressSizeToFit===!0?l.push(C):a.push(C)});const u=a.slice(0);let f=!1;const p=C=>{os(a,C),l.push(C)};for(a.forEach(C=>{C.resetActualWidth(t);const S=s==null?void 0:s[C.getId()],y=(S==null?void 0:S.minWidth)??(n==null?void 0:n.defaultMinWidth),w=(S==null?void 0:S.maxWidth)??(n==null?void 0:n.defaultMaxWidth),b=C.getActualWidth();typeof y=="number"&&b<y?C.setActualWidth(y,t,!0):typeof w=="number"&&b>w&&C.setActualWidth(w,t,!0)});!f;){f=!0;const C=e-Bo(l);if(C<=0)a.forEach(S=>{var w;const y=((w=s==null?void 0:s[S.getId()])==null?void 0:w.minWidth)??(n==null?void 0:n.defaultMinWidth);if(typeof y=="number"){S.setActualWidth(y,t,!0);return}S.setMinimum(t)});else{const S=C/Bo(a);let y=C;for(let w=a.length-1;w>=0;w--){const b=a[w],F=s==null?void 0:s[b.getId()],E=(F==null?void 0:F.minWidth)??(n==null?void 0:n.defaultMinWidth),R=(F==null?void 0:F.maxWidth)??(n==null?void 0:n.defaultMaxWidth),A=b.getMinWidth(),D=b.getMaxWidth(),M=typeof E=="number"&&E>A?E:A,I=typeof R=="number"&&R<D?R:D;let L=Math.round(b.getActualWidth()*S);L<M?(L=M,p(b),f=!1):L>I?(L=I,p(b),f=!1):w===0&&(L=y),b.setActualWidth(L,t,!0),y-=L}}}u.forEach(C=>{C.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!r&&this.eventDispatcher.columnResized(u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:n,defaultMaxWidth:s}=e,i=r==null?void 0:r.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:s,columnLimits:i})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function t_(e,t){return e+"_"+t}function Ur(e){return e instanceof r_}var r_=class extends Re{constructor(e,t,r,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=r,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return t_(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Ur(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Bt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{hl(t)?e.push(t):Ur(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{hl(t)?e.push(t):Ur(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(r=>{if(Ur(r)&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},n_=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r}},RJ=class extends Re{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=ES(this.treeLeft),this.columnsCenter=ES(this.treeCenter),this.columnsRight=ES(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(r=>r.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=Bo(this.columnsCenter),t=Bo(this.columnsLeft),r=Bo(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,r;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,r=this.columnsRight?Bt(this.columnsRight):null):(t=this.columnsLeft?Bt(this.columnsLeft):null,r=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===r,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(i=>i.getPinned()=="left"),r=e.filter(i=>i.getPinned()=="right"),n=e.filter(i=>i.getPinned()!="left"&&i.getPinned()!="right"),s=new n_;this.treeLeft=this.createGroups({columns:t,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:r,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],r=[],n=[];for(const s of e){const i=s.getPinned();i?i===!0||i==="left"?t.push(s):n.push(s):r.push(s)}this.ariaOrderColumns=t.concat(r).concat(n)}getAriaColIndex(e){let t;return Ur(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Ur(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const r=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(s=>{if(n){let i=Bo(s);s.forEach(o=>{i-=o.getActualWidth(),o.setLeft(i,e)})}else{let i=0;s.forEach(o=>{o.setLeft(i,e),i+=o.getActualWidth()})}ZX(r,s)}),r.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,r,n){const s=[];let i=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,u=Math.min(a.getColSpan(e),l),f=[a];if(u>1){const g=u-1;for(let C=1;C<=g;C++)f.push(t[o+C]);o+=g}let p;r?(p=!1,f.forEach(g=>{r(g)&&(p=!0)})):p=!0,p&&(s.length===0&&i&&(n&&n(a))&&s.push(i),s.push(a)),i=a}return s}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),r=t.indexOf(e);return r>0?t[r-1]:null}getGroupAtDirection(e,t){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s=t==="After"?Bt(n):n[0],i=`getCol${t}`;for(;;){const o=this[i](s);if(!o)return null;const a=this.getColGroupAtLevel(o,r);if(a!==e)return a}}getColGroupAtLevel(e,t){let r=e.getParent(),n,s;for(;n=r.getProvidedColumnGroup().getLevel(),s=r.getPaddingLevel(),!(n+s<=t);)r=r.getParent();return r}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Jl(this.treeCenter,!1,e),Jl(this.treeLeft,!1,e),Jl(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();Jl(e,!1,t=>{Ur(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let r=0;r<t.length;r++){const n=this[t[r]]();if(n.length)return e?Bt(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Ur(e))return e;const r=this.getAllTrees(),n=typeof t=="number";let s=null;return Jl(r,!1,i=>{if(Ur(i)){const o=i;let a;n?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(s=o)}}),s}getColAfter(e){const t=this.getAllCols(),r=t.indexOf(e);return r<t.length-1?t[r+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Bo(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Bo(this.columnsRight)}isColAtEdge(e,t){const r=this.getAllCols();if(!r.length)return!1;const n=t==="first";let s;if(Ur(e)){const i=e.getDisplayedLeafColumns();if(!i.length)return!1;s=n?i[0]:Bt(i)}else s=e;return(n?r[0]:Bt(r))===s}createGroups(e){const{columns:t,idCreator:r,pinned:n,oldDisplayedGroups:s,isStandaloneStructure:i}=e,o=this.mapOldGroupsById(s),a=[];let l=t;for(;l.length;){const u=l;l=[];let f=0;const p=g=>{const C=f;f=g;const S=u[C],w=(Ur(S)?S.getProvidedColumnGroup():S).getOriginalParent();if(w==null){for(let F=C;F<g;F++)a.push(u[F]);return}const b=this.createColGroup(w,r,o,n,i);for(let F=C;F<g;F++)b.addChild(u[F]);l.push(b)};for(let g=1;g<u.length;g++){const C=u[g],y=(Ur(C)?C.getProvidedColumnGroup():C).getOriginalParent(),w=u[f],F=(Ur(w)?w.getProvidedColumnGroup():w).getOriginalParent();y!==F&&p(g)}f<u.length&&p(u.length)}return i||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,r,n,s){const i=e.getGroupId(),o=t.getInstanceIdForKey(i),a=t_(i,o);let l=r[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),Le(l)?l.reset():(l=new r_(e,i,o,n),s||this.createBean(l)),l}mapOldGroupsById(e){const t={},r=n=>{n.forEach(s=>{if(Ur(s)){const i=s;t[s.getUniqueId()]=i,r(i.getChildren())}})};return e&&r(e),t}setupParentsIntoCols(e,t){e.forEach(r=>{if(r.setParent(t),Ur(r)){const n=r;this.setupParentsIntoCols(n.getChildren(),n)}})}};function Jl(e,t,r){if(e)for(let n=0;n<e.length;n++){const s=e[n];if(Ur(s)){const i=t?s.getDisplayedChildren():s.getChildren();Jl(i,t,r)}r(s)}}function ES(e){const t=[];return Jl(e,!0,r=>{hl(r)&&t.push(r)}),t}var s_=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],EJ=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],FJ=[...s_,...EJ],TJ={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},In=class{};In.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];In.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];In.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];In.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];In.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];In.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];In.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];In.ALL_PROPERTIES=[...In.ARRAY_PROPERTIES,...In.OBJECT_PROPERTIES,...In.STRING_PROPERTIES,...In.NUMBER_PROPERTIES,...In.FUNCTION_PROPERTIES,...In.BOOLEAN_PROPERTIES,...In.OTHER_PROPERTIES];var Vf=In,fi=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};fi.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";fi.PUBLIC_EVENTS=s_;fi.EVENT_CALLBACKS=FJ.map(e=>fi.getCallbackForEvent(e));fi.BOOLEAN_PROPERTIES=Vf.BOOLEAN_PROPERTIES;fi.ALL_PROPERTIES=Vf.ALL_PROPERTIES;fi.ALL_PROPERTIES_AND_CALLBACKS=[...fi.ALL_PROPERTIES,...fi.EVENT_CALLBACKS];fi.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(fi.ALL_PROPERTIES_AND_CALLBACKS);var Wf=fi;function PJ(e,t){typeof e!="object"&&(e={});const r={...e};return Wf.ALL_PROPERTIES_AND_CALLBACKS.forEach(s=>{const i=t[s];typeof i<"u"&&i!==Wf.VUE_OMITTED_PROPERTY&&(r[s]=i)}),r}function AJ(e,t){if(!e)return;const r={};let n=!1;if(Object.keys(e).filter(o=>Wf.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{r[o]=e[o],n=!0}),!n)return;const s={type:"gridOptionsChanged",options:r};t.dispatchEvent(s);const i={type:"componentStateChanged"};Li(r,(o,a)=>{i[o]=a}),t.dispatchEvent(i)}var Ud=class extends Re{};function Rp(e,t,r){return r&&e.addDestroyFunc(()=>t.destroyBean(r)),r??e}var Ep=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(s=>this.addOrRemoveCssClass(s,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}};function da(e,t,r){r==null||typeof r=="string"&&r==""?i_(e,t):wo(e,t,r)}function wo(e,t,r){e.setAttribute(o_(t),r.toString())}function i_(e,t){e.removeAttribute(o_(t))}function o_(e){return`aria-${e}`}function zi(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function DJ(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function MJ(e){return e.getAttribute("aria-label")}function Ed(e,t){da(e,"label",t)}function Uf(e,t){da(e,"labelledby",t)}function a_(e,t){da(e,"live",t)}function NJ(e,t){da(e,"atomic",t)}function IJ(e,t){da(e,"relevant",t)}function OJ(e,t){da(e,"disabled",t)}function l_(e,t){da(e,"hidden",t)}function bv(e,t){wo(e,"expanded",t)}function kJ(e,t){wo(e,"setsize",t)}function LJ(e,t){wo(e,"posinset",t)}function _J(e,t){wo(e,"rowcount",t)}function jJ(e,t){wo(e,"rowindex",t)}function BJ(e,t){wo(e,"colcount",t)}function c_(e,t){wo(e,"colindex",t)}function GJ(e,t){wo(e,"colspan",t)}function HJ(e,t){wo(e,"sort",t)}function VJ(e){i_(e,"sort")}function Rv(e,t){da(e,"selected",t)}function WJ(e,t){da(e,"controls",t.id),Uf(t,e.id)}function mb(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var UJ="[tabindex], input, select, button, textarea, [href]",u_="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function vb(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),s=t.call(e,u_),i=go(e);return n&&!s&&i}function Pr(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-hidden",!t),n||l_(e,!t)}function zJ(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-invisible",!t),n||l_(e,!t)}function zf(e,t){const r="disabled",n=t?s=>s.setAttribute(r,""):s=>s.removeAttribute(r);n(e),p_(e.querySelectorAll("input"),s=>n(s))}function Zu(e,t,r){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof r=="number"){if(++n>r)break}else if(e===r)break}return!1}function Wc(e){const{height:t,width:r,borderTopWidth:n,borderRightWidth:s,borderBottomWidth:i,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:f,marginTop:p,marginRight:g,marginBottom:C,marginLeft:S,boxSizing:y}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(i||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(f||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(C||"0"),marginLeft:parseFloat(S||"0"),boxSizing:y}}function Cb(e){const t=Wc(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Fp(e){const t=Wc(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function d_(e){const{height:t,marginBottom:r,marginTop:n}=Wc(e);return Math.floor(t+r+n)}function Ev(e){const{width:t,marginLeft:r,marginRight:n}=Wc(e);return Math.floor(t+r+n)}function h_(e){const t=e.getBoundingClientRect(),{borderTopWidth:r,borderLeftWidth:n,borderRightWidth:s,borderBottomWidth:i}=Wc(e);return{top:t.top+(r||0),left:t.left+(n||0),right:t.right+(s||0),bottom:t.bottom+(i||0)}}function Fv(e,t){let r=e.scrollLeft;return t&&(r=Math.abs(r)),r}function Tv(e,t,r){r&&(t*=-1),e.scrollLeft=t}function qs(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Ac(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function f_(e){return!!e.offsetParent}function go(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!f_(e)||window.getComputedStyle(e).visibility!=="visible")}function $f(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function $J(e){return e.clientWidth<e.scrollWidth}function KJ(e){return e.clientHeight<e.scrollHeight}function Pv(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Gi(e,t)}function Gi(e,t){t=yb(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function pf(e,t){t=yb(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function yb(e){return typeof e=="number"?`${e}px`:e}function Sb(e){return e instanceof Node||e instanceof HTMLElement}function qJ(e){if(e==null)return[];const t=[];return p_(e,r=>t.push(r)),t}function YJ(e,t){if(e)for(let r=0;r<e.length;r++){const n=e[r];t(n.name,n.value)}}function pi(e,t,r){r==null||r===""?e.removeAttribute(t):e.setAttribute(t,r.toString())}function p_(e,t){if(e!=null)for(let r=0;r<e.length;r++)t(e[r])}var Fd=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},FS,fm,TS,PS,AS,DS,ix,ox,MS;function la(){return FS===void 0&&(FS=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),FS}function g_(){if(fm===void 0)if(la()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(fm=e[1]!=null?parseFloat(e[1]):0)}else fm=0;return fm}function QJ(){if(TS===void 0){const e=window;TS=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return TS}function wb(){return PS===void 0&&(PS=/(firefox)/i.test(navigator.userAgent)),PS}function m_(){return AS===void 0&&(AS=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),AS}function bl(){return DS===void 0&&(DS=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),DS}function FD(){return!la()||g_()>=15}function ax(e){if(!e)return null;const t=e.tabIndex,r=e.getAttribute("tabIndex");return t===-1&&(r===null||r===""&&!wb())?null:t.toString()}function XJ(){if(MS!==void 0)return MS;if(!document.body)return-1;let e=1e6;const t=wb()?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){const n=e*2;if(r.style.height=n+"px",n>t||r.clientHeight!==n)break;e=n}return document.body.removeChild(r),MS=e,e}function JJ(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function ZJ(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function eZ(){return ox==null&&v_(),ox}function v_(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let r=t.offsetWidth-t.clientWidth;r===0&&t.clientWidth===0&&(r=null),t.parentNode&&t.parentNode.removeChild(t),r!=null&&(ox=r,ix=r===0)}function C_(){return ix==null&&v_(),ix}var tZ=1e3,rZ=1e3,TD=100,y_=class ql extends Re{constructor(t,r,n,s){super(),this.parentComp=t,this.tooltipShowDelayOverride=r,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=s,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const r=this.gos.get(t);return r<0&&Te(`${t} should not be lower than 0`),Math.max(200,r)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!bl()&&(ql.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},TD):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var i;const r=t.relatedTarget,n=this.parentComp.getGui(),s=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(r)||this.interactionEnabled&&(s!=null&&s.contains(r))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||ql.isLocked)return;let r=0;t&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),r=ql.lastTooltipHideTime;return t-r<tZ}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!Le(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(r)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),ql.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,r){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(r);return}const s=r.getGui();this.tooltipComp=r,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");const i=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:s,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(jr(this.gos),{keydown:a=>{s.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const t=(n=this.tooltipComp)==null?void 0:n.getGui(),r=Dr(this.gos);return!!t&&t.contains(r)}onTooltipFocusOut(t){const r=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,r.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,r=this.tooltipComp,n=this.tooltipTrigger===0?rZ:0;window.setTimeout(()=>{t(),this.destroyBean(r)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){ql.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},TD)}unlockService(){ql.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};y_.isLocked=!1;var nZ=y_,zd=class extends Re{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",r=this.ctrl.getGui();r&&(e!=null&&e!=""?r.setAttribute(t,e):r.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,r,n,s;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new nZ(e,(r=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:r.call(t),(s=(n=this.ctrl).getTooltipHideDelayOverride)==null?void 0:s.call(n),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var s,i,o,a,l;const e=this.ctrl,t=(s=e.getColumn)==null?void 0:s.call(e),r=(i=e.getColDef)==null?void 0:i.call(e),n=(o=e.getRowNode)==null?void 0:o.call(e);return{location:e.getLocation(),colDef:r,column:t,rowIndex:(a=e.getRowIndex)==null?void 0:a.call(e),node:n,data:n==null?void 0:n.data,value:this.getTooltipText(),valueFormatted:(l=e.getValueFormatted)==null?void 0:l.call(e),hideTooltipCallback:()=>{var u;return(u=this.tooltipManager)==null?void 0:u.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},sZ=new Fd,pt=null,hr=class S_ extends Re{constructor(t,r){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=sZ.next(),this.cssClassManager=new Ep(()=>this.eGui),this.componentSelectors=new Map((r??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,r){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,r))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:r,showDelayOverride:n,hideDelayOverride:s,location:i,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==r&&(this.tooltipText=r);const a=()=>this.tooltipText;r!=null&&(this.tooltipFeature=this.createBean(new zd({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>i??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:s!=null?()=>s:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,r,n,s=null){if(r===void 0&&(r=this.getDataRefAttribute(t)),r){const i=this[r];if(i===pt)this[r]=s??t;else{const o=n&&n[r];!this.suppressDataRefValidation&&!o&&Te(`Issue with data-ref: ${r} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(t,r){qJ(t.childNodes).forEach(s=>{if(!(s instanceof HTMLElement))return;const i=this.createComponentFromElement(s,o=>{o.getGui()&&this.copyAttributesFromNode(s,o.getGui())},r);if(i){if(i.addItems&&s.children.length){this.createChildComponentsFromTags(s,r);const o=Array.prototype.slice.call(s.children);i.addItems(o)}this.swapComponentForNode(i,t,s)}else s.childNodes&&this.createChildComponentsFromTags(s,r)})}createComponentFromElement(t,r,n){const s=t.nodeName,i=this.getDataRefAttribute(t),o=s.indexOf("AG-")===0,a=o?this.componentSelectors.get(s):null;let l=null;if(a){S_.elementGettingCreated=t;const u=n&&i?n[i]:void 0;l=new a.component(u),l.setParentComponent(this),this.createBean(l,null,r)}else o&&Te(`Missing selector: ${s}`);return this.applyElementsToComponent(t,i,n,l),l}copyAttributesFromNode(t,r){YJ(t.attributes,(n,s)=>r.setAttribute(n,s))}swapComponentForNode(t,r,n){const s=t.getGui();r.replaceChild(s,n),r.insertBefore(document.createComment(n.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const r=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",r.toString()))}setTemplate(t,r,n){const s=$f(t);this.setTemplateFromElement(s,r,n)}setTemplateFromElement(t,r,n,s=!1){if(this.eGui=t,this.suppressDataRefValidation=s,r)for(let i=0;i<r.length;i++){const o=r[i];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,r){let n=r;return t==null?null:(n||(n=this.eGui),Sb(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,r){const{element:n,parent:s}=this.getContainerAndElement(t,r)||{};!n||!s||s.insertAdjacentElement("afterbegin",n)}appendChild(t,r){const{element:n,parent:s}=this.getContainerAndElement(t,r)||{};!n||!s||s.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,r={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=r;zJ(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,r={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=r;Pr(this.eGui,t,{skipAriaHidden:n});const s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,r,n){this.eGui.addEventListener(t,r,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,r))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,r){this.cssClassManager.addOrRemoveCssClass(t,r)}},w_={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},iZ=(()=>{const e=new Set(Object.values(w_));return e.add("eye"),e})();function oZ(e,t,r){const n=Hs(e,t,r);if(n){const{className:i}=n;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return n}const s=document.createElement("span");return s.appendChild(n),s}function Hs(e,t,r,n){let s=null;const i=r&&r.getColDef().icons;if(i&&(s=i[e]),t&&!s){const o=t.get("icons");o&&(s=o[e])}if(s){let o;if(typeof s=="function")o=s();else if(typeof s=="string")o=s;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return $f(o);if(Sb(o))return o;Te("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=w_[e]??(iZ.has(e)?e:void 0);return a||(Te(`Did not find icon ${e}`),a=""),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),zi(o,"presentation"),o}}var aZ=class extends hr{constructor(){super(...arguments),this.dragSource=null,this.eIcon=pt,this.eLabel=pt}postConstruct(){const e=t=>oZ(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){var n,s;qs(this.eIcon);let r=null;e||(e=(n=this.dragSource)!=null&&n.getDefaultIconName?(s=this.dragSource)==null?void 0:s.getDefaultIconName():"notAllowed"),r=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(r===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&r&&this.eIcon.appendChild(r)}setLabel(e){this.eLabel.textContent=fo(e)}};function x_(e,t,r){if(r===0)return!1;const n=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(n,s)<=r}var nl=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Vd,this.eElement=e,this.preventMouseClick=t;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",r,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===t;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!x_(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const r={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function zh(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var lZ=`<span class="ag-sort-indicator-container">
        ${zh("Order","order")}
        ${zh("Asc","ascending-icon")}
        ${zh("Desc","descending-icon")}
        ${zh("Mixed","mixed-icon")}
        ${zh("None","none-icon")}
    </span>`,xb=class extends hr{constructor(e){super(),this.eSortOrder=pt,this.eSortAsc=pt,this.eSortDesc=pt,this.eSortMixed=pt,this.eSortNone=pt,e||this.setTemplate(lZ)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,r,n,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const r=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",r),this.addManagedEventListeners({newColumnsLoaded:r,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,r){if(t==null)return;const n=Hs(e,this.gos,r);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";Pr(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";Pr(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),r=e==null;Pr(this.eSortNone,!t&&r,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;ao(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Pr(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,r=e.some(s=>this.sortController.getDisplaySortIndexForColumn(s)??!1),n=t>=0&&r;Pr(this.eSortOrder,n,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():qs(this.eSortOrder)}},cZ={selector:"AG-SORT-INDICATOR",component:xb},uZ=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,lx=class extends hr{constructor(){super(...arguments),this.eFilter=pt,this.eFilterButton=pt,this.eSortIndicator=pt,this.eMenu=pt,this.eLabel=pt,this.eText=pt,this.eSortOrder=pt,this.eSortAsc=pt,this.eSortDesc=pt,this.eSortMixed=pt,this.eSortNone=pt,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??uZ;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[cZ]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=fo(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,r){if(t==null)return;const n=Hs(e,this.gos,r);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new nl(this.getGui(),!0),r=this.shouldSuppressMenuHide(),n=r&&Le(this.eMenu),s=n?new nl(this.eMenu,!0):t;if(this.params.enableMenu){const i=n?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(s,{[i]:o})}if(this.params.enableSorting){const i=o=>{var l,u;const a=o.touchStart.target;r&&((l=this.eMenu)!=null&&l.contains(a)||(u=this.eFilterButton)!=null&&u.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:i})}if(this.params.enableFilterButton){const i=new nl(this.eFilterButton,!0);this.addManagedListeners(i,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>i.destroy())}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Ac(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,r=this.menuService.isLegacyMenuEnabled();if(e&&!r){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new xb(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const r=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(r||s)){const a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const r=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),s=!(r==null?void 0:r.every(i=>this.params.column.getSort()==i.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,r){if(!e)return Ac(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:r}),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Pr(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},dZ=class extends hr{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=pt,this.agClosed=pt,this.agLabel=pt}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&Te("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=s=>{if(qo(s))return;const i=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),i,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=s=>{Rd(s)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const r=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const r=new nl(e,!0);this.addManagedListeners(r,{tap:t}),this.addDestroyFunc(()=>r.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Pr(this.agOpened,t),Pr(this.agClosed,!t)}else Pr(this.agOpened,!1),Pr(this.agClosed,!1)}addInIcon(e,t){const r=Hs(e,this.gos,null);r&&t.appendChild(r)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Pr(this.agOpened,!1),Pr(this.agClosed,!1);return}}setupLabel(){var r;const{displayName:e,columnGroup:t}=this.params;if(Le(e)){const n=fo(e,!0);this.agLabel.textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((r=t.getColGroupDef())!=null&&r.suppressStickyLabel))}},hZ="↑",fZ="↓",pZ=class extends hr{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const r=document.createElement("span");r.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(r),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const r=Math.abs(t),n=e.formatValue(r),s=Le(n)?n:r,i=t>=0;i?this.eDelta.textContent=hZ+s:this.eDelta.textContent=fZ+s,this.eDelta.classList.toggle("ag-value-change-delta-up",i),this.eDelta.classList.toggle("ag-value-change-delta-down",!i)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),qs(this.eDelta)}refresh(e,t=!1){var n;const r=e.value;if(r===this.lastValue||(Le(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:Le(e.value)?this.eValue.textContent=r:qs(this.eValue),(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){const s=r-this.lastValue;this.showDelta(e,s)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=r,!0}},gZ=class extends hr{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var n;let r=e.value;return Gt(r)&&(r=""),r===this.lastValue||(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=r,Le(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:Le(e.value)?this.eCurrent.textContent=r:qs(this.eCurrent),!0)}},me=class{};me.BACKSPACE="Backspace";me.TAB="Tab";me.ENTER="Enter";me.ESCAPE="Escape";me.SPACE=" ";me.LEFT="ArrowLeft";me.UP="ArrowUp";me.RIGHT="ArrowRight";me.DOWN="ArrowDown";me.DELETE="Delete";me.F2="F2";me.PAGE_UP="PageUp";me.PAGE_DOWN="PageDown";me.PAGE_HOME="Home";me.PAGE_END="End";me.A="KeyA";me.C="KeyC";me.D="KeyD";me.V="KeyV";me.X="KeyX";me.Y="KeyY";me.Z="KeyZ";var mZ=class extends hr{constructor(e,t,r){super(t,r),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:r,labelAlignment:n,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){qs(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Pr(this.eLabel,!1),zi(this.eLabel,"presentation")):(Pr(this.eLabel,!0),zi(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Pv(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return zf(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},b_=class extends mZ{constructor(e,t,r,n){super(e,t,r),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),r!=null&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),r=this.getLabel();r==null||r==""||MJ(e)!==null?Uf(e,""):Uf(e,t??"")}setAriaLabel(e){return Ed(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Gi(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},nc=class extends b_{constructor(e,t,r="text",n="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=r,this.displayFieldTag=n,this.eLabel=pt,this.eWrapper=pt,this.eInput=pt}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Pv(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return pi(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ed(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return zf(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)pi(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";pi(this.eInput,"autocomplete",t)}return this}},bb=class extends nc{constructor(e,t="ag-checkbox",r="checkbox"){super(e,t,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,r){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:r});const n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},Rb={selector:"AG-CHECKBOX",component:bb},vZ=class extends hr{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Rb]),this.eCheckbox=pt}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),a_(t,"polite"),this.addManagedListeners(t,{click:r=>{if(Rd(r),this.eCheckbox.isDisabled())return;const n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:r=>{Rd(r)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:r=>{if(r.key===me.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Dr(this.gos)&&this.eCheckbox.toggle();const n=this.eCheckbox.getValue();this.onCheckboxChanged(n),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var a;let t,r=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const l=e.column.getColId();l.startsWith(T0)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?t=e.value??void 0:r=!1}else t=e.value??void 0;if(!r){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const n=e.disabled!=null?e.disabled:!((a=e.column)!=null&&a.isCellEditable(e.node));this.eCheckbox.setDisabled(n);const s=this.localeService.getLocaleTextFunc(),i=mb(s,t),o=n?i:`${s("ariaToggleCellValue","Press SPACE to toggle cell value")} (${i})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:r,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n});const s=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:s}),s||this.updateCheckbox(this.params)}},CZ=class extends hr{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=pt,this.eLoadingText=pt}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Hs("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},yZ=class extends hr{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Uf(e.eParentOfValue)),Uf(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Ed(this.getGui(),t)}setupLoading(e){const r=jr(this.gos).createElement("div");r.classList.add("ag-skeleton-effect");const n=e.node.rowIndex;if(n!=null){const o=75+25*(n%2===0?Math.sin(n):Math.cos(n));r.style.width=`${o}%`}this.getGui().appendChild(r);const i=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Ed(this.getGui(),i)}refresh(e){return!1}destroy(){super.destroy()}},R_=class extends hr{constructor(){super()}destroy(){super.destroy()}},SZ=class extends R_{init(){var t;const e=Ko((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}},wZ=class extends R_{init(){var t;const e=Ko((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}},$d=class extends hr{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},xZ=class extends $d{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=fo(t,!0)}};function E_(e){const{inputValue:t,allSuggestions:r,hideIrrelevant:n,filterByPercentageOfBestMatch:s,addSequentialWeight:i}=e;let o=r.map((u,f)=>({value:u,relevance:RZ(t.toLowerCase(),u.toLocaleLowerCase(),i),idx:f}));if(o.sort((u,f)=>f.relevance-u.relevance),n&&(o=o.filter(u=>u.relevance!==0)),o.length>0&&s&&s>0){const f=o[0].relevance*s;o=o.filter(p=>f-p.relevance<0)}const a=[],l=[];for(const u of o)a.push(u.value),l.push(u.idx);return{values:a,indices:l}}function bZ(e){const t=[],r=e.length;for(let n=1;n<=r;n++)for(let s=0;s<=r-n;s++){const i=s+n-1;t.push(e.slice(s,i+1))}return t}function RZ(e,t,r=!1){const n=e.replace(/\s/g,""),s=t.replace(/\s/g,""),i=n.length,o=s.length,a=new Array(i+1).fill(null).map(()=>new Array(o+1).fill(0));for(let p=0;p<=i;p+=1)a[p][0]=p;for(let p=0;p<=o;p+=1)a[0][p]=p;for(let p=1;p<=i;p++)for(let g=1;g<=o;g++)n[p-1]===s[g-1]?a[p][g]=a[p-1][g-1]:a[p][g]=1+Math.min(a[p][g-1],Math.min(a[p-1][g],a[p-1][g-1]));const l=a[i][o];let f=Math.max(i,o)-l;if(r){const p=bZ(n);for(let g=0;g<p.length;g++){const C=p[g];s.indexOf(C)!==-1&&(f+=1,f*=C.length)}}return f}var EZ=class extends Re{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:aZ,agColumnHeader:lx,agColumnGroupHeader:dZ,agSortIndicator:xb,agAnimateShowChangeCellRenderer:pZ,agAnimateSlideCellRenderer:gZ,agLoadingCellRenderer:CZ,agSkeletonCellRenderer:yZ,agCheckboxCellRenderer:vZ,agLoadingOverlay:SZ,agNoRowsOverlay:wZ,agTooltipComponent:xZ},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&Li(e,(t,r)=>this.registerJsComponent(t,r))}registerDefaultComponent(e,t,r){this.agGridDefaults[e]=t,r&&(this.agGridDefaultParams[e]=r)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const r=(a,l,u)=>({componentFromFramework:l,component:a,params:u}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(n!=null)return r(n,!0);const s=this.jsComps[t];if(s){const a=this.getFrameworkOverrides().isFrameworkComponent(s);return r(s,a)}const i=this.agGridDefaults[t];if(i)return r(i,!1,this.agGridDefaultParams[t]);const o=this.enterpriseAgDefaultCompsModule[t];return o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):lb(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const r=[...Object.keys(this.agGridDefaults).filter(s=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)),...Object.keys(this.jsComps)],n=E_({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;Te(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&Te(`         Did you mean: [${n.slice(0,3)}]?`),Te(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},_r=class nf{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(r=>this.onDone(r),r=>this.onReject(r))}static all(t){return t.length?new nf(r=>{let n=t.length;const s=new Array(n);t.forEach((i,o)=>{i.then(a=>{s[o]=a,n--,n===0&&r(s)})})}):nf.resolve()}static resolve(t=null){return new nf(r=>r(t))}then(t){return new nf(r=>{this.status===1?r(t(this.resolution)):this.waiters.push(n=>r(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(r=>r(t))}onReject(t){}},FZ={propertyName:"dateComponent",cellRenderer:!1},TZ={propertyName:"dragAndDropImageComponent",cellRenderer:!1},PZ={propertyName:"headerComponent",cellRenderer:!1},AZ={propertyName:"headerGroupComponent",cellRenderer:!1},PD={propertyName:"cellRenderer",cellRenderer:!0},DZ={propertyName:"cellRenderer",cellRenderer:!1},MZ={propertyName:"loadingCellRenderer",cellRenderer:!0},NZ={propertyName:"cellEditor",cellRenderer:!1},AD={propertyName:"innerRenderer",cellRenderer:!0},IZ={propertyName:"loadingOverlayComponent",cellRenderer:!1},OZ={propertyName:"noRowsOverlayComponent",cellRenderer:!1},kZ={propertyName:"tooltipComponent",cellRenderer:!1},Eb={propertyName:"filter",cellRenderer:!1},LZ={propertyName:"floatingFilterComponent",cellRenderer:!1},_Z={propertyName:"toolPanel",cellRenderer:!1},jZ={propertyName:"statusPanel",cellRenderer:!1},BZ={propertyName:"fullWidthCellRenderer",cellRenderer:!0},GZ={propertyName:"loadingCellRenderer",cellRenderer:!0},HZ={propertyName:"groupRowRenderer",cellRenderer:!0},VZ={propertyName:"detailCellRenderer",cellRenderer:!0},WZ={propertyName:"menuItem",cellRenderer:!1},F_=class T_ extends Re{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,TZ,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,r){return this.getCompDetails(t,PZ,"agColumnHeader",r)}getHeaderGroupCompDetails(t){const r=t.columnGroup.getColGroupDef();return this.getCompDetails(r,AZ,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,BZ,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,GZ,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,HZ,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,VZ,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,r){return this.getCompDetails(t,AD,null,r)}getFullWidthGroupRowInnerCellRenderer(t,r){return this.getCompDetails(t,AD,null,r)}getCellRendererDetails(t,r){return this.getCompDetails(t,PD,null,r)}getEditorRendererDetails(t,r){return this.getCompDetails(t,DZ,null,r)}getLoadingCellRendererDetails(t,r){return this.getCompDetails(t,MZ,"agSkeletonCellRenderer",r,!0)}getCellEditorDetails(t,r){return this.getCompDetails(t,NZ,"agCellEditor",r,!0)}getFilterDetails(t,r,n){return this.getCompDetails(t,Eb,n,r,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,FZ,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,IZ,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,OZ,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,kZ,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,r){return this.getCompDetails(t,PD,null,r)}getFloatingFilterCompDetails(t,r,n){return this.getCompDetails(t,LZ,n,r)}getToolPanelCompDetails(t,r){return this.getCompDetails(t,_Z,null,r,!0)}getStatusPanelCompDetails(t,r){return this.getCompDetails(t,jZ,null,r,!0)}getMenuItemCompDetails(t,r){return this.getCompDetails(t,WZ,"agMenuItem",r,!0)}getCompDetails(t,r,n,s,i=!1){const{propertyName:o,cellRenderer:a}=r;let{compName:l,jsComp:u,fwComp:f,paramsFromSelector:p,popupFromSelector:g,popupPositionFromSelector:C}=T_.getCompKeys(this.frameworkOverrides,t,r,s),S;const y=E=>{const R=this.userComponentRegistry.retrieve(o,E);R&&(u=R.componentFromFramework?void 0:R.component,f=R.componentFromFramework?R.component:void 0,S=R.params)};if(l!=null&&y(l),u==null&&f==null&&n!=null&&y(n),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(o,u)),!u&&!f){i&&Qt(`Could not find component ${l}, did you forget to configure this component?`);return}const w=this.mergeParamsWithApplicationProvidedParams(t,r,s,p,S),b=u==null,F=u||f;return{componentFromFramework:b,componentClass:F,params:w,type:r,popupFromSelector:g,popupPositionFromSelector:C,newAgStackInstance:()=>this.newAgStackInstance(F,b,w,r)}}static getCompKeys(t,r,n,s){const{propertyName:i}=n;let o,a,l,u,f,p;if(r){const g=r,C=g[i+"Selector"],S=C?C(s):null,y=w=>{typeof w=="string"?o=w:w!=null&&w!==!0&&(t.isFrameworkComponent(w)?l=w:a=w)};S?(y(S.component),u=S.params,f=S.popup,p=S.popupPosition):y(g[i])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:u,popupFromSelector:f,popupPositionFromSelector:p}}newAgStackInstance(t,r,n,s){const i=s.propertyName,o=!r;let a;if(o)a=new t;else{const u=this.componentMetadataProvider.retrieve(i);a=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,s)}const l=this.initComponent(a,n);return l==null?_r.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,r,n,s=null,i){const o=this.gos.getGridCommonParams();ss(o,n),i&&ss(o,i);const a=t,l=a&&a[r.propertyName+"Params"];if(typeof l=="function"){const u=l(n);ss(o,u)}else typeof l=="object"&&ss(o,l);return ss(o,s),o}initComponent(t,r){if(this.createBean(t),t.init!=null)return t.init(r)}};function gf(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var P0=class qt{static register(t){qt.__register(t,!0,void 0)}static registerModules(t){qt.__registerModules(t,!0,void 0)}static __register(t,r,n){qt.runVersionChecks(t),n!==void 0?(qt.areGridScopedModules=!0,qt.gridModulesMap[n]===void 0&&(qt.gridModulesMap[n]={}),qt.gridModulesMap[n][t.moduleName]=t):qt.globalModulesMap[t.moduleName]=t,qt.setModuleBased(r)}static __unRegisterGridModules(t){delete qt.gridModulesMap[t]}static __registerModules(t,r,n){qt.setModuleBased(r),t&&t.forEach(s=>qt.__register(s,r,n))}static isValidModuleVersion(t){const[r,n]=t.version.split(".")||[],[s,i]=qt.currentModuleVersion.split(".")||[];return r===s&&n===i}static runVersionChecks(t){qt.currentModuleVersion||(qt.currentModuleVersion=t.version);const r=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(t.version?qt.isValidModuleVersion(t)||Qt(r(`'${t.moduleName}' is version ${t.version} but the other modules are version ${qt.currentModuleVersion}.`)):Qt(r(`'${t.moduleName}' is incompatible.`)),t.validate){const n=t.validate();n.isValid||Qt(`${n.message}`)}}static setModuleBased(t){qt.moduleBased===void 0?qt.moduleBased=t:qt.moduleBased!==t&&(Qt("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Qt("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){qt.isBundled=!0}static __assertRegistered(t,r,n){var i;if(this.__isRegistered(t,n))return!0;let s;if(qt.isBundled)s=`AG Grid: unable to use ${r} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(qt.moduleBased||qt.moduleBased===void 0){const o=(i=Object.entries(jL).find(([a,l])=>l===t))==null?void 0:i[0];s=`AG Grid: unable to use ${r} as the ${o} is not registered${qt.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${t}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${r} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Qt(s),!1}static __isRegistered(t,r){var n;return!!qt.globalModulesMap[t]||!!((n=qt.gridModulesMap[r])!=null&&n[t])}static __getRegisteredModules(t){return[...Vm(qt.globalModulesMap),...Vm(qt.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return Vm(qt.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!qt.moduleBased}};P0.globalModulesMap={};P0.gridModulesMap={};P0.areGridScopedModules=!1;var lo=P0,UZ=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([r,n])=>{this.beans[r]=n}),e.beanClasses.forEach(r=>{const n=new r;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${r.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(r=>{const{beanName:n,bean:s}=r(this);this.beans[n]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(r=>{var n,s;(n=r.preWireBeans)==null||n.call(r,this.beans),(s=r.wireBeans)==null||s.call(r,this.beans)}),e.forEach(r=>{var n;return(n=r.preConstruct)==null?void 0:n.call(r)}),t&&e.forEach(t),e.forEach(r=>{var n;return(n=r.postConstruct)==null?void 0:n.call(r)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},zZ=class extends UZ{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),lo.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},P_=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(P_||{}),$Z=class extends Re{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(r=>r.dragSource===e);t&&(this.dragService.removeDragSource(t.params),os(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var r,n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(n=(r=this.dragSource).onDragStarted)==null||n.call(r),this.createDragAndDropImageComponent()}onDragStop(e){var t,r,n;if((r=(t=this.dragSource)==null?void 0:t.onDragStopped)==null||r.call(t),(n=this.lastDropTarget)!=null&&n.onDragStop){const s=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(s)}this.clearDragAndDropProperties()}onDragCancel(){var e,t,r;(t=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||t.call(e),(r=this.lastDropTarget)!=null&&r.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var o,a,l,u;const r=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const s=this.dropTargets.filter(f=>this.isMouseOnDropTarget(e,f)),i=this.findCurrentDropTarget(e,s);if(i!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,r,n,t),this.lastDropTarget!==null&&i===null&&((a=(o=this.dragSource)==null?void 0:o.onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&i!==null&&((u=(l=this.dragSource)==null?void 0:l.onGridEnter)==null||u.call(l,this.dragItem)),this.enterDragTargetIfExists(i,e,r,n,t),i&&this.dragAndDropImageComp){const{comp:f,promise:p}=this.dragAndDropImageComp;f?f.setIcon(i.getIconName?i.getIconName():null):p.then(g=>{g&&g.setIcon(i.getIconName?i.getIconName():null)})}this.lastDropTarget=i}else if(i&&i.onDragging){const f=this.createDropTargetEvent(i,e,r,n,t);i.onDragging(f)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r}allContainersIntersect(e,t){for(const r of t){const{width:n,height:s,left:i,right:o,top:a,bottom:l}=r.getBoundingClientRect();if(n===0||s===0)return!1;const u=e.clientX>=i&&e.clientX<o,f=e.clientY>=a&&e.clientY<l;if(!u||!f)return!1}return!0}isMouseOnDropTarget(e,t){const r=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of r)if(this.allContainersIntersect(e,o)){n=!0;break}const{eElement:s,type:i}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:n&&t.isInterestedIn(i,s)}findCurrentDropTarget(e,t){const r=t.length;if(r===0)return null;if(r===1)return t[0];const s=Hf(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const i of s)for(const o of t)if(tJ(this.getAllContainersFromDropTarget(o)).indexOf(i)!==-1)return o;return null}enterDragTargetIfExists(e,t,r,n,s){if(e&&e.onDragEnter){const i=this.createDropTargetEvent(e,t,r,n,s);e.onDragEnter(i)}}leaveLastTargetIfExists(e,t,r,n){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const i=this.createDropTargetEvent(this.lastDropTarget,e,t,r,n);this.lastDropTarget.onDragLeave(i)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const r=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return r.contains(n)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return t===r?null:t>r?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return t===r?null:t>r?0:1}createDropTargetEvent(e,t,r,n,s){const i=e.getContainer(),o=i.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,u=t.clientX-o.left,f=t.clientY-o.top;return this.gos.addGridCommonParams({event:t,x:u,y:f,vDirection:n,hDirection:r,dragSource:l,fromNudge:s,dragItem:a,dropZoneTarget:i})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const r=t.getGui(),s=r.getBoundingClientRect().height,i=JJ()-2,o=ZJ()-2;if(!r.offsetParent)return;const l=h_(r.offsetParent),{clientY:u,clientX:f}=e;let p=u-l.top-s/2,g=f-l.left-10;const C=jr(this.gos),S=C.defaultView||window,y=S.pageYOffset||C.documentElement.scrollTop,w=S.pageXOffset||C.documentElement.scrollLeft;i>0&&g+r.clientWidth>i+w&&(g=i+w-r.clientWidth),g<0&&(g=0),o>0&&p+r.clientHeight>o+y&&(p=o+y-r.clientHeight),p<0&&(p=0),r.style.left=`${g}px`,r.style.top=`${p}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const r=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(n=>{!n||!this.isAlive()||(this.processDragAndDropImageComponent(n),this.dragAndDropImageComp.comp=n)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:r,environment:n}=this;if(!t)return;const s=e.getGui();s.style.setProperty("position","absolute"),s.style.setProperty("z-index","9999"),r.stampTopLevelGridCompWithGridInstance(s),n.applyThemeClasses(s),e.setIcon(null);let{dragItemName:i}=t;cb(i)&&(i=i()),e.setLabel(i||""),s.style.top="20px",s.style.left="20px";const o=jr(this.gos);let a=null,l=null;try{a=o.fullscreenElement}catch{}finally{a||(a=Hf(this.gos));const u=a.querySelector("body");u?l=u:a instanceof ShadowRoot?l=a:a instanceof Document?l=a==null?void 0:a.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(s):Te("Could not find document body, it is needed for drag and drop.")}},KZ=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const r=t||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<n.left+s,this.tickRight=e.clientX>n.right-s,this.tickUp=e.clientY<n.top+s&&!r,this.tickDown=e.clientY>n.bottom-s&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},qZ=class extends Re{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){Sr(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new KZ({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:r=>t.getScrollFeature().setVerticalScrollPosition(r),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var n;return!!(this.funcColsService.getRowGroupColumns().length||((n=this.filterManager)==null?void 0:n.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.selectionService.getSelectedNodes()].sort((s,i)=>s.rowIndex==null||i.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(i));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const r=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),s=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!r?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(s[0],t):this.moveRows(s,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Bt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),r=t&&t.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes;let i=r?1:0;if(this.isFromThisGrid(e))s.forEach(o=>{o.rowTop<n&&(i-=1)}),this.moveRows(s,n,i);else{const o=Wd(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&a--,this.clientSideRowModel.updateRowData({add:s.filter(l=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,r=0){var s;this.clientSideRowModel.ensureRowsAtPixel(e,t,r)&&(this.focusService.clearFocusedCell(),(s=this.rangeService)==null||s.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){Te("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){Te("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(t.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(t.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(t.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",n))}),e.onDragCancel&&(t.onDragCancel=n=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",n))}));const r={isInterestedIn:n=>n===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(r),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),r=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),s=this.onDragging.bind(this),i=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{r(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:r,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:n,onDragging:e.onDragging?l=>{s(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:s,onDragStop:e.onDragStop?l=>{i(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:i,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:r,onDragLeave:n,onDragging:s,onDragStop:i,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const r=this.mouseEventService.getNormalisedPosition(t).y,n=r>this.pageBoundsService.getCurrentPageHeight();let s=-1,i;n||(s=this.rowModel.getRowIndexAtPixel(r),i=this.rowModel.getRow(s));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:s,overNode:i,y:r,vDirection:o})}dispatchGridEvent(e,t){const r=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},YZ=class extends Re{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(r=>r.dragSource===e);t&&(this.removeListener(t),os(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:n,stopPropagationForTouch:s}=e;r.addEventListener("mousedown",t);let i=null;const o=this.gos.get("suppressTouch");n&&!o&&(i=a=>{vb(a.target)||(s&&a.stopPropagation(),this.onTouchStart(e,a))},r.addEventListener("touchstart",i,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:i,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const r=t.touches[0];this.touchLastTime=r,this.touchStart=r;const n=l=>this.onTouchMove(l,e.eElement),s=l=>this.onTouchUp(l,e.eElement),i=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Hf(this.gos),type:"touchmove",listener:i,options:{passive:!1}},{target:o,type:"touchmove",listener:n,options:{passive:!0}},{target:o,type:"touchend",listener:s,options:{passive:!0}},{target:o,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,t){const r=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=u=>this.onMouseMove(u,e.eElement),s=u=>this.onMouseUp(u,e.eElement),i=u=>u.preventDefault(),o=u=>{u.key===me.ESCAPE&&this.cancelDrag(e.eElement)},a=Hf(this.gos),l=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:i},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:r,type:n,listener:s,options:i}=t;r.addEventListener(n,s,i)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:r,type:n,listener:s,options:i}=t;r.removeEventListener(n,s,i)})})}isEventNearStartEvent(e,t){const{dragStartPixels:r}=this.currentDragParams,n=Le(r)?r:4;return x_(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,r){var n;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:r}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(n=this.currentDragParams)==null||n.onDragging(e)}onTouchMove(e,t){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)}onMouseMove(e,t){var r;la()&&((r=jr(this.gos).getSelection())==null||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),r=e.type==="mousemove";return t&&r&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,r=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(r!=null&&r.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,r;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(r=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||r.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},cx=class extends hr{constructor(e,t,r,n,s,i){super(),this.cellValueFn=e,this.rowNode=t,this.column=r,this.customGui=n,this.dragStartPixels=s,this.suppressVisibilityChange=i,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Hs("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new XZ(this,this.beans,this.rowNode,this.column):new QZ(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&Te("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n==null||n.preventDefault()}})[0]);const r=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const n=this.getDragItem(),s=((o=n.rowNodes)==null?void 0:o.length)||1,i=this.getRowDragText(this.column);return i?i(n,s):s===1?this.cellValueFn():`${s} ${r("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},A_=class extends Re{constructor(e,t,r){super(),this.parent=e,this.rowNode=t,this.column=r}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let r=!0,n=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=cb(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(r,t)):(this.parent.setDisplayed(r,t),this.parent.setVisible(!0,t))}}},QZ=class extends A_{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},XZ=class extends A_{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),i=r&&!s||n;this.setDisplayedOrVisible(i)}},JZ=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),Tp=class Va{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Va.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,r){var i;const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(t,n,r);(i=this.localEventService)==null||i.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,r,n){return{type:"dataChanged",node:this,oldData:r,newData:t,update:n}}getRowIndexString(){return this.rowIndex==null?(Qt("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Va.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Va.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Va(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,r){var o;const n=Le(this.id)?this.createDaemonNode():null,s=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(r),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const i=this.createDataChangedEvent(t,s,!1);(o=this.localEventService)==null||o.dispatchEvent(i)}checkRowSelectable(){const t=ub(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,r){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),r)return;if(Pc(this.beans.gos)){const s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){var n;const r=Wd(this.beans.gos);if(r)if(this.data){const s=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=r({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Va.ID_PREFIX_ROW_GROUP)&&Qt(`Row IDs cannot start with ${Va.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,r=!1){this.rowHeight=t,this.rowHeightEstimated=r,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=is(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let t=!1,r=!0,n=0;const s=this.__autoHeights;if(s==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let u=s[l.getId()];if(u==null)if(this.beans.columnModel.isColSpanActive()){let f=[];switch(l.getPinned()){case"left":f=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":f=this.beans.visibleColsService.getRightColsForRow(this);break;case null:f=this.beans.columnViewportService.getColsWithinViewport(this);break}if(f.includes(l)){t=!0;return}u=-1}else{t=!0;return}else r=!1;u>n&&(n=u)}),t)||((r||n<10)&&(n=dl(this.beans.gos,this).height),n==this.rowHeight))return;this.setRowHeight(n);const o=this.beans.rowModel;(a=o.onRowHeightChangedDebounced)==null||a.call(o)}setExpanded(t,r,n){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const s={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:r||null};this.beans.rowNodeEventThrottle.dispatchExpanded(s,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,r,n){const i=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),o=this.beans.valueService.getValueForDisplay(i,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:i,colDef:i.getColDef(),data:this.data,node:this,oldValue:o,newValue:r,value:r,source:n}),!1;const a=this.beans.valueService.setValue(this,i,r,n);return this.dispatchCellChangedEvent(i,r,o),this.checkRowSelectable(),a}setGroupValue(t,r){const n=this.beans.columnModel.getCol(t);Gt(this.groupData)&&(this.groupData={});const s=n.getColId(),i=this.groupData[s];i!==r&&(this.groupData[s]=r,this.dispatchCellChangedEvent(n,r,i))}setAggData(t){const r=this.aggData;if(this.aggData=t,this.localEventService){const n=s=>{const i=this.aggData?this.aggData[s]:void 0,o=r?r[s]:void 0;if(i===o)return;const a=this.beans.columnModel.getCol(s);a&&this.dispatchCellChangedEvent(a,i,o)};for(const s in r)n(s);for(const s in t)(!r||!(s in r))&&n(s)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(So(this.beans.gos)){const n=this.beans.gos.get("treeData"),s=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!s&&s(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,r,n){var i;const s={type:"cellChanged",node:this,column:t,newValue:r,oldValue:n};(i=this.localEventService)==null||i.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(r=>r.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var n;let t=!1,r=!1;if(!((n=this.childrenAfterGroup)!=null&&n.length))return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const i=this.childrenAfterGroup[s];let o=i.isSelected();if(!i.selectable){const a=i.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:r=!0;break;default:return}}if(!(t&&r))return t?!0:r?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var r;(r=this.localEventService)==null||r.dispatchEvent({type:t,node:this})}selectThisNode(t,r,n="api"){const s=!this.selectable&&t,i=this.selected===t;if(s||i)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:r||null,source:n}),!0}setSelected(t,r=!1,n="api"){if(typeof n=="boolean"){Te("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:r,rangeSelect:!1,source:n})}setSelectedParams(t){return this.rowPinned?(Te("cannot select pinned rows"),0):this.id===void 0?(Te("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,r){var s;this.localEventService||(this.localEventService=new Vd),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new fb(this.beans.frameworkOverrides));const n=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(t,r))??r;this.localEventService.addEventListener(t,n)}removeEventListener(t,r){var s;if(!this.localEventService)return;const n=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(t,r))??r;this.localEventService.removeEventListener(t,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(Te("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let r=this;for(;r&&r.key!=null;)t.push(r.key),r=r.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Va(this.beans);Object.keys(this).forEach(r=>{JZ.has(r)||(t[r]=this[r])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};Tp.ID_PREFIX_ROW_GROUP="row-group-";Tp.ID_PREFIX_TOP_PINNED="t-";Tp.ID_PREFIX_BOTTOM_PINNED="b-";Tp.OBJECT_ID_SEQUENCE=0;var Yo=Tp,ZZ=class extends Re{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvancedFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",r=>this.setAdvancedFilterModel(r.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(r=this.columnFilterService)==null||r.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,r;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(r=this.advancedFilterService)!=null&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){Zw(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:r,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):_r.resolve()).then(()=>{var i;const s={source:t,type:"filterChanged",columns:n};r&&ss(s,r),this.eventService.dispatchEvent(s),(i=this.columnFilterService)==null||i.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!Zw(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var r;return(r=this.columnFilterService)==null?void 0:r.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var r;(r=this.columnFilterService)==null||r.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var r;return!!((r=this.columnFilterService)!=null&&r.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(r=this.columnFilterService)==null?void 0:r.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){Te("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var r;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((r=this.columnFilterService)==null?void 0:r.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,r){var n;(n=this.columnFilterService)==null||n.setColDefPropertiesForDataType(e,t,r)}},eee=class extends hr{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??_r.resolve()}afterGuiAttached(e){var t,r;(r=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||r.then(n=>{var s;(s=n==null?void 0:n.afterGuiAttached)==null||s.call(n,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(r=>{var n;(n=r==null?void 0:r.afterGuiDetached)==null||n.call(r)})}createFilter(e){var n,s;const{column:t,source:r}=this;this.filterWrapper=((n=this.filterManager)==null?void 0:n.getOrCreateFilterWrapper(t))??null,(s=this.filterWrapper)!=null&&s.filterPromise&&this.filterWrapper.filterPromise.then(i=>{const o=i.getGui();Le(o)||Te(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:r,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(qs(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},D_="ag-resizer-wrapper",La=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,tee=`<div class="${D_}">
        ${La("eTopLeft","topLeft")}
        ${La("eTop","top")}
        ${La("eTopRight","topRight")}
        ${La("eRight","right")}
        ${La("eBottomRight","bottomRight")}
        ${La("eBottom","bottom")}
        ${La("eBottomLeft","bottomLeft")}
        ${La("eLeft","left")}
    </div>`,ree=class extends Re{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,r=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(r,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:r,width:n,minHeight:s,height:i,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const f=go(this.element);if(f){const p=this.findBoundaryElement(),g=window.getComputedStyle(p);if(g.minWidth!=null){const C=p.offsetWidth-this.element.offsetWidth;u=parseInt(g.minWidth,10)-C}if(g.minHeight!=null){const C=p.offsetHeight-this.element.offsetHeight;l=parseInt(g.minHeight,10)-C}}if(this.minHeight=s||l,this.minWidth=r||u,n&&this.setWidth(n),i&&this.setHeight(i),(!n||!i)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(f&&t){let p=this.boundaryEl,g=!0;if(p||(p=this.findBoundaryElement(),g=!1),p){const C=parseFloat(p.style.top),S=parseFloat(p.style.left);g?this.offsetElement(isNaN(S)?0:S,isNaN(C)?0:C):this.setPosition(S,C)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],s=this.getResizerElement(t),i={dragStartPixels:0,eElement:s,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(i),this.resizeListeners.push(i),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)pf(r,e),e=d_(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?pf(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),i=e?this.position.y:n.top,o=e?0:s.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:f}=u.getBoundingClientRect();a=f-n.bottom}}return r+o-i-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Gi(t,e),e=Ev(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,i=r?this.position.x:this.element.getBoundingClientRect().left;s&&e+i>s&&(e=s-i)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Gi(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:r}=this.config,n=r?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:r,isTop:n,anywhereWithin:s,topBuffer:i}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!r,!!s,o)?0:o,u=this.shouldSkipY(t,!!n,i,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,r,n){const s=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:s.left;let l=a<=0&&i.left>=e.clientX||i.right<=e.clientX&&i.right<=o.right;return l?!0:(t?l=n<0&&e.clientX>a+i.left||n>0&&e.clientX<a+i.left:r?l=n<0&&e.clientX>o.right||n>0&&e.clientX<a+i.left:l=n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,r=0,n){const s=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:s.top;let l=a<=0&&i.top>=e.clientY||i.bottom<=e.clientY&&i.bottom<=o.bottom;return l?!0:(t?l=n<0&&e.clientY>a+i.top+r||n>0&&e.clientY<a+i.top:l=n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const r=new DOMParser().parseFromString(tee,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${D_}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,r=0;for(let n=0;n<e.length;n++){const s=e[n],i=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(i){const l=window.getComputedStyle(s);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=s.offsetHeight,a=s.offsetWidth;t+=o,r+=a}return{height:t,width:r}}applySizeToSiblings(e){let t=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const s=r[n];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=r[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:s,isBottom:i,isLeft:o}=this.currentResizer,a=s||o,l=i||n,{movementX:u,movementY:f}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),p=this.position.x,g=this.position.y;let C=0,S=0;if(a&&u){const y=o?-1:1,w=this.getWidth(),b=w+u*y;let F=!1;o&&(C=w-b,(p+C<=0||b<=this.minWidth)&&(F=!0,C=0)),F||this.setWidth(b)}if(l&&f){const y=n?-1:1,w=this.getHeight(),b=w+f*y;let F=!1;n?(S=w-b,(g+S<=0||b<=this.minHeight)&&(F=!0,S=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&w<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(F=!0),F||this.setHeight(b)}this.updateDragStartPosition(e.clientX,e.clientY),((t||r)&&C||S)&&this.offsetElement(p+C,g+S)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:s,movementY:i}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+s,r+i),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},M_=class N_ extends Re{constructor(t,r={}){super(),this.eFocusableElement=t,this.callbacks=r,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);s&&(s.focus(),n.preventDefault())},...r}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(N_.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:r=>{if(!(r.defaultPrevented||qo(r))){if(this.callbacks.shouldStopEventPropagation(r)){Rd(r);return}r.key===me.TAB?this.callbacks.onTabKeyDown(r):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(r)}}})}};M_.FOCUS_MANAGED_CLASS="ag-focus-managed";var Uc=M_,I_={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Fb(e,t){return Av(e)?(e.debounceMs!=null&&Te("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function Av(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var nee=class extends hr{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=pt,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Uc(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new ree(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Av(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Av(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:r,readOnly:n}=t??{},{buttons:s,readOnly:i}=e;if(n===i&&Bf(r,s))return;const o=s&&s.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(qs(this.eButtonsPanel),this.buttonListeners.forEach(u=>u()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Ac(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=u=>{let f,p;switch(u){case"apply":f=this.translate("applyFilter"),p=S=>this.onBtApply(!1,!1,S);break;case"clear":f=this.translate("clearFilter"),p=()=>this.onBtClear();break;case"reset":f=this.translate("resetFilter"),p=()=>this.onBtReset();break;case"cancel":f=this.translate("cancelFilter"),p=S=>{this.onBtCancel(S)};break;default:Te("Unknown button type specified");return}const C=$f(`<button
                    type="${u==="apply"?"submit":"button"}"
                    data-ref="${u}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${f}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(C,{click:p})),a.append(C)};s.forEach(u=>l(u)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Fb(this.providedFilterParams,this.getDefaultDebounceMs()),t=is(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const r=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const r=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(r,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,r){r&&r.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,r=t&&t.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&zf(n,!r)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:r,gos:n}=this;t?(r.restoreLastSize(),r.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,I_[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},see=class extends bb{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},iee=class extends hr{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case me.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case me.DOWN:case me.UP:e.preventDefault(),this.navigate(t);break;case me.PAGE_DOWN:case me.PAGE_UP:case me.PAGE_HOME:case me.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===me.DOWN;let r;if(!this.highlightedEl)r=this.itemEls[t?0:this.itemEls.length-1];else{let s=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);s=Math.min(Math.max(s,0),this.itemEls.length-1),r=this.itemEls[s]}this.highlightItem(r)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),r=this.options.length-1,n=this.itemEls[0].clientHeight,s=Math.floor(this.getGui().clientHeight/n);let i=-1;e===me.PAGE_HOME?i=0:e===me.PAGE_END?i=r:e===me.PAGE_DOWN?i=Math.min(t+s,r):e===me.PAGE_UP&&(i=Math.max(t-s,0)),i!==-1&&this.highlightItem(this.itemEls[i])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:r}=e,n=r||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Ac(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,r)=>{LJ(t,r+1),kJ(t,e.length)})}renderOption(e,t){const r=jr(this.gos),n=r.createElement("div");zi(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=r.createElement("span");n.appendChild(s),s.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:i=>{i.preventDefault(),i.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new zd({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!go(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Rv(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:r,clientHeight:n}=t,{offsetTop:s,offsetHeight:i}=e;(s+i>r+n||s<r)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!go(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Rv(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},oee=class extends b_{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=pt,this.eWrapper=pt,this.eDisplayField=pt,this.eIcon=pt,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:r,variableWidth:n,minPickerWidth:s,maxPickerWidth:i}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),s!=null&&this.setPickerMinWidth(s),i!=null&&this.setPickerMaxWidth(i)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:r,inputWidth:n}=this.config;if(r){const s=Hs(r,this.gos);s&&this.eIcon.appendChild(s)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),bv(e,!1),this.ariaRole&&zi(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case me.UP:case me.DOWN:case me.ENTER:case me.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case me.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:s=!0}=this.config,i={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const g=VL(this.gos);this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(r,n),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(i),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:u,variableWidth:f}=this;f?(l&&(e.style.minWidth=l),e.style.width=yb(Ev(this.eWrapper)),u&&(e.style.maxWidth=u)):Pv(e,u??Ev(this.eWrapper));const p=a??`${Cb(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",p),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,r=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();bv(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Pv(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Tb=class extends oee{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:r}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),r&&t==null&&(this.eDisplayField.textContent=r),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new iee("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),WJ(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var r;const{key:t}=e;switch(t===me.TAB&&this.hidePicker(),t){case me.ENTER:case me.UP:case me.DOWN:case me.PAGE_UP:case me.PAGE_DOWN:case me.PAGE_HOME:case me.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(r=this.listComponent)==null||r.handleKeyDown(e):super.onKeyDown(e);break;case me.ESCAPE:super.onKeyDown(e);break;case me.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,r){if(this.value===e||!this.listComponent)return this;if(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return s==null&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.textContent=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},aee={selector:"AG-SELECT",component:Tb},O_=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],r=n=>n.some(s=>e[s]!=null)?!0:(Te(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(r)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:Te("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else Te("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},k_=class extends nee{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,r)=>{r===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const r=!e.operator,n=!t.operator;if(!r&&n||r&&!n)return!1;let i;if(r){const o=e,a=t;i=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;i=o.operator===a.operator&&xl(o.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return i}shouldRefresh(e){var i;const t=this.getModel(),r=t?t.conditions??[t]:null,n=((i=e.filterOptions)==null?void 0:i.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!r||r.every(o=>n.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&r&&r.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const r=e;let n=r.conditions;n==null&&(n=[],Te("Filter model is missing 'conditions'"));const s=this.validateAndUpdateConditions(n),i=this.getNumConditions();if(s<i)this.removeConditionsAndOperators(s);else if(s>i)for(let a=i;a<s;a++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),_r.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),Te('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:r}=t,n=[];if(r){const i=t;n.push(...i.conditions??[])}else n.push(t);return n[r&&r==="OR"?"some":"every"](i=>this.individualConditionPasses(e,i))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new O_,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(Te('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(Te('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Te('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Tb);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,s),this.resetJoinOperatorOr(r,n,s),this.isReadOnly()||(t.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,t,r){const n=this.createManagedBean(new see);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${r}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?e=r:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const r=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);const n=e+1,s=r-n;s>0&&this.removeConditionsAndOperators(n,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,s)=>{const i=this.isConditionDisabled(s,e);n.setDisabled(i||this.filterListOptions.length<=1),s===1&&(zf(this.eJoinOperatorPanels[0],i),this.eJoinOperatorsAnd[0].setDisabled(i),this.eJoinOperatorsOr[0].setDisabled(i))}),this.eConditionBodies.forEach((n,s)=>{Pr(n,this.isConditionBodyVisible(s))});const r=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(r,!0)}),this.forEachInput((n,s,i,o)=>{this.setElementDisplayed(n,s<o),this.setElementDisabled(n,this.isConditionDisabled(i,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,t),this.removeComponents(this.eJoinOperatorsAnd,r,t),this.removeComponents(this.eJoinOperatorsOr,r,t)}removeElements(e,t,r){this.removeItems(e,t,r).forEach(s=>Ac(s))}removeComponents(e,t,r){this.removeItems(e,t,r).forEach(s=>{Ac(s.getGui()),this.destroyBean(s)})}removeItems(e,t,r){return r==null?e.splice(t):e.splice(t,r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof nc&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,r=-1,n=!1;const s=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,r=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),n=!0,l&&r--)}let i=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),i=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),i=!0),i&&this.updateConditionStatusesAndValues(r,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,t){let r=this.translate(e);if(cb(this.filterPlaceholder)){const n=this.filterPlaceholder,s=this.eTypes[t].getValue(),i=this.translate(s);r=n({filterOptionKey:s,filterOption:i,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,r,n,s)=>{if(!(t instanceof nc))return;const i=r===0&&s>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",o=r===0&&s>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(i,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,r){e instanceof nc&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof hr&&Pr(e.getGui(),t)}setElementDisabled(e,t){e instanceof hr&&zf(e.getGui(),t)}attachElementOnChange(e,t){e instanceof nc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,r)=>{this.forEachPositionTypeInput(r,t,e)})}forEachPositionInput(e,t){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,t)}forEachPositionTypeInput(e,t,r){const n=this.getNumberOfInputs(t),s=this.getInputs(e);for(let i=0;i<s.length;i++){const o=s[i];o!=null&&r(o,i,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,r)=>this.resetJoinOperatorAnd(t,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((t,r)=>this.resetJoinOperatorOr(t,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),_r.resolve()}resetType(e){const r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),r)}resetJoinOperatorOr(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),r)}resetJoinOperator(e,t,r,n,s){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const r=this.mapValuesFromModel(e);this.forEachInput((n,s,i)=>{i===t&&this.setElementValue(n,r[s]!=null?r[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,r,n)=>{this.setElementValue(t,r===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,t){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(t),s=this.optionsFactory.getCustomOption(t.type),i=this.evaluateCustomFilter(s,n,r);return i??(r==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,r,t,e))}evaluateCustomFilter(e,t,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(s=>s==null))return n(t,r)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},L_=class extends k_{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,r){const n=this.comparator(),s=e[0]!=null?n(e[0],t):0;switch(r.type){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const i=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?s>=0&&i<=0:s>0&&i<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return Te('Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},lee=65,cee=67,uee=86,dee=68,hee=90,fee=89;function __(e){var r;return e.altKey||e.ctrlKey||e.metaKey?!1:((r=e.key)==null?void 0:r.length)===1}function ux(e,t,r,n,s){const i=n?n.getColDef().suppressKeyboardEvent:void 0;if(!i)return!1;const o=e.addGridCommonParams({event:t,editing:s,column:n,node:r,data:r.data,colDef:n.getColDef()});return!!(i&&i(o))}function pee(e,t,r,n){const s=n.getDefinition(),i=s&&s.suppressHeaderKeyboardEvent;if(!Le(i))return!1;const o=e.addGridCommonParams({colDef:s,column:n,headerRowIndex:r,event:t});return!!i(o)}function gee(e){const{keyCode:t}=e;let r;switch(t){case lee:r=me.A;break;case cee:r=me.C;break;case uee:r=me.V;break;case dee:r=me.D;break;case hee:r=me.Z;break;case fee:r=me.Y;break;default:r=e.code}return r}function mee(e,t=!1){return e===me.DELETE?!0:!t&&e===me.BACKSPACE?m_():!1}var zc=class extends nc{constructor(e,t="ag-text-field",r="text"){super(e,t,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=Le(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=r=>{__(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:r=>{var s;const n=(s=r.clipboardData)==null?void 0:s.getData("text");n&&n.split("").some(i=>!e.test(i))&&r.preventDefault()}})}},A0={selector:"AG-INPUT-TEXT-FIELD",component:zc},Pb=class extends zc{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const s=parseFloat(this.eInput.value),i=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==i&&this.setValue(i)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:r,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof r=="number"&&this.setMax(r),typeof n=="number"&&this.setStep(n)}onWheel(e){Dr(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=this.precision)return e;if(this.precision>0)return`${r[0]}.${r[1].slice(0,this.precision)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,pi(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,pi(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,pi(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(r=>super.setValue(r,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,r){if(Le(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const s=this.normalizeValue(r);n=r!=s}if(n)return t(r)}return e(r)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},vee={selector:"AG-INPUT-NUMBER-FIELD",component:Pb},j_=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Ab=class{constructor(e,t,r){this.localeService=e,this.optionsFactory=t,this.valueFormatter=r}getModelAsString(e){if(!e)return null;const t=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(t){const n=e,i=(n.conditions??[]).map(a=>this.getModelAsString(a)),o=n.operator==="AND"?"andCondition":"orCondition";return i.join(` ${r(o,I_[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return r(e.type,e.type);{const n=e,s=this.optionsFactory.getCustomOption(n.type),{displayKey:i,displayName:o,numberOfInputs:a}=s||{};return i&&o&&a===0?(r(i,o),o):this.conditionToString(n,s)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},B_=class extends Ab{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function dx(e){const{allowedCharPattern:t}=e??{};return t??null}var Cee=class extends L_{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[this.processValue(t),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new B_(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return j_}setElementValue(e,t,r){const n=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=dx(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),zi(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,r,n){const s=this.createManagedBean(n?new zc({allowedCharPattern:n}):new Pb);s.addCssClass(`ag-filter-${r}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,s,i)=>{n<i&&t.push(this.processValue(this.stringToFloat(r.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Ko(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},G_=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],H_=class extends Ab{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function V_(e){const t=e&&e.trim();return t===""?e:t}var yee=class extends k_{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:r})=>{if(r==null)return!1;switch(e){case"contains":return t.indexOf(r)>=0;case"notContains":return t.indexOf(r)<0;case"equals":return t===r;case"notEqual":return t!=r;case"startsWith":return t.indexOf(r)===0;case"endsWith":{const n=t.lastIndexOf(r);return n>=0&&n===t.length-r.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new H_(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(Te("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:r,filterText:n})=>e(t,r,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const r=[];return this.forEachPositionInput(e,(n,s,i,o)=>{if(s<o){let a=Ko(n.getValue());t&&this.textFilterParams.trimInput&&(a=V_(a)??null,n.setValue(a,!0)),r.push(a)}}),r}getDefaultFilterOptions(){return G_}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),zi(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,r){const n=this.createManagedBean(new zc);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[t||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,r,n){const s=e.map(g=>this.formatter(g))||[],i=this.formatter(t),{api:o,colDef:a,column:l,context:u,textFormatter:f}=this.textFilterParams;if(r.type==="blank")return this.isBlank(t);if(r.type==="notBlank")return!this.isBlank(t);const p={api:o,colDef:a,column:l,context:u,node:n.node,data:n.data,filterOption:r.type,value:i,textFormatter:f};return s.some(g=>this.matcher({...p,filterText:g}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function W_(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function Zi(e,t=Number.MAX_VALUE){return r=>{const n=W_(r);if(!(n==null||n<e||n>t))return n}}function mf(e,t){return e.toString().padStart(t,"0")}function See(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}function wee(e,t,r){return typeof e!="number"?"":e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function gi(e,t=!0,r="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>mf(s,2)).join(r);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>mf(s,2)).join(":")),n}var NS=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function vf(e,t="YYYY-MM-DD"){const r=mf(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={YYYY:()=>r.slice(r.length-4,r.length),YY:()=>r.slice(r.length-2,r.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>mf(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${NS(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${NS(e.getDate())}`,DD:()=>mf(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>s[e.getDay()],ddd:()=>s[e.getDay()].slice(0,3),dd:()=>s[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${NS(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(i).join("|"),"g");return t.replace(o,a=>a in i?i[a]():a)}function bs(e){if(!e)return null;const[t,r]=e.split(" ");if(!t)return null;const n=t.split("-").map(p=>parseInt(p,10));if(n.filter(p=>!isNaN(p)).length!==3)return null;const[s,i,o]=n,a=new Date(s,i-1,o);if(a.getFullYear()!==s||a.getMonth()!==i-1||a.getDate()!==o)return null;if(!r||r==="00:00:00")return a;const[l,u,f]=r.split(":").map(p=>parseInt(p,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),f>=0&&f<60&&a.setSeconds(f),a}var U_=class{constructor(e,t,r,n,s){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(r).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),s==null||s(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Pr(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var r,n;let t=!1;(r=this.dateComp)!=null&&r.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((n=this.dateComp)!=null&&n.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&Te("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},z_=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],$_=class extends Ab{constructor(e,t,r){super(t,r),this.dateFilterParams=e}conditionToString(e,t){const{type:r}=e,{numberOfInputs:n}=t||{},s=r=="inRange"||n===2,i=bs(e.dateFrom),o=bs(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){const l=i!==null?vf(i,a):"null",u=o!==null?vf(o,a):"null";return`${l}-${u}`}return i!=null?vf(i,a):`${r}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},DD=1e3,MD=1/0,xee=class extends L_{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=DD,this.maxValidYear=MD,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:r,type:n}=e||{};return[t&&bs(t)||null,r&&bs(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const r=t;return t==null||r<e?-1:r>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))Te(`DateFilter ${r} is not a number`);else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=t("minValidYear",DD),this.maxValidYear=t("maxValidYear",MD),this.minValidYear>this.maxValidYear&&Te("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:bs(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:bs(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Te("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new $_(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new U_(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return z_}createValueElement(){const t=jr(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,r,n){const i=jr(this.gos).createElement("div");i.classList.add(`ag-filter-${n}`),i.classList.add(`ag-filter-date-${n}`),t.push(i),e.appendChild(i),r.push(this.createDateCompWrapper(i))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,r){this.removeItems(e,t,r).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((r,n,s,i)=>{s!==e||!t||n>=i||(t=t&&this.isValidDateValue(r.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=gi(n[0])),n.length>1&&(r.dateTo=gi(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...r}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(r)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,s,i)=>{n<i&&t.push(r.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},Db=class extends Re{constructor(e,t,r,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Bt(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=Le(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),r=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,r),s=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!bn(this.beans.gos,"print")||e.getPinned()==="left")return t;const n=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const s=this.beans.visibleColsService.getBodyContainerWidth();return n+s+t}return n+t}setLeft(e){if(Le(e)&&(this.eCell.style.left=`${e}px`),Ur(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&GJ(this.ariaEl,t.length)}}},bee="ag-column-first",Ree="ag-column-last";function K_(e,t,r,n){return Gt(e)?[]:Fee(e.headerClass,e,t,r,n)}function q_(e,t,r){e.addOrRemoveCssClass(bee,r.isColAtEdge(t,"first")),e.addOrRemoveCssClass(Ree,r.isColAtEdge(t,"last"))}function Eee(e,t,r,n){return t.addGridCommonParams({colDef:e,column:r,columnGroup:n})}function Fee(e,t,r,n,s){if(Gt(e))return[];let i;if(typeof e=="function"){const o=Eee(t,r,n,s);i=e(o)}else i=e;return typeof i=="string"?[i]:Array.isArray(i)?[...i]:[]}var Tee=0,Y_=class Q_ extends Re{constructor(t,r,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=r,this.instanceId=t.getUniqueId()+"-"+Tee++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:r,column:n}=this.focusService.getFocusedHeader();return pee(this.gos,t,r,n)}getWrapperHasFocus(){return Dr(this.gos)===this.eGui}setGui(t,r){this.eGui=t,this.addDomData(r),r.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),r.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:r,checkMeasuringCallback:n,compBean:s}=t,{animationFrameService:i,resizeObserverService:o,columnModel:a,gos:l}=this.beans,u=y=>{if(!this.isAlive()||!s.isAlive())return;const{paddingTop:w,paddingBottom:b,borderBottomWidth:F,borderTopWidth:E}=Wc(this.getGui()),R=w+b+F+E,D=r.offsetHeight+R;if(y<5){const M=jr(l),I=!M||!M.contains(r),L=D==0;if(I||L){i.requestAnimationFrame(()=>u(y+1));return}}a.setColHeaderHeight(this.column,D)};let f=!1,p;const g=()=>{const y=this.column.isAutoHeaderHeight();y&&!f&&C(),!y&&f&&S()},C=()=>{f=!0,u(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),p=o.observeResize(r,()=>u(0))},S=()=>{f=!1,p&&p(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),p=void 0};g(),s.addDestroyFunc(()=>S()),s.addManagedListeners(this.column,{widthChanged:()=>f&&u(0)}),s.addManagedEventListeners({sortChanged:()=>{f&&window.setTimeout(()=>u(0))}}),n&&n(g)}onDisplayedColumnsChanged(){const{comp:t,column:r,beans:n,eGui:s}=this;!t||!r||!s||(q_(t,r,n.visibleColsService),c_(s,n.visibleColsService.getAriaColIndex(r)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&pi(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var o;const r=Dr(this.gos),n=t.key===me.LEFT||t.key===me.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),r!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||n)&&(t.preventDefault(),t.stopImmediatePropagation()),!n))return;const s=t.key===me.LEFT!==this.gos.get("enableRtl"),i=P_[s?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(i)}getViewportAdjustedResizeDiff(t){let r=this.getResizeDiff(t);if(this.column.getPinned()){const s=this.pinnedWidthService.getPinnedLeftWidth(),i=this.pinnedWidthService.getPinnedRightWidth(),o=Fp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+i+r>o)if(o>s+i)r=o-s-i;else return 0}return r}getResizeDiff(t){let r=t.key===me.LEFT!==this.gos.get("enableRtl");const n=this.column.getPinned(),s=this.gos.get("enableRtl");return n&&s!==(n==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const r=this.getWrapperHasFocus();switch(t.key){case me.PAGE_DOWN:case me.PAGE_UP:case me.PAGE_HOME:case me.PAGE_END:r&&t.preventDefault()}}addDomData(t){const r=Q_.DOM_DATA_KEY_HEADER_CTRL;Tc(this.gos,this.eGui,r,this),t.addDestroyFunc(()=>Tc(this.gos,this.eGui,r,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,r,n){const s=t??r;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault(),this.menuService.isHeaderContextMenuEnabled(n)&&this.menuService.showHeaderContextMenu(n,t,r),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(t,r){this.eventService.dispatchEvent({type:t,column:r})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};Y_.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var D0=Y_,Mb=class extends Re{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},Pee=class extends D0{constructor(e,t,r){super(e,t,r),this.iconCreated=!1,this.column=e}setComp(e,t,r,n,s){this.comp=e,s=Rp(this,this.beans.context,s),this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(t,s),this.setupActive(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s),s.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(s)}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Hs("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Uc(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Ed(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Dr(this.gos)===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),n.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let r=this.column;do if(r=e?t.getColBefore(r):t.getColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case me.UP:case me.DOWN:t||e.preventDefault();case me.LEFT:case me.RIGHT:if(t)return;e.stopPropagation();case me.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case me.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Zu(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const i=this.lastFocusEvent,o=!!(i&&i.key===me.TAB);if(i&&o){const a=i.shiftKey;this.focusService.focusInto(this.eGui,a)}}const s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}setupHover(e){e.createManagedBean(new Mb([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new Db(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,r=n=>{if((n==null?void 0:n.source)==="filterDestroyed"&&!this.isAlive())return;const s=this.comp.getFloatingFilterComp();s&&s.then(i=>{if(i){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=n?{...n,columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}:null;i.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:r}),t!=null&&t.isFilterActive(this.column)&&r(null)}setupWidth(e){const t=()=>{const r=`${this.column.getActualWidth()}px`;this.comp.setWidth(r)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var i;const t=this.active;this.setupActive();const r=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?(i=this.beans.filterManager)==null?void 0:i.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!n?this.updateCompDetails(e,n,r):s.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,r):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,r){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var r;if(!e)return;const t=e.params;(r=this.comp.getFloatingFilterComp())==null||r.then(n=>{let s=!1;n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(t)!==null&&(s=!0),!s&&(n!=null&&n.onParamsUpdated)&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(t)!==null&&Te("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}},Tt="32.3.7";function Aee(e){var t,r;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((r=e.filterManager)!=null&&r.isAggregateFilterPresent())}function Dee(e,t,r){var n;return(n=e.filterManager)==null?void 0:n.getFilterInstance(t,r)}function Mee(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterInstance(t))??Promise.resolve(void 0)}function Nee(e,t){var n;const r=e.columnModel.getColDefCol(t);if(r)return(n=e.filterManager)==null?void 0:n.destroyFilter(r,"api")}function Iee(e,t){e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=e.filterManager)==null?void 0:r.setFilterModel(t)})}function Oee(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function kee(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterModel(t))??null}function Lee(e,t,r){var n;return((n=e.filterManager)==null?void 0:n.setColumnFilterModel(t,r))??Promise.resolve()}function _ee(e,t){const r=e.columnModel.getCol(t);if(!r){Qt(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:r,containerType:"columnFilter",positionBy:"auto"})}function jee(e,t,r){if(t==null)return null;let n=null;const{compName:s,jsComp:i,fwComp:o}=F_.getCompKeys(e,t,Eb);return s?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[s]:i==null&&o==null&&t.filter===!0&&(n=r()),n}var ND={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},ID=["january","february","march","april","may","june","july","august","september","october","november","december"],Bee=class extends Re{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var s;if((s=this.dataTypeService)!=null&&s.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const r=[],n=this.getFilterModel(!0);if(e){const i=new Set(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const l=e[a];r.push(this.setModelOnFilterWrapper(o.filterPromise,l)),i.delete(a)}),i.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){Te("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){Te("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a);if(!l){Te("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}r.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(i=>{r.push(this.setModelOnFilterWrapper(i.filterPromise,null))});_r.all(r).then(()=>{var a;const i=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((l,u)=>{const f=n?n[u]:null,p=i?i[u]:null;Bf(f,p)||o.push(l.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:t}))})}setModelOnFilterWrapper(e,t){return new _r(r=>{e.then(n=>{typeof n.setModel!="function"&&(Te("filter missing setModel method, which is needed for setFilterModel"),r()),(n.setModel(t)||_r.resolve()).then(()=>r())})})}getFilterModel(e){const t={},{allColumnFilters:r,initialFilterModel:n}=this;return r.forEach((s,i)=>{const o=this.getModelFromFilterWrapper(s);Le(o)&&(t[i]=o)}),e||Object.entries(n).forEach(([s,i])=>{var o;Le(i)&&!r.has(s)&&((o=this.columnModel.getCol(s))!=null&&o.isFilterAllowed())&&(t[s]=i)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(Te("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=i=>i?i.isFilterActive?i.isFilterActive():(Te("Filter is missing isFilterActive() method"),!1):!1,t=!!Zw(this.gos),r=i=>{if(!i.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!i.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},n=[],s=[];return this.forEachColumnFilter((i,o)=>{e(i)&&(r(o.column)?n.push(i):s.push(i))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((r,n)=>n.column.setFilterActive(r.isFilterActive(),e,t))}forEachColumnFilter(e){return _r.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(r=>e(r,t))))}doColumnFiltersPass(e,t,r){const{data:n,aggData:s}=e,i=r?this.activeAggregateFilters:this.activeColumnFilters,o=r?s:n;for(let a=0;a<i.length;a++){const l=i[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var r;return(r=this.filterManager)==null?void 0:r.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:r}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",r).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(s=>{s&&s!==t&&s.onAnyFilterChanged&&s.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,r)=>{const n=r?this.columnModel.getCol(r):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var r;let t;if(bS(this.gos))t="agSetColumnFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var r;let t;if(bS(this.gos))t="agSetColumnFloatingFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const r=this.getDefaultFilter(e),n=e.getColDef();let s;const i={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(s,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(s,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,a):!0},o=this.userComponentFactory.getFilterDetails(n,i,r);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(l=>{s=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:ZL(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:r,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=(r==null?void 0:r())??null,t.compDetails=n,t}onColumnsChanged(){var r;const e=[];this.allColumnFilters.forEach((n,s)=>{let i;n.column.isPrimary()?i=this.columnModel.getColDefCol(s):i=this.columnModel.getCol(s),!(i&&i===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(s))});const t=e.every(n=>n.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(r=this.filterManager)==null||r.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:r}=this.allColumnFilters.get(e.getColId())??{};return r&&typeof(r==null?void 0:r.isFilterAllowed)=="function"?r.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const r=l=>{var f;const u=(f=this.getOrCreateFilterWrapper(e))==null?void 0:f.filterPromise;u!=null&&u.then(p=>{l(gf(p))})},n=e.getColDef(),s={...this.createFilterParams(e,n),filterChangedCallback:()=>r(l=>this.filterChangedCallbackFactory(l,e)())},i=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,Eb,s);let o=jee(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:i,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var s;const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],n&&(this.disposeFilterWrapper(n,t),(s=this.filterManager)==null||s.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(r=>{this.destroyBean(r),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return r=>{const n=(r==null?void 0:r.source)??"columnFilter",s={filter:e,additionalEventAttributes:r,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const r=t.column,{compDetails:n}=r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(r,"paramsUpdated");return}const s=r.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(r,"paramsUpdated");return}t.filterPromise.then(i=>{(i!=null&&i.refresh?i.refresh({...this.createFilterParams(r,r.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(i,r),filterChangedCallback:this.filterChangedCallbackFactory(i,r),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(i,a):!0,...s}):!0)===!1&&this.destroyFilter(r,"paramsUpdated")})}setColumnFilterWrapper(e,t){const r=e.getColId();this.allColumnFilters.set(r,t),this.allColumnListeners.set(r,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(r)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:r}=e,{componentClass:n}=t;return!(r===n||(r==null?void 0:r.render)&&(n==null?void 0:n.render)&&r.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(r=>{const n=gf(r);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(r=>{t(gf(r))})})}getFilterInstanceImpl(e){var n;const t=this.columnModel.getColDefCol(e);return t?((n=this.getOrCreateFilterWrapper(t))==null?void 0:n.filterPromise)??_r.resolve(null):_r.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:r})=>{this.setColumnFilterModel(e,t).then(()=>r())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var i;if((i=this.dataTypeService)!=null&&i.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),a}const r=this.columnModel.getColDefCol(e),n=r?this.getOrCreateFilterWrapper(r):null;return n?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(n.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,r){const n=bS(this.gos),s=this.localeService.getLocaleTextFunc(),i=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{n&&i({comparator:(o,a)=>{const l=o==null?0:parseInt(o),u=a==null?0:parseInt(a);return l===u?0:l>u?1:-1}});break}case"boolean":{i(n?{valueFormatter:o=>Le(o.value)?s(String(o.value),o.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{n&&i({valueFormatter:o=>{const a=r(o);return Le(a)?a:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){const l=ID[Number(o)-1];return s(l,ND[l])}return o??s("blanks","(Blanks)")}});break}case"dateString":{const o=t.dateParser;i(n?{valueFormatter:a=>{const l=r(a);return Le(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const u=ID[Number(a)-1];return s(u,ND[u])}return a??s("blanks","(Blanks)")}}:{comparator:(a,l)=>{const u=o(l);return l==null||u<a?-1:u>a?1:0}});break}case"object":{n?i({valueFormatter:o=>{const a=r(o);return Le(a)?a:s("blanks","(Blanks)")}}):e.filterValueGetter=o=>r({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function Gee(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function Hee(e,t="api"){var r;(r=e.filterManager)==null||r.onFilterChanged({source:t})}var Vee=class extends hr{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[A0]),this.eFloatingFilterText=pt}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${r("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const r=t.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},X_=class extends hr{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let r;t?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new O_,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(r)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:r}=t||{};return r==null||r==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return`${t} ${r("ariaFilterInput","Filter Input")}`}},Wee=class extends X_{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[A0]),this.eReadOnlyText=pt,this.eDateWrapper=pt}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return z_}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new $_(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const r=e;this.dateComp.setDate(bs(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Pr(this.eDateWrapper,e),Pr(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=gi(e);this.params.parentFilterInstance(r=>{if(r){const n=bs(t);r.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=Fb(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:is(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new U_(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},Uee=class extends hr{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[A0]),this.eDateInput=pt}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:r=>{r.target===Dr(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&la(),t.type=r?"date":"text";const{minValidYear:n,maxValidYear:s,minValidDate:i,maxValidDate:o}=e.filterParams||{};if(i&&n&&Te("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&s&&Te("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),i&&o){const[a,l]=[i,o].map(u=>u instanceof Date?u:bs(u));a&&l&&a.getTime()>l.getTime()&&Te("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}i?i instanceof Date?t.min=vf(i):t.min=i:n&&(t.min=`${n}-01-01`),o?o instanceof Date?t.max=vf(o):t.max=o:s&&(t.max=`${s}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return bs(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(gi(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:QJ()||wb()||la()&&g_()>=14.1}},J_=class extends Re{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=pt,this.valueChangedListener=()=>{}}setupGui(e){var n;this.eFloatingFilterTextInput=this.createManagedBean(new zc((n=this.params)==null?void 0:n.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const r=s=>this.valueChangedListener(s);this.addManagedListeners(t,{input:r,keydown:r})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Z_=class extends X_{constructor(){super(...arguments),this.eFloatingFilterInputContainer=pt}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Av(this.params.filterParams),!this.isReadOnly()){const r=Fb(this.params.filterParams,this.getDefaultDebounceMs()),n=is(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();qs(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===me.ENTER;if(this.applyActive&&!t)return;let r=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(r=V_(r),this.floatingFilterInputService.setValue(r,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,r||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},zee=class extends Re{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Pb),this.eFloatingFilterTextInput=this.createManagedBean(new zc),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),r=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(r),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(r,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},$ee=class extends Z_{init(e){var t;super.init(e),this.filterModelFormatter=new B_(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){dx(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return j_}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=dx(e.filterParams),this.allowedCharPattern?this.createManagedBean(new J_({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new zee)}},Kee=class extends Z_{init(e){super.init(e),this.filterModelFormatter=new H_(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return G_}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new J_)}};function qee(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function Yee(e){return e.gos.get("quickFilterText")}function Qee(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var Xee=class extends Re{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var s;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),r=this.columnModel.getColDefCols();let n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(s=this.pivotResultColsService.getPivotResultCols())==null?void 0:s.list:r)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(i=>i.isVisible()||i.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(r=>t?this.doesRowPassQuickFilterCache(e,r):this.doesRowPassQuickFilterNoCache(e,r))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return Le(e)?Sr(this.gos)?e.toUpperCase():(Te("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){Te(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),r=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,r&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(r=>{const n=this.getQuickFilterTextForColumn(r,e);return Le(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let r;e?(this.checkGenerateQuickFilterAggregateText(t),r=t.quickFilterAggregateText):r=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:s}=this;return s(n,r)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let r=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const s=this.gos.addGridCommonParams({value:r,node:t,data:t.data,column:e,colDef:n});r=n.getQuickFilterText(s)}return Le(r)?r.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(r=>{const n=this.getQuickFilterTextForColumn(r,e);Le(n)&&t.push(n)}),t.join(`
`)}},Nb={version:Tt,moduleName:"@ag-grid-community/filter-core",beans:[ZZ]},Jee={version:Tt,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:Gee,onFilterChanged:Hee},dependantModules:[Nb]},Ib={version:Tt,moduleName:"@ag-grid-community/column-filter",beans:[Bee],dependantModules:[Nb]},Zee={version:Tt,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:Aee,getFilterInstance:Dee,getColumnFilterInstance:Mee,destroyFilter:Nee,setFilterModel:Iee,getFilterModel:Oee,getColumnFilterModel:kee,setColumnFilterModel:Lee,showColumnFilter:_ee},dependantModules:[Ib,Jee]},e4={version:Tt,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:Pee}],dependantModules:[Ib]},ete={version:Tt,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:Vee}],dependantModules:[e4]},tte={version:Tt,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Ib],userComponents:[{name:"agTextColumnFilter",classImp:yee},{name:"agNumberColumnFilter",classImp:Cee},{name:"agDateColumnFilter",classImp:xee},{name:"agDateInput",classImp:Uee}]},rte={version:Tt,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[tte,e4],userComponents:[{name:"agTextColumnFloatingFilter",classImp:Kee},{name:"agNumberColumnFloatingFilter",classImp:$ee},{name:"agDateColumnFloatingFilter",classImp:Wee}]},t4={version:Tt,moduleName:"@ag-grid-community/quick-filter-core",beans:[Xee],dependantModules:[Nb]},nte={version:Tt,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:qee,getQuickFilter:Yee,resetQuickFilter:Qee},dependantModules:[t4]},ste={version:Tt,moduleName:"@ag-grid-community/quick-filter",dependantModules:[t4,nte]},ite={version:Tt,moduleName:"@ag-grid-community/filter",dependantModules:[rte,ete,ste,Zee]},hx=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(hx||{}),ote=class extends Re{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=jr(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,t){let r;if(typeof e=="string"?(r=this.columnModel.getCol(e),r||(r=this.visibleColService.getColumnGroup(e))):r=e,!r)return null;const n=this.ctrlsService.getHeaderRowContainerCtrl(),s=n==null?void 0:n.getAllCtrls(),i=Bt(s||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,l=r;for(;l;)a++,l=l.getParent();let u=a;return t&&i&&u===o-1&&u++,u===-1?null:{headerRowIndex:u,column:r}}navigateVertically(e,t,r){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,s=t.column,i=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:u}=o?this.headerPositionUtils.getColumnVisibleParent(s,n):this.headerPositionUtils.getColumnVisibleChild(s,n),f=!1;return a<0&&(a=0,l=s,f=!0),a>=i?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):u!==void 0&&(this.currentHeaderRowWithoutSpan=u),!f&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:r})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,r){const n=this.focusService.getFocusedHeader(),s=e===2,i=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,s!==i?(a="Before",o=this.headerPositionUtils.findHeader(n,a)):(a="After",o=this.headerPositionUtils.findHeader(n,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:r});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(n,a,r)}focusNextHeaderRow(e,t,r){const n=e.headerRowIndex;let s=null,i;if(t==="Before"?n>0&&(i=n-1,this.currentHeaderRowWithoutSpan-=1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"end")):(i=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),s=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"start")),!s)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(s.column,s==null?void 0:s.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,t="After"){if(e.getPinned())return;let r;if(Ur(e)){const n=e.getDisplayedLeafColumns();r=t==="Before"?Bt(n):n[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},ate=class extends Re{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,r){this.comp=e,this.eGui=t,this.createManagedBean(new Uc(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var i;const{columnModel:e}=this;let t=0;const r=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),n=this.columnModel.getColumnHeaderRowHeight();if((i=this.filterManager)!=null&&i.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=r,t+=n,this.headerHeight===t)return;this.headerHeight=t;const s=`${t+1}px`;this.comp.setHeightAndMinHeight(s),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),r=e.shiftKey,n=r!==t?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,e)||!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case me.LEFT:t=2;case me.RIGHT:{Le(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case me.UP:t=0;case me.DOWN:{Le(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Dr(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,r){var s;if(!e&&!r||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===((s=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:s.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,r)}mockContextMenuForIPad(e){if(!bl())return;const t=new nl(this.eGui),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}},Ob=class extends Re{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=bn(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),r=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let s;e?s=t+r+n:(s=t,this.addSpacer&&(this.gos.get("enableRtl")?r:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.scrollVisibleService.getScrollbarWidth())),this.callback(s)}},lte=class extends Re{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function r4(e){const{isFromHeader:t,fromLeft:r,xPosition:n,fromEnter:s,fakeEvent:i,pinned:o,gos:a,columnModel:l,columnMoveService:u,visibleColsService:f}=e;let{allMovingColumns:p}=e;if(t){const A=[];p.forEach(D=>{var L;let M=null,I=D.getParent();for(;I!=null&&I.getDisplayedLeafColumns().length===1;)M=I,I=I.getParent();M!=null?(!!((L=M.getColGroupDef())!=null&&L.marryChildren)?M.getProvidedColumnGroup().getLeafColumns():M.getLeafColumns()).forEach(B=>{A.includes(B)||A.push(B)}):A.includes(D)||A.push(D)}),p=A}const g=p.slice();l.sortColsLikeCols(g);const C=hte({movingCols:g,draggingRight:r,xPosition:n,pinned:o,gos:a,columnModel:l,visibleColsService:f}),S=cte(g,l);if(C.length===0)return;const y=C[0];let w=S!==null&&!s;if(t&&(w=S!==null),w&&!i&&(!r&&y>=S||r&&y<=S))return;const b=f.getAllCols(),F=[];let E=null;for(let A=0;A<C.length;A++){const D=C[A],M=u.getProposedColumnOrder(g,D);if(!u.doesOrderPassRules(M))continue;const I=M.filter(j=>b.includes(j));if(E===null)E=I;else if(!xl(I,E))break;const L=ute(M);F.push({move:D,fragCount:L})}if(F.length===0)return;F.sort((A,D)=>A.fragCount-D.fragCount);const R=F[0].move;if(!(R>l.getCols().length-p.length))return{columns:p,toIndex:R}}function kb(e){const{columns:t,toIndex:r}=r4(e)||{},{finished:n,columnMoveService:s}=e;return!t||r==null?null:(s.moveColumns(t,r,"uiColumnMoved",n),n?null:{columns:t,toIndex:r})}function cte(e,t){const r=t.getCols(),n=JX(e.map(l=>r.indexOf(l))),s=n[0];return Bt(n)-s!==n.length-1?null:s}function ute(e){function t(n){const s=[];let i=n.getOriginalParent();for(;i!=null;)s.push(i),i=i.getOriginalParent();return s}let r=0;for(let n=0;n<e.length-1;n++){let s=t(e[n]),i=t(e[n+1]);[s,i]=s.length>i.length?[s,i]:[i,s],s.forEach(o=>{i.indexOf(o)===-1&&r++})}return r}function dte(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function hte(e){const{movingCols:t,draggingRight:r,xPosition:n,pinned:s,gos:i,columnModel:o,visibleColsService:a}=e;if(i.get("suppressMovableColumns")||t.some(E=>E.getColDef().suppressMovable))return[];const u=dte(a,s),f=o.getCols(),p=u.filter(E=>mc(t,E)),g=u.filter(E=>!mc(t,E)),C=f.filter(E=>!mc(t,E));let S=0,y=n;if(r){let E=0;p.forEach(R=>E+=R.getActualWidth()),y-=E}if(y>0){for(let E=0;E<g.length;E++){const R=g[E];if(y-=R.getActualWidth(),y<0)break;S++}r&&S++}let w;if(S>0){const E=g[S-1];w=C.indexOf(E)+1}else w=C.indexOf(g[0]),w===-1&&(w=0);const b=[w],F=(E,R)=>E-R;if(r){let E=w+1;const R=f.length-1;for(;E<=R;)b.push(E),E++;b.sort(F)}else{let E=w;const R=f.length-1;let A=f[E];for(;E<=R&&u.indexOf(A)<0;)E++,b.push(E),A=f[E];E=w-1;const D=0;for(;E>=D;)b.push(E),E--;b.sort(F).reverse()}return b}function Dv(e){var u;const{pinned:t,fromKeyboard:r,gos:n,ctrlsService:s,useHeaderRow:i,skipScrollPadding:o}=e;let a=(u=s.getHeaderRowContainerCtrl(t))==null?void 0:u.getViewportElement(),{x:l}=e;return a?(r&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(i&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=s.get("center").getCenterViewportScrollLeft()),l):0}function ed(e,t){for(const r of e)r.setMoving(t,"uiColumnMoved")}var OD=7,fx=100,pm=fx/2,fte=5,pte=100,gte=class extends Re{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!Le(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var t;const e=((t=this.lastDraggingEvent)==null?void 0:t.dragItem.columns)??[];for(const r of e){const n=r.getPinned();if(r.getColDef().lockPinned){if(n==this.pinned)return"move";continue}if(n===this.pinned||!this.pinned)return"move";if(!n&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,s=(t||[]).filter(i=>n[i.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,r=!1,n=!1){const s=this.gos.get("suppressMoveWhenColumnDragging");if(n&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Gt(e.hDirection))return;const{pinned:i,gos:o,ctrlsService:a}=this,l=Dv({x:e.x,pinned:i,gos:o,ctrlsService:a});t||this.checkCenterForScrolling(l),s?this.handleColumnDragWhileSuppressingMovement(e,t,r,l,n):this.handleColumnDragWhileAllowingMovement(e,t,r,l,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,r){if(!e)return;const n=e.filter(s=>!s.getColDef().lockVisible);this.columnModel.setColsVisible(n,t,r)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,r,n,s){const i=this.getAllMovingColumns(e,!0);if(s){const o=this.isAttemptingToPin(i);o&&this.attemptToPinColumns(i,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(i,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:i,xPosition:l,fromEnter:t,fakeEvent:r,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(i,n)}}handleColumnDragWhileAllowingMovement(e,t,r,n,s){const i=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)===1,a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:i,isFromHeader:a,xPosition:n,fromLeft:o,fromEnter:t,fakeEvent:r}),u=kb({...l,finished:s});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const r=e.dragSource.getDragItem();let n=null;t?(n=r.columnsInSplit,n||(n=r.columns)):n=r.columns;const s=i=>i.getColDef().lockPinned?i.getPinned()==this.pinned:!0;return n?n.filter(s):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:r,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:o}=e,{pinned:a,gos:l,columnModel:u,columnMoveService:f,visibleColsService:p}=this;return{allMovingColumns:t,isFromHeader:r,fromLeft:s,xPosition:n,pinned:a,fromEnter:i,fakeEvent:o,gos:l,columnModel:u,columnMoveService:f,visibleColsService:p}}findFirstAndLastMovingColumns(e){const t=e.length;let r,n;for(let s=0;s<=t;s++){if(!r){const i=e[s];i.getLeft()!=null&&(r=i)}if(!n){const i=e[t-1-s];i.getLeft()!=null&&(n=i)}if(r&&n)break}return{firstMovingCol:r,lastMovingCol:n}}highlightHoveredColumn(e,t){var f;const{gos:r,columnModel:n}=this,s=r.get("enableRtl"),i=n.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let o=null,a=null,l=null;for(const p of i){if(a=p.getActualWidth(),o=this.getNormalisedColumnLeft(p,0,s),o!=null){const g=o+a;if(o<=t&&g>=t){l=p;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let p=i.length-1;p>=0;p--){const g=i[p],C=i[p].getParent();if(!C){l=g;break}const S=C==null?void 0:C.getDisplayedLeafColumns();if(S.length){l=Bt(S);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,s),a=l.getActualWidth()}if(((f=this.lastHighlightedColumn)==null?void 0:f.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let u;t-o<a/2!==s?u=0:u=1,l.setHighlighted(u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:r,visibleColsService:n}=this,s=r.get("enableRtl"),{firstMovingCol:i,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,s);if(!i||!o||a==null)return;const l=n.getAllCols(),u=l.indexOf(i),f=l.indexOf(o),p=a===0!==s,g=u<f||u===f&&!p;let C=0;if(p?g&&(C-=1):g||(C+=1),f+C===u)return;const S=l[f+C];if(!S)return;const y=this.getNormalisedColumnLeft(S,20,s);return{fromLeft:g,xPosition:y}}getColumnMoveAndTargetInfo(e,t,r){const n=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:i}=this.findFirstAndLastMovingColumns(e);if(!s||!i||n.column||!t)return{firstMovingCol:s,...n};const a=this.getPinDirection()==="left";return{firstMovingCol:s,position:a?1:0,column:a!==r?s:i}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,r){const{gos:n,ctrlsService:s}=this,i=e.getLeft();if(i==null)return null;const o=e.getActualWidth();return Dv({x:r?i+o-t:i+t,pinned:e.getPinned(),useHeaderRow:r,skipScrollPadding:!0,gos:n,ctrlsService:s})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,r=this.failedMoveAttempts>OD;return t&&r||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:r,fromEnter:n,fakeEvent:s,fromLeft:i}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:r,fromLeft:i,fromEnter:n,fakeEvent:s}),{columns:a,toIndex:l}=r4(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),r=t.getCenterViewportScrollLeft(),n=r+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<r+pm,this.needToMoveLeft=e>n-pm):(this.needToMoveLeft=e<r+pm,this.needToMoveRight=e>n-pm),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),pte),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var n,s;let e;this.intervalCount++,e=10+this.intervalCount*fte,e>fx&&(e=fx);let t=null;const r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=OD+1)return;if((n=this.dragAndDropService.getDragAndDropImageComponent())==null||n.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const i=(s=this.lastDraggingEvent)==null?void 0:s.dragItem.columns;this.attemptToPinColumns(i,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,r=!1){const n=(e||[]).filter(s=>!s.getColDef().lockPinned);return n.length?(r&&(t=this.getPinDirection()),this.columnModel.setColsPinned(n,t,"uiColumnDragged"),r&&this.dragAndDropService.nudge(),n.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},mte=class extends Re{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new gte(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new lte(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},vte=class extends Re{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n,s){super(),this.pinned=e,this.column=t,this.eResize=r,this.comp=n,this.ctrl=s}postConstruct(){const e=[];let t,r;const n=()=>{if(Pr(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),r){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const u=new nl(this.eResize);u.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),u.removeEventListener("doubleTap",l),u.destroy()})}},s=()=>{e.forEach(o=>o()),e.length=0},i=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==r)&&(t=o,r=a,s(),n())};i(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",i)}onResizing(e,t){const{column:r,lastResizeAmount:n,resizeStartWidth:s}=this,i=this.normaliseResizeAmount(t),o=s+i,a=[{key:r,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),u=this.pinnedWidthService.getPinnedRightWidth(),f=Fp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+u+(i-n)>f)return}this.lastResizeAmount=i,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?r&&(t*=-1):n&&(t*=-1),t}},Cte=class extends Re{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Dr(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new bb),this.cbSelectAll.addCssClass("ag-header-select-all"),zi(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${r})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return KL(this.gos)?!0:(Te(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return Sr(this.gos)||So(this.gos)?!0:(Te(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),r=this.isCurrentPageOnly();let n="uiSelectAll";r?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const s={source:n,justFiltered:t,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&Sv(e)&&bp(this.column),r=this.column.getColDef().headerCheckboxSelection;let n=!1;return t?n=!0:typeof r=="function"?n=r(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):n=!!r,n&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},yte=class extends D0{constructor(e,t,r){super(e,t,r),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,r,n,s){this.comp=e,s=Rp(this,this.beans.context,s),this.setGui(t,s),this.updateState(),this.setupWidth(s),this.setupMovingCss(s),this.setupMenuClass(s),this.setupSortableClass(s),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:s}),this.addColumnHoverListener(s),this.setupFilterClass(s),this.setupClassesFromColDef(),this.setupTooltip(s),this.addActiveHeaderMouseListeners(s),this.setupSelectAll(s),this.setupUserComp(s),this.refreshAria(),this.resizeFeature=s.createManagedBean(new vte(this.getPinned(),this.column,r,e,this)),s.createManagedBean(new Mb([this.column],t)),s.createManagedBean(new Db(this.column,t,this.beans)),s.createManagedBean(new Uc(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(s),s.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(s)),s.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(s)}),s.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const i=()=>this.checkDisplayName(s);s.addManagedEventListeners({columnValueChanged:i,columnRowGroupChanged:i,columnPivotChanged:i,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),s.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const r=this.column.getActualWidth(),n=this.column.getMinWidth(),s=this.column.getMaxWidth(),i=Math.min(Math.max(r+e,n),s);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:i}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:r,column:n,ctrlsService:s}=this,{gos:i,columnModel:o,columnMoveService:a,visibleColsService:l}=r,u=this.getPinned(),f=t.getBoundingClientRect().left,p=n.getActualWidth(),g=i.get("enableRtl"),S=Dv({x:e===0!==g?f-20:f+p+20,pinned:u,fromKeyboard:!0,gos:i,ctrlsService:s}),y=this.focusService.getFocusedHeader();kb({allMovingColumns:[n],isFromHeader:!0,fromLeft:e===1,xPosition:S,pinned:u,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&y&&this.restoreFocus(y)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:r=>{this.menuService.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button"})},showColumnMenuAfterMouseClick:r=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse"})},showFilter:r=>{this.menuService.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{this.beans.sortController.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,n)=>{this.beans.sortController.setSortForColumn(this.column,r,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(r,n)=>{this.setupTooltip(e,r,n)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new Cte(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===me.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===me.ENTER&&this.onEnterKeyDown(e),e.key===me.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const r=this.comp.getUserCompInstance();!r||!(r instanceof lx)||r.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,r){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui,i=this.column.getColDef();!r&&n&&!i.headerComponent&&(r=()=>{const l=s.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:r},a=e.createManagedBean(new zd(o));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),r=K_(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(s=>{n.has(s)?n.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:r,displayName:n,dragAndDropService:s,gos:i}=this,{columnModel:o}=r;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),ed([t],!0)},onDragStopped:()=>ed([t],!1),onDragCancelled:()=>ed([t],!1),onGridEnter:u=>{var f;if(a){const p=((f=u==null?void 0:u.columns)==null?void 0:f.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(p,!0,"uiColumnMoved")}},onGridExit:u=>{var f;if(a){const p=((f=u==null?void 0:u.columns)==null?void 0:f.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(p,!1,"uiColumnMoved")}}};s.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const r=this.column.getActualWidth();this.comp.setWidth(`${r}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const r=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",r),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,r=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",r)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:r,beans:n}=this,s=this.beans.columnModel.getGroupRowsHeight(),i=s.reduce((p,g)=>p+=g,0)===0;if(r.addOrRemoveCssClass("ag-header-parent-hidden",i),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.addOrRemoveCssClass("ag-header-span-height",!1),r.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();r.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:l}=n,u=l.getColumnHeaderRowHeight();if(o===0){r.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}r.addOrRemoveCssClass("ag-header-span-total",a);let f=0;for(let p=0;p<o;p++)f+=s[s.length-1-p];e.style.setProperty("top",`${-f}px`),e.style.setProperty("height",`${u+f}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(DJ(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Dr(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,r)=>t==="filter"?-1:r.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof lx?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},Ste=class extends Re{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n){super(),this.eResize=t,this.comp=e,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const r=[];this.columnGroup.getDisplayedLeafColumns().forEach(s=>{s.getColDef().suppressAutoSize||r.push(s.getColId())}),r.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:r,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,r="uiColumnResized"){const n=this.normaliseDragChange(t),s=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(s,r,e)}getInitialValues(e){const t=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(t),n=this.getSizeRatiosOfColumns(t,r),s={columnsToResize:t,resizeStartWidth:r,resizeRatios:n};let i=null;if(e&&(i=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),i){const o=i.getDisplayedLeafColumns(),a=s.groupAfterColumns=o.filter(u=>u.isResizable()),l=s.groupAfterStartWidth=this.getInitialSizeOfColumns(a);s.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:i,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=i,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();t>r.resizeStartWidth&&this.resizeColumns(r,t,e,!0)}resizeColumnsFromLocalValues(e,t,r=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(n,e,t,r)}resizeColumns(e,t,r,n=!0){const{columnsToResize:s,resizeStartWidth:i,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,f=[];if(f.push({columns:s,ratios:o,width:t}),a){const p=t-i;f.push({columns:a,ratios:u,width:l-p})}this.columnSizeService.resizeColumnSets({resizeSets:f,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(r=>r.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},wte=class extends Re{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},xte=class extends D0{constructor(e,t,r){super(e,t,r),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,r,n,s){this.comp=e,s=Rp(this,this.beans.context,s),this.setGui(t,s),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(s),this.setupAutoHeight({wrapperElement:n,compBean:s}),this.setupUserComp(s),this.addHeaderMouseListeners(s),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const i=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();s.createManagedBean(new Mb(o,t)),s.createManagedBean(new Db(this.column,t,this.beans)),s.createManagedBean(new wte(e,this.column)),this.resizeFeature=s.createManagedBean(new Ste(e,r,i,this.column)),s.createManagedBean(new Uc(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,o),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,r=e.get("groupHeaderHeight");r!=null?r===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(r):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const r of t)e.addManagedListeners(r,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,r)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),r=t[0]===e,n=Bt(t)===e;if(!r&&!n)return;const s=e.getHighlighted(),i=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving());let o=!1,a=!1;if(i){const l=this.beans.gos.get("enableRtl"),u=s===1,f=s===0;r&&(l?a=u:o=f),n&&(l?o=f:a=u)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const r=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:r,column:n,ctrlsService:s}=this,{gos:i,columnModel:o,columnMoveService:a,visibleColsService:l}=t,u=i.get("enableRtl"),f=e===0,p=this.getPinned(),g=r.getBoundingClientRect(),C=g.left,S=g.width,y=Dv({x:f!==u?C-20:C+S+20,pinned:p,fromKeyboard:!0,gos:i,ctrlsService:s}),w=n.getGroupId(),b=this.focusService.getFocusedHeader();kb({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:y,pinned:p,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0});const F=n.getDisplayedLeafColumns(),E=f?F[0]:Bt(F);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(E,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&b&&this.restoreFocus(w,n,b)}restoreFocus(e,t,r){const n=t.getLeafColumns();if(!n.length)return;const s=n[0].getParent();if(!s)return;const i=this.findGroupWidthId(s,e);i&&this.focusService.focusHeaderPosition({headerPosition:{...r,column:i}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:n=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),n,"gridInitializing")},setTooltip:(n,s)=>{this.setupTooltip(e,n,s)}}),r=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(r)}addHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),r=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:r,contextmenu:n})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,r){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),s=this.gos.get("tooltipShowMode")==="whenTruncated",i=this.eGui;!r&&s&&!(n!=null&&n.headerGroupComponent)&&(r=()=>{const a=i.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>i,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:r};n&&(o.getColDef=()=>n),e.createManagedBean(new zd(o))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const r=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:r,expandableChanged:r})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=K_(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(e){const r=this.column.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());r.forEach(s=>{e.addManagedListeners(s,{movingChanged:n})}),n()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===me.ENTER){const r=this.column,n=!r.isExpanded();this.beans.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:r,displayName:n,gos:s,dragAndDropService:i}=this,{columnModel:o}=t,a=r.getProvidedColumnGroup().getLeafColumns();let l=!s.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(r),onDragStarted:()=>{l=!s.get("suppressDragLeaveHidesColumns"),ed(a,!0)},onDragStopped:()=>ed(a,!1),onDragCancelled:()=>ed(a,!1),onGridEnter:f=>{if(l){const{columns:p=[],visibleState:g}=f??{},C=p.filter(S=>!S.getColDef().lockVisible&&(!g||g[S.getColId()]));o.setColsVisible(C,!0,"uiColumnMoved")}},onGridExit:f=>{var p;if(l){const g=((p=f==null?void 0:f.columns)==null?void 0:p.filter(C=>!C.getColDef().lockVisible))||[];o.setColsVisible(g,!1,"uiColumnMoved")}}};i.addDragSource(u,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),r={};t.forEach(o=>r[o.getId()]=o.isVisible());const n=[];this.beans.visibleColsService.getAllCols().forEach(o=>{t.indexOf(o)>=0&&(n.push(o),os(t,o))}),t.forEach(o=>n.push(o));const s=[],i=e.getLeafColumns();for(const o of n)i.indexOf(o)!==-1&&s.push(o);return{columns:n,columnsInSplit:s,visibleState:r}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(r=>{(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},bte=0,IS=class extends Re{constructor(e,t,r){super(),this.instanceId=bte++,this.rowIndex=e,this.pinned=t,this.type=r;const n=r=="group"?"ag-header-row-column-group":r=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=bn(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,r=!0){this.comp=e,t=Rp(this,this.beans.context,t),r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Vm(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=bn(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,r=[],n=e.getGroupRowsHeight(),s=e.getColumnHeaderRowHeight();r.push(...n),r.push(s),t!=null&&t.hasFloatingFilters()&&r.push(e.getFloatingFiltersHeight());let i=0;for(let a=0;a<this.rowIndex;a++)i+=r[a];const o=r[this.rowIndex];return{topOffset:i,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,r,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const r=n=>{const{focusService:s,visibleColsService:i}=this.beans;return s.isHeaderWrapperFocused(n)?i.isVisible(n.getColumnGroupChild()):!1};if(e)for(const[n,s]of e)r(s)?this.headerCellCtrls.set(n,s):this.destroyBean(s);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const r=e.getUniqueId();let n;if(t&&(n=t.get(r),t.delete(r)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":n=this.createBean(new xte(e,this.beans,this));break;default:n=this.createBean(new yte(e,this.beans,this));break}this.headerCellCtrls.set(r,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:r}=this.beans;return["left",null,"right"].forEach(n=>{const s=r.getHeadersToRender(n,t);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let r;return typeof e=="function"?r=t.find(e):r=t.find(n=>n.getColumnGroupChild()==e),r}focusHeader(e,t){const r=this.findHeaderCellCtrl(e);return r?r.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},Rte=class extends Re{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const r=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:r,advancedFilterEnabledChanged:r});const n=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(n,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Fd,r=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const u=this.createBean(new IS(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(u)}},s=()=>{const a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new IS(a,this.pinned,"column")))},i=()=>{var u;this.includeFloatingFilter=!!((u=this.filterManager)!=null&&u.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=t.next();if(this.filtersRowCtrl){const f=this.filtersRowCtrl.getRowIndex()!==l;(!e||f)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new IS(l,this.pinned,"filter")))};n(),s(),i();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(r)}getHeaderCtrlForColumn(e){var t;if(hl(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let r=0;r<this.groupsRowCtrls.length;r++){const n=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const r=this.getAllCtrls()[e];return r?r.getType():void 0}focusHeader(e,t,r){const s=this.getAllCtrls()[e];return s?s.focusHeader(t,r):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new mte(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Ob(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const r=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const s=n==0,i=this.hidden!==s,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),u=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${u}px`),this.comp.setDisplayed(!s),i&&(this.hidden=s,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}},Lb=class extends Re{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(r,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(Te(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},Ete=class extends hr{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=pt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==me.TAB||e.defaultPrevented||qo(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=this.focusService.focusGridView(Bt(this.visibleColsService.getAllCols()),!0,!1):r=this.focusService.focusNextGridCoreContainer(!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const r=this.eOverlayWrapper.classList;r.toggle("ag-layout-auto-height",t.autoHeight),r.toggle("ag-layout-normal",t.normal),r.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new Lb(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,r,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),r&&this.focusService.isGridFocused()){const s=Dr(this.gos);s&&!VL(this.gos)&&(this.elToFocusAfter=s)}e.then(s=>{if(this.activePromise!==e){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!s)return;if(this.activeOverlay!==s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,n)){const o=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{var l;(l=o.refresh)==null||l.call(o,this.gos.addGridCommonParams({...a??{}}))})}const i=this.focusService;r&&i.isGridFocused()&&i.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const r=this.updateListenerDestroyFunc;r&&(r(),this.updateListenerDestroyFunc=null),this.destroyBean(e),qs(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},n4=class extends hr{constructor(e,t){super(),this.direction=t,this.eViewport=pt,this.eContainer=pt,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",m_()||bl())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=C_(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),r=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:r,touchend:r})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();GX(()=>go(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},Fte=class extends n4{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=pt,this.eRightSpacer=pt}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Ob(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.scrollVisibleService.getScrollbarWidth();r&&(t+=n),Gi(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let s=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(s+=n),Gi(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,r=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleService.getScrollbarWidth()||0,i=r?0:n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),pf(this.getGui(),i),pf(this.eViewport,i),pf(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return Fv(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){go(this.getViewportElement())||this.attemptSettingScrollPosition(e),Tv(this.getViewportElement(),e,this.enableRtl)}},s4=class extends Re{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},Tte=class extends n4{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new s4(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,r=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=r===0&&t?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Gi(this.getGui(),n),Gi(this.eViewport,n),Gi(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,r=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),s=r.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!go(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},px=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(px||{}),Pte=class extends Re{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=is(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=is(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(px)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),r=t?is(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?is(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:r}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(px),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const r=this.getViewportForSource(t);Tv(r,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:r}=t;if(this.shouldBlockScrollUpdate(1,r,!0))return;const n=Fv(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,r=!1){return r&&!bl()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Cb(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+t>r}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),Tv(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const r=this.rowModel.getRowCount();let n=-1;for(let s=0;s<r;s++){const i=this.rowModel.getRow(s);if(typeof e=="function"){if(i&&e(i)){n=s;break}}else if(e===i||e===i.data){n=s;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(bn(this.gos,"print"))return;const r=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=r){Te("Invalid row index for ensureIndexVisible: "+e);return}const s=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var f;s||(f=this.paginationService)==null||f.goToPageWithIndex(e);const i=this.ctrlsService.getGridBodyCtrl(),o=i.getStickyTopHeight(),a=i.getStickyBottomHeight(),l=this.rowModel.getRow(e);let u;do{const p=l.rowTop,g=l.rowHeight,C=this.pageBoundsService.getPixelOffset(),S=l.rowTop-C,y=S+l.rowHeight,w=this.getVScrollPosition(),b=this.heightScaler.getDivStretchOffset(),F=w.top+b,E=w.bottom+b,R=E-F,A=this.heightScaler.getScrollPositionForPixel(S),D=this.heightScaler.getScrollPositionForPixel(y-R),M=Math.min((A+D)/2,S),I=F+o>S,L=E-a<y;let j=null;t==="top"?j=A:t==="bottom"?j=D:t==="middle"?j=M:I?j=A-o:L&&(j=D+a),j!==null&&(this.setVerticalScrollPosition(j),this.rowRenderer.redraw({afterScroll:!0})),u=p!==l.rowTop||g!==l.rowHeight}while(u);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const r=this.columnModel.getCol(e);if(!r||r.isPinned()||!this.visibleColsService.isColDisplayed(r))return;const n=this.getPositionedHorizontalScroll(r,t);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),i=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?r:n)||s,l=o?n:r;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:f,colMiddle:p,colRight:g}=this.getColumnBounds(e);return u?p-i/2:a?o?g:f:o?f-i:g-i}return null}isColumnOutsideViewport(e){const{start:t,end:r}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),i=this.enableRtl,o=i?t>s:r<s,a=i?r<n:t>n;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,r=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),s=e.getLeft(),i=t?-1:1,o=t?r-s:s,a=o+n*i,l=o+n/2*i;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),r=t,n=e+t;return{start:r,end:n,width:e}}},Ate=class extends Re{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Fp(e);if(t<=50)return;let r=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gos.getCallback("processUnpinnedColumns");r.length&&(n&&(r=n({columns:r,viewportWidth:t})),this.columnModel.setColsPinned(r,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),n=t+r;if(n<e)return[];const s=[...this.visibleColsService.getLeftCols()],i=[...this.visibleColsService.getRightCols()];let o=0,a=0;const l=0,u=[];let f=n-l-e;for(;(a<s.length||o<i.length)&&f>0;){if(o<i.length){const p=i[o++];f-=p.getActualWidth(),u.push(p)}if(a<s.length&&f>0){const p=s[a++];f-=p.getActualWidth(),u.push(p)}}return u}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Cb(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},Dte=class extends Re{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{oa(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),oa(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},Mte=class extends hr{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Rb]),this.eCheckbox=pt}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),r=mb(e,t),[n,s]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],i=e(n,s);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${i} (${r})`)}onClicked(e,t,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:t,event:r,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>Rd(n),click:n=>{Rd(n);const s=db(this.gos)==="filteredDescendants",i=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(i,s)?this.onClicked(!0,s,n||{})===0&&this.onClicked(!1,s,n):i?this.onClicked(!1,s,n):this.onClicked(!0,s,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),ub(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&Sr(this.gos)}showOrHideSelect(){var s,i,o;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const a=(s=this.overrides)==null?void 0:s.callbackParams;if(!this.column)e=t({...a,node:this.rowNode,data:this.rowNode.data});else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...a,...l})}}else e=t??!1;const r=this.gos.get("rowSelection");if(r&&typeof r!="string"?!zX(r):(i=this.column)==null?void 0:i.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((o=this.overrides)!=null&&o.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var t,r;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?bd(e):(r=(t=this.column)==null?void 0:t.getColDef())==null?void 0:r.checkboxSelection}},Nte=class extends hr{constructor(e,t,r){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=r}postConstruct(){this.getGui().appendChild(Hs("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const r=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){const n=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(n)}else r()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},Ite=class extends Re{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,r=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,r,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const r=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;t=n(r)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!0))}destroy(){super.destroy()}},Ote=class extends Re{constructor(e,t,r,n,s){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=s}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case me.ENTER:this.onEnterKeyDown(e);break;case me.F2:this.onF2KeyDown(e);break;case me.ESCAPE:this.onEscapeKeyDown(e);break;case me.TAB:this.onTabKeyDown(e);break;case me.BACKSPACE:case me.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case me.DOWN:case me.UP:case me.RIGHT:case me.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:r,beans:n,rowNode:s}=this,{gos:i,rangeService:o,eventService:a}=n;if(!r.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),mee(e,i.get("enableCellEditingOnBackspace"))){if(o&&oa(i))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){const l=r.getColumn(),u=this.beans.valueService.getDeleteValue(l,s);s.setDataValue(l,u,"cellClear")}}else r.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?me.UP:me.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(me.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(me.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(n,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&Cv(t)){const r=this.rowNode.isSelected(),n=!r,s=db(t)==="filteredDescendants",i=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});r===void 0&&i===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},kte=class extends Re{constructor(e,t,r){super(),this.cellCtrl=e,this.beans=t,this.column=r}onMouseEvent(e,t){if(!qo(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:r,gos:n}=this.beans,s=e.ctrlKey||e.metaKey;r&&s&&r.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&r.intersectLastRange(!0);const i=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(i);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(i)})},0),(n.get("singleClickEdit")||o.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(r==null?void 0:r.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!bl()||XL("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:r,cellCtrl:n}=this,{eventService:s,frameworkOverrides:i,gos:o}=r,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");s.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{i.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:r,shiftKey:n}=e,s=e.target,{cellCtrl:i,beans:o}=this,{eventService:a,rangeService:l,focusService:u,gos:f}=o;if(this.isRightClickInExistingRange(e))return;const p=l&&l.getCellRanges().length!=0;if(!n||!p){const C=f.get("enableCellTextSelection")&&e.defaultPrevented,S=(la()||C)&&!i.isEditing()&&!vb(s);i.focusCell(S)}if(n&&p&&!u.isCellFocused(i.getCellPosition())){e.preventDefault();const g=u.getFocusedCell();if(g){const{column:C,rowIndex:S,rowPinned:y}=g,w=o.rowRenderer.getRowByPosition({rowIndex:S,rowPinned:y}),b=w==null?void 0:w.getCellCtrl(C);b!=null&&b.isEditing()&&b.stopEditing(),u.setFocusedCell({column:C,rowIndex:S,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(l){const g=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(g);else{const C=t||r;l.setRangeToCell(g,C)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const r=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(r&&n)return!0}return!1}containsWidget(e){return Zu(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),r=t.contains(e.target),n=t.contains(e.relatedTarget);return r&&n}destroy(){super.destroy()}},Lte=class extends Re{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();xl(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let r=this.column;const n=this.column.getPinned();for(let s=0;r&&s<e&&(t.push(r),r=this.beans.visibleColsService.getColAfter(r),!(!r||Gt(r)||n!==r.getPinned()));s++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Bt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=this.beans.visibleColsService.getBodyContainerWidth();return t+r+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=gc(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${r}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},$h="ag-cell-range-selected",_te="ag-cell-range-chart",jte="ag-cell-range-single-cell",Bte="ag-cell-range-chart-category",Gte="ag-cell-range-handle",Hte="ag-cell-range-top",Vte="ag-cell-range-right",Wte="ag-cell-range-bottom",Ute="ag-cell-range-left",zte=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass($h,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${$h}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${$h}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${$h}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${$h}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(_te,this.hasChartRange),Rv(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(jte,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),r=!t&&e.top,n=!t&&e.right,s=!t&&e.bottom,i=!t&&e.left;this.cellComp.addOrRemoveCssClass(Hte,r),this.cellComp.addOrRemoveCssClass(Vte,n),this.cellComp.addOrRemoveCssClass(Wte,s),this.cellComp.addOrRemoveCssClass(Ute,i)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(r=>mc([1,0],r.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,r=!1,n=!1,s=!1;const i=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;e?(a=o.getColAfter(i),l=o.getColBefore(i)):(a=o.getColBefore(i),l=o.getColAfter(i));const u=this.rangeService.getCellRanges().filter(f=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),f));a||(s=!0),l||(r=!0);for(let f=0;f<u.length&&!(t&&r&&n&&s);f++){const p=u[f],g=this.rangeService.getRangeStartRow(p),C=this.rangeService.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(C,this.cellCtrl.getCellPosition())&&(n=!0),!s&&a&&p.columns.indexOf(a)<0&&(s=!0),!r&&l&&p.columns.indexOf(l)<0&&(r=!0)}return{top:t,right:r,bottom:n,left:s}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(Gte,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),r=t.length;if(this.rangeCount<1||r<1)return!1;const n=Bt(t),s=this.cellCtrl.getCellPosition(),i=yD(e)&&!this.cellCtrl.isSuppressFillHandle(),o=YX(e);let a=r===1&&!this.cellCtrl.isEditing()&&(i||o);if(this.hasChartRange){const u=t[0].type===1&&this.rangeService.isCellInSpecificRange(s,t[0]);this.cellComp.addOrRemoveCssClass(Bte,u),a=n.type===0}return a&&n.endRow!=null&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,s)}addSelectionHandle(){const e=Bt(this.rangeService.getCellRanges()).type,r=yD(this.beans.gos)&&Gt(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},$te="ag-cell",Kte="ag-cell-auto-height",qte="ag-cell-normal-height",Yte="ag-cell-focus",Qte="ag-cell-first-right-pinned",Xte="ag-cell-last-left-pinned",Jte="ag-cell-not-inline-editing",Zte="ag-column-hover",ere="ag-cell-wrap-text",tre=0,i4=class gx extends Re{constructor(t,r,n,s){super(),this.column=t,this.rowNode=r,this.beans=n,this.rowCtrl=s,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+tre++,this.colIdSanitised=fo(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new Lte(this,this.beans),this.cellCustomStyleFeature=new Ite(this,this.beans),this.cellMouseListenerFeature=new kte(this,this.beans,this.column),this.cellKeyboardListenerFeature=new Ote(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&oa(this.beans.gos)&&(this.cellRangeFeature=new zte(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,r){const n=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&Le(a))return ff(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!r&&s&&!this.isCellRenderer()&&(r=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const i={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:n,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:r};this.tooltipFeature=new zd(i,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,r,n,s,i,o){var a,l,u,f;this.cellComp=t,this.eGui=r,this.printLayout=s,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(r),(l=this.cellCustomStyleFeature)==null||l.setComp(t),(u=this.tooltipFeature)==null||u.refreshToolTip(),(f=this.cellKeyboardListenerFeature)==null||f.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,r),i&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(p=>p()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,r){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const n=t.parentElement,s=dl(this.beans.gos,this.rowNode).height,i=l=>{if(this.editing||!this.isAlive()||!r.isAlive())return;const{paddingTop:u,paddingBottom:f,borderBottomWidth:p,borderTopWidth:g}=Wc(n),C=u+f+p+g,y=t.offsetHeight+C;if(l<5){const b=jr(this.beans.gos),F=!b||!b.contains(t),E=y==0;if(F||E){window.setTimeout(()=>i(l+1),0);return}}const w=Math.max(y,s);this.rowNode.setRowAutoHeight(w,this.column)},o=()=>i(0);o();const a=this.beans.resizeObserverService.observeResize(t,o);r.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var g;const{beans:r,column:n,rowNode:s,cellRangeFeature:i,cellComp:o}=this,{userComponentFactory:a,animationFrameService:l}=r,u=this.getValueToDisplay();let f;if(s.stub&&((g=s.groupData)==null?void 0:g[this.column.getId()])==null){const C=this.createCellRendererParams();f=a.getLoadingCellRendererDetails(n.getColDef(),C)}else if(this.isCellRenderer()){const C=this.createCellRendererParams();f=a.getCellRendererDetails(n.getColDef(),C)}o.setRenderDetails(f,u,t),l.requestAnimationFrame(()=>i==null?void 0:i.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:r}=this.beans.gridOptions;return t.checkboxSelection||bp(this.column)&&r&&typeof r!="string"&&bd(r)}refreshShouldDestroy(){const t=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),s=this.includeDndSource!=this.isIncludeControl(t.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return r||n||s||i}startEditing(t=null,r=!1,n=null){const{editService:s}=this.beans;return!this.isCellEditable()||this.editing||!s?!0:this.cellComp?s.startEditing(this,t,r,n):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,r,n)}),!0)}setEditing(t,r){this.editCompDetails=r,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:r}=this.beans;return!this.editing||!r?!1:r.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:r=>this.beans.valueService.setValue(this.rowNode,this.column,r),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(r,n,s,i)=>this.registerRowDragger(r,n,i),setTooltip:(r,n)=>{var s;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(r,n),(s=this.tooltipFeature)==null||s.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)==null||r.recreateCell(this):this.refreshCell(t)}refreshCell(t){var f,p,g,C,S;if(this.suppressRefreshCell||this.editing)return;const r=this.column.getColDef(),n=t!=null&&!!t.newData,s=t!=null&&!!t.suppressFlash||!!r.suppressCellFlash,i=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,o=t&&t.forceRefresh||i||n,a=!!this.cellComp,l=this.updateAndFormatValue(a),u=o||l;if(a){if(u){this.showValue(n);const y=(f=this.beans.filterManager)==null?void 0:f.isSuppressFlashingCellsBecauseFiltering();!s&&!y&&(this.beans.gos.get("enableCellChangeFlash")||r.enableCellChangeFlash)&&this.flashCell(),(p=this.cellCustomStyleFeature)==null||p.applyUserStyles(),(g=this.cellCustomStyleFeature)==null||g.applyClassesFromColDef()}(C=this.tooltipFeature)==null||C.refreshToolTip(),(S=this.cellCustomStyleFeature)==null||S.applyCellClassRules()}}stopEditingAndFocus(t=!1,r=!1){var n;(n=this.beans.editService)==null||n.stopEditingAndFocus(this,t,r)}flashCell(t){const r=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),n=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",r,n)}animateCell(t,r,n){if(!this.cellComp)return;const{gos:s}=this.beans;if(r||(r=s.get("cellFlashDuration")),r===0)return;Le(n)||(n=s.get("cellFadeDuration"));const i=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(i,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(i,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},n))},r)})}onFlashCells(t){if(!this.cellComp)return;const r=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[r]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const r=this.value,n=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(t,r){const n=this.column.getColDef();return n.equals?n.equals(t,r):t===r}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const r=this.getGui();Tc(this.beans.gos,r,gx.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>Tc(this.beans.gos,r,gx.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,r){return this.beans.gos.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.processCharacter(t)}onKeyDown(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.onKeyDown(t)}onMouseEvent(t,r){var n;(n=this.cellMouseListenerFeature)==null||n.onMouseEvent(t,r)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:r,beans:n}=this;q_(t,r,n.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);c_(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,r=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,r):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,r)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&pi(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Qte,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Xte,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(Yte,r),r&&t&&t.forceBrowserFocus){let s=this.cellComp.getFocusableElement();if(this.editing){const i=this.beans.focusService.findFocusableElements(s,null,!0);i.length&&(s=i[0])}s.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const n=this.beans.gos.get("editType")==="fullRow";!r&&!n&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Ko(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass($te,!0),this.cellComp.addOrRemoveCssClass(Jte,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(Kte,t),this.cellComp.addOrRemoveCssClass(qte,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Zte,t)}onColDefChanged(){var r;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(r=this.beans.editService)==null||r.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(ere,t)}dispatchCellContextMenuEvent(t){const r=this.column.getColDef(),n=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(n),r.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{r.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new Mte;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new Nte(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,r,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,r);return}const s=this.createRowDragComp(t,r,n);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(t,r,n){const s=this.beans.gos.get("pagination"),i=this.beans.gos.get("rowDragManaged"),o=Sr(this.beans.gos);if(i){if(!o){Te("managed row dragging is only allowed in the Client Side Row Model");return}if(s){Te("managed row dragging is not possible when doing pagination");return}}const a=new cx(()=>this.value,this.rowNode,this.column,t,r,n);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};i4.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var vc=i4,rre=0,o4=class mx extends Re{constructor(t,r,n,s,i){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=r,this.gos=r.gos,this.rowNode=t,this.paginationPage=((o=r.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=s,this.printLayout=i,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+rre++,this.rowId=fo(t.id),this.initRowBusinessKey(),this.rowFocused=r.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=r.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=fo(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,r){t==="left"?this.leftGui=r:t==="right"?this.rightGui=r:t==="fullWidth"?this.fullWidthGui=r:this.centerGui=r}setComp(t,r,n,s){s=Rp(this,this.beans.context,s);const i={rowComp:t,element:r,containerType:n,compBean:s};this.allRowGuis.push(i),this.updateGui(n,i),this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(r=>r.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const r=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=r)}initialiseRowComp(t){const r=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),Cv(r)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(i=>n.addOrRemoveCssClass(i,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&bv(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Tc(r,t.element,mx.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>Tc(r,t.element,mx.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=fo(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:r}=t;this.slideInAnimation[r]&&(vD(()=>{this.onTopChanged()}),this.slideInAnimation[r]=!1),this.fadeInAnimation[r]&&(vD(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)}addRowDraggerToRow(t){if(oa(this.gos)){Te("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const r=this.beans.localeService.getLocaleTextFunc(),n=new cx(()=>`1 ${r("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),s=this.createBean(n,this.beans.context);this.rowDragComps.push(s),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(t){const r=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const n=this.createFullWidthCompDetails(t.element,r);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,r;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var s;return(s=n==null?void 0:n.rowComp)==null?void 0:s.getFullWidthCellRenderer()}):[(r=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:r.getFullWidthCellRenderer()]}getCellElement(t){const r=this.getCellCtrl(t);return r?r.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(r)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),r=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&r&&n}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),r=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&F0(this.gos,s);t?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":r?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,r=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,r,n=null){const s={list:[],map:{}},i=(a,l,u)=>{u!=null?s.list.splice(u,0,l):s.list.push(l),s.map[a]=l},o=[];for(const a of r){const l=a.getInstanceId();let u=t.map[l];u||(u=new vc(a,this.rowNode,this.beans,this)),i(l,u)}for(const a of t.list){const l=a.getColumn().getInstanceId();if(s.map[l]!=null)continue;!this.isCellEligibleToBeRemoved(a,n)?o.push([l,a]):a.destroy()}if(o.length)for(const[a,l]of o){const u=s.list.findIndex(p=>p.getColumn().getLeft()>l.getColumn().getLeft()),f=u===-1?void 0:Math.max(u-1,0);i(a,l,f)}return s}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(r=>{const n=this.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,r=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const s=r.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const i=r.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(t,r){if(t.getColumn().getPinned()!=r)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const u=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(u)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||bn(this.gos,"print")}listenOnDomOrder(t){const r=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],r)}setAnimateFlags(t){if(this.isSticky()||!t)return;const r=Le(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),s=this.beans.visibleColsService.isPinningRight();if(r){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,r=t(this.fullWidthGui,null),n=t(this.centerGui,null),s=t(this.leftGui,"left"),i=t(this.rightGui,"right");return r&&n&&s&&i}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(r=>r.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(r=>{const n=t===0,s=t===1;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&r),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!r),bv(n.element,t&&r)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ko(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(r=>r.element.contains(t))}onKeyboardNavigate(t){const r=this.findFullWidthRowGui(t.target);if(!((r?r.element:null)===t.target))return;const i=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:(o==null?void 0:o.column)??this.getColumnForFullWidth(r)};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||qo(t))return;const r=this.allRowGuis.find(l=>l.element.contains(t.target)),n=r?r.element:null,s=n===t.target,i=Dr(this.gos);let o=!1;n&&i&&(o=n.contains(i)&&i.classList.contains("ag-cell"));let a=null;!s&&!o&&(a=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&s||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var r;const t=(r=this.allRowGuis.find(n=>go(n.element)))==null?void 0:r.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const r=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(n=>{pi(n.element,"tabindex",r)})}onFullWidthRowFocused(t){var i;const r=this.rowNode,n=t?this.isFullWidth()&&t.rowIndex===r.rowIndex&&t.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",n),n&&(t!=null&&t.forceBrowserFocus)&&s.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,r){const n={list:[],map:{}};return t.list.forEach(s=>{s!==r&&(n.list.push(s),n.map[s.getColumn().getInstanceId()]=s)}),n}onMouseEvent(t,r){switch(t){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}}createRowEvent(t,r){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})}createRowEventWithSource(t,r){const n=this.createRowEvent(t,r);return n.source=this,n}onRowDblClick(t){qo(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:r}=this.beans;switch(t==null?void 0:t.containerType){case"center":return r.getCenterCols()[0];case"left":return r.getLeftCols()[0];case"right":return r.getRightCols()[0];default:return r.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Zu(t.target,"ag-row-drag",3),!this.isFullWidth())return;const r=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const n=this.findFullWidthRowGui(t.target),s=n==null?void 0:n.element,i=t.target;let o=!0;s&&s.contains(i)&&vb(i)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:this.getColumnForFullWidth(n),rowPinned:r.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(qo(t)||this.lastMouseDownOnDragger)return;const{gos:n}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const s=t.ctrlKey||t.metaKey,i=t.shiftKey,o=this.rowNode.isSelected(),a=Pc(n),l=SD(n),u=QX(n);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!u&&!o||!l&&o)return;const f=XX(n),p="rowClicked";if(o)f?this.rowNode.setSelectedParams({newValue:!1,event:t,source:p}):s?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:p}):u&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i,rangeSelect:i,event:t,source:p});else{const g=f?!1:!s;this.rowNode.setSelectedParams({newValue:!0,clearSelection:g,rangeSelect:i,event:t,source:p})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!Cv(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const r=()=>{const s=t.clientHeight;if(s!=null&&s>0){const i=()=>{this.rowNode.setRowHeight(s),(Sr(this.gos)||So(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(i,0)}},n=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(n),r()}createFullWidthCompDetails(t,r){const{gos:n,rowNode:s}=this,i=n.addGridCommonParams({fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:t,eParentOfValue:t,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,u,f)=>this.addFullWidthRowDragging(a,l,u,f),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(i);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(i);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(i);default:return o.getFullWidthCellRendererDetails(i)}}refreshRowTooltip(t,r){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new zd(n,this.beans))}addFullWidthRowDragging(t,r,n="",s){if(!this.isFullWidth())return;const i=new cx(()=>n,this.rowNode,void 0,t,r,s);this.createBean(i,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(i,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const r="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(r,!0),s.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",r)))}stopEditing(t=!1){var r;this.stoppingRowEdit||(r=this.beans.rowEditService)==null||r.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(r=>r.isEditing());this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,r=null,n=null){var s;return this.editingRow?!0:((s=this.beans.rowEditService)==null?void 0:s.startEditing(this,t,r,n))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(r=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(r,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,r){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const r=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){Te("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const r=this.gos.getCallback("getRowStyle");let n;if(r){const s={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=r(s)}return n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const r=!!this.rowNode.isSelected();this.forEachGui(t,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",r),Rv(n.element,r),n.element.contains(Dr(this.gos))&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!SD(this.gos))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:r,compBean:n}=t,{rowNode:s,beans:i,gos:o}=this;n.addManagedListeners(r,{mouseenter:()=>s.onMouseEnter(),mouseleave:()=>s.onMouseLeave()}),n.addManagedListeners(s,{mouseEnter:()=>{!i.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(r.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{r.classList.remove("ag-row-hover"),s.setHovered(!1)}})}roundRowTopToBounds(t){const r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(r.top,!0)-100,s=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(n,t),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,r){t?r(t):this.allRowGuis.forEach(r)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const r=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=GL(this.gos)?dl(this.gos,this.rowNode).height:void 0,o=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${r}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,r){super.addEventListener(t,r)}removeEventListener(t,r){super.removeEventListener(t,r)}destroyFirstPass(t=!1){if(this.active=!1,!t&&Ju(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventService.dispatchEvent(r),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=r=>(r.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,r=>{r.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var r;const t=((r=this.beans.paginationService)==null?void 0:r.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,r=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const n=this.beans.pageBoundsService.getPixelOffset();return t+n*(r?1:-1)}setRowTop(t){if(!this.printLayout&&Le(t)){const r=this.applyPaginationOffset(t),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}px`;this.setRowTopStyle(i)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const r=this.rowNode;let n;if(this.isSticky())n=r.stickyRowTop;else{const s=this.slideInAnimation[t]?this.roundRowTopToBounds(r.oldRowTop):r.rowTop,i=this.applyPaginationOffset(s);n=r.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(t){this.allRowGuis.forEach(r=>this.suppressRowTransform?r.rowComp.setTop(t):r.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let r=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(r=n)}),r!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(r=n)}),r}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var o;const r=this.rowNode.getRowIndexString();if(r===null)return;const n=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),s=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(r),a.rowComp.addOrRemoveCssClass("ag-row-even",s),a.rowComp.addOrRemoveCssClass("ag-row-odd",!s),jJ(a.element,i)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};o4.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Cc=o4,nre=class extends Re{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",XL("touchstart")?"touchstart":"mousedown"].forEach(r=>{const n=this.processMouseEvent.bind(this,r);this.addManagedElementListeners(this.element,{[r]:n})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||qo(t))return;const r=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,r,n):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!bl())return;const e=new nl(this.element),t=r=>{const n=this.getRowForEvent(r.touchEvent),s=this.mouseEventService.getRenderedCellForEvent(r.touchEvent);this.handleContextMenuMouseEvent(void 0,r.touchEvent,n,s)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const r=Gf(this.gos,t,Cc.DOM_DATA_KEY_ROW_CTRL);if(r)return r;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,r,n){const s=r?r.getRowNode():null,i=n?n.getColumn():null;let o=null;if(i){const u=e||t;n.dispatchCellContextMenuEvent(u??null),o=this.valueService.getValue(i,s)}const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:s,column:i,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:ex(this.gos,e,vc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:ex(this.gos,e,Cc.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,r){const n=e.getRowNode(),s=e.getColumn(),i=e.isEditing();!ux(this.gos,r,n,s,i)&&t==="keydown"&&(!i&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),__(r)&&e.processCharacter(r)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(r,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,r){const n=e.getRowNode(),s=this.focusService.getFocusedCell(),i=s&&s.column;if(!ux(this.gos,r,n,i,!1)){const a=r.key;if(t==="keydown")switch(a){case me.PAGE_HOME:case me.PAGE_END:case me.PAGE_UP:case me.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case me.UP:case me.DOWN:e.onKeyboardNavigate(r);break;case me.TAB:e.onTabKeyDown(r);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",r))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const r=gee(e);if(r===me.A)return this.onCtrlAndA(e);if(r===me.C)return this.onCtrlAndC(e);if(r===me.D)return this.onCtrlAndD(e);if(r===me.V)return this.onCtrlAndV(e);if(r===me.X)return this.onCtrlAndX(e);if(r===me.Y)return this.onCtrlAndY();if(r===me.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:r,rangeService:n}=this;if(n&&r.isRowsToRender()){const[s,i]=[t.isEmpty("top"),t.isEmpty("bottom")],o=s?null:"top";let a,l;i?(a=null,l=r.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const u=this.visibleColsService.getAllCols();if($s(u))return;n.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:u[0],columnEnd:Bt(u)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},sre=class extends Re{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Pr(this.element,t),Gi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},ire=class extends Re{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Pr(this.element,t),Gi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},gm=e=>e.getTopRowCtrls(),mm=e=>e.getStickyTopRowCtrls(),vm=e=>e.getStickyBottomRowCtrls(),Cm=e=>e.getBottomRowCtrls(),ym=e=>e.getCentreRowCtrls(),ore={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:ym},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:ym},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:ym},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:ym},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:gm},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:gm},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:gm},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:gm},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:mm},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:mm},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:mm},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:mm},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:vm},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:vm},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:vm},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:vm},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Cm},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Cm},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Cm},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Cm}};function Uu(e){return ore[e]}var are=["topCenter","topLeft","topRight"],lre=["bottomCenter","bottomLeft","bottomRight"],cre=["center","left","right"],ure=["center","left","right","fullWidth"],dre=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],hre=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],fre=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],a4=["stickyTopCenter","stickyTopLeft","stickyTopRight"],l4=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],pre=[...a4,"stickyTopFullWidth",...l4,"stickyBottomFullWidth"],gre=[...are,...lre,...cre,...a4,...l4],mre=class extends Re{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=Uu(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Ate(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,r){this.comp=e,this.eContainer=t,this.eViewport=r,this.createManagedBean(new nre(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const n=()=>this.onPinnedWidthChanged();this.forContainers(hre,()=>{this.pinnedWidthFeature=this.createManagedBean(new sre(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers(fre,()=>{this.pinnedWidthFeature=this.createManagedBean(new ire(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(ure,()=>this.createManagedBean(new s4(this.eContainer,this.name==="center"?r:void 0))),this.forContainers(gre,()=>this.createManagedBean(new Dte(this.eContainer))),this.forContainers(dre,()=>this.createManagedBean(new Ob(s=>this.comp.setContainerWidth(`${s}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(pre.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const r=this.gos.get("ensureDomOrder"),n=bn(this.gos,"print");this.comp.setDomOrder(r||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,r,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Fp(this.eViewport)}getCenterViewportScrollLeft(){return Fv(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return f_(this.eViewport)}getViewportScrollLeft(){return Fv(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||$J(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Tv(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const r=bn(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||r,i=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!s&&a:s||!a});this.comp.setRowCtrls({rowCtrls:i,useFlushSync:e})}},vre="ag-force-vertical-scroll",Cre="ag-selectable",yre="ag-column-moving",Sre=class extends Re{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,r,n,s,i,o){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=n,this.eBottom=s,this.eStickyTop=i,this.eStickyBottom=o,this.eCenterColsViewport=r.querySelector(`.${Uu("center").viewport}`),this.eFullWidthContainer=r.querySelector(`.${Uu("fullWidth").container}`),this.eStickyTopFullWidthContainer=i.querySelector(`.${Uu("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Uu("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new Lb(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Pte(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,s,i,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:r=>{const{target:n}=r,s=Zu(n,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:r=>{const{target:n,relatedTarget:s}=r,i=t.contains(s),o=Zu(s,"ag-root",t);Zu(n,"ag-root",t)||(!i||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(yre,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(Cre,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,r=C_()?16:0,n=`calc(100% + ${t+r}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=r=>{const n=r.relatedTarget;if(ax(n)===null){this.rowRenderer.stopEditing();return}let s=t.some(i=>i.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!s){const i=this.popupService;s=i.getActivePopups().some(o=>o.contains(n))||i.isElementWithinCustomPopup(n)}s||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(r=>this.addManagedElementListeners(r,{focusout:e}))}updateRowCount(){var n;const e=this.headerNavigationService.getHeaderRowCount()+(((n=this.filterManager)==null?void 0:n.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=t===-1?-1:e+t;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?vre:null,r=bn(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&KJ(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const r=e&&Ju(this.gos)&&!this.rowContainerHeightService.isStretching(),n=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(n,r)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e,s=n||Math.abs(t)>Math.abs(r),i=e.target;s?(this.eStickyTopFullWidthContainer.contains(i)||this.eStickyBottomFullWidthContainer.contains(i))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(r))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:r}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||r})}onBodyViewportContextMenu(e,t,r){if(!e&&!r)return;this.gos.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!bl())return;const t=new nl(this.eBodyViewport),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new qZ(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),r=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(r),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var s;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((s=this.filterManager)==null?void 0:s.getHeaderHeight())??0),r=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t),r>0&&(n+=r),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),r=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,n=e+r;this.comp.setStickyBottomBottom(`${n}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,i=Fp(this.eGridBody)-n;if(i>0){this.columnSizeService.sizeColumnsToFit(i,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):Te("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function Kh(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}`${Kh(["topLeft","topCenter","topRight","topFullWidth"])}${Kh(["left","center","right","fullWidth"])}${Kh(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${Kh(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${Kh(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var wre=class extends Re{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),r=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==r)&&(this.horizontalScrollGap=t,this.verticalScrollGap=r,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),r=typeof e=="number"&&e>=0?e:eZ();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},kD="__ag_grid_instance",c4=class u4 extends Re{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=u4.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[kD]=this.gridInstanceId}getRenderedCellForEvent(t){return ex(this.gos,t.target,vc.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let r=t;for(;r;){const n=r[kD];if(Le(n))return n===this.gridInstanceId;r=r.parentElement}return!1}getCellPositionForEvent(t){const r=this.getRenderedCellForEvent(t);return r?r.getCellPosition():null}getNormalisedPosition(t){const r=bn(this.gos,"normal"),n=t;let s,i;if(n.clientX!=null||n.clientY!=null?(s=n.clientX,i=n.clientY):(s=n.x,i=n.y),r){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();s+=l.left,i+=a.top}return{x:s,y:i}}};c4.gridInstanceSequence=new Fd;var xre=c4,bre=class extends Re{constructor(){super(),this.beanName="navigationService",this.onPageDown=CD(this.onPageDown,100),this.onPageUp=CD(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const r=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,i=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(r){case me.PAGE_HOME:case me.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(r),a=!0);break;case me.LEFT:case me.RIGHT:case me.UP:case me.DOWN:if(!o)return!1;s&&!n&&!i&&(this.onCtrlUpDownLeftRight(r,o),a=!0);break;case me.PAGE_DOWN:case me.PAGE_UP:!s&&!n&&(a=this.handlePageUpDown(r,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,r){return r&&(t=this.focusService.getFocusedCell()),t?(e===me.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var o;const{scrollIndex:t,scrollType:r,scrollColumn:n,focusIndex:s,focusColumn:i}=e;Le(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),Le(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:i,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:s,rowPinned:null,column:i})}onPageDown(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),s=this.pageBoundsService.getPixelOffset(),i=r.top+n,o=this.rowModel.getRowIndexAtPixel(i+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),s=r.top,i=this.rowModel.getRowIndexAtPixel(s+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,i,!0):this.navigateToNextPage(e,i,!0)}navigateToNextPage(e,t,r=!1){const n=this.getViewportHeight(),s=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=r?(a==null?void 0:a.rowHeight)-n-o:n-o,u=(a==null?void 0:a.rowTop)+l;let f=this.rowModel.getRowIndexAtPixel(u+o);if(f===e.rowIndex){const g=r?-1:1;t=f=e.rowIndex+g}let p;r?(p="bottom",f<s&&(f=s),t<s&&(t=s)):(p="top",f>i&&(f=i),t>i&&(t=i)),this.isRowTallerThanView(f)&&(t=f,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:f,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,r=!1){this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const r=t?-1:1,n=this.getViewportHeight(),s=this.pageBoundsService.getLastRow();let i=0,o=e.rowIndex;for(;o>=0&&o<=s;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(i+l>n)break;i+=l}o+=r}return Math.max(0,Math.min(o,s))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let r=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(r-=t),r}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const r=t.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const r=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=r,s=r.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onHomeOrEndKey(e){const t=e===me.PAGE_HOME,r=this.visibleColsService.getAllCols(),n=t?r[0]:Bt(r),s=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onTabKeyDown(e,t){const r=t.shiftKey,n=this.tabToNextCellCommon(e,r,t);if(n!==!1){n?t.preventDefault():n===null&&this.focusService.allowFocusForNextGridCoreContainer(r);return}if(r){const{rowIndex:s,rowPinned:i}=e.getRowPosition();(i?s===0:s===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof vc&&e.focusCell(!0),(!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r))&&t.preventDefault()}tabToNextCell(e,t){const r=this.focusService.getFocusedCell();if(!r)return!1;let n=this.getCellByPosition(r);return!n&&(n=this.rowRenderer.getRowByPosition(r),!n||!n.isFullWidth())?!1:!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,r){let n=e.isEditing();if(!n&&e instanceof vc){const o=e.getRowCtrl();o&&(n=o.isEditing())}let s;return n?this.gos.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,t,r):s=this.moveToNextEditingCell(e,t,r):s=this.moveToNextCellNotEditing(e,t),s===null?s:s||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,r=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const s=this.findNextCellToFocusOn(n,t,!0);return s===!1?null:s==null?!1:(s.startEditing(null,!0,r),s.focusCell(!1),!0)}moveToNextEditingRow(e,t,r=null){const n=e.getCellPosition(),s=this.findNextCellToFocusOn(n,t,!0);if(s===!1)return null;if(s==null)return!1;const i=s.getCellPosition(),o=this.isCellEditable(n),a=this.isCellEditable(i),l=i&&n.rowIndex===i.rowIndex&&n.rowPinned===i.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,r)),a?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const r=this.visibleColsService.getAllCols();let n;e instanceof Cc?n={...e.getRowPosition(),column:t?r[0]:Bt(r)}:n=e.getCellPosition();const s=this.findNextCellToFocusOn(n,t,!1);if(s===!1)return null;if(s instanceof vc)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),t);return Le(s)}findNextCellToFocusOn(e,t,r){var s;let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const i=this.gos.getCallback("tabToNextCell");if(Le(i)){const u=i({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:n||null});if(u===!0||u===null)u===null&&Te("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(u===!1)return!1;n={rowIndex:u.rowIndex,column:u.column,rowPinned:u.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+n.rowIndex,column:n.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(r&&!o&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const a=this.getCellByPosition(n);if(!a){const l=this.rowRenderer.getRowByPosition(n);if(!l||!l.isFullWidth()||r)continue;return l}if(!a.isSuppressNavigable())return(s=this.rangeService)==null||s.setRangeToCell(n),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,r,n){let s=r,i=!1;for(;s&&(s===r||!this.isValidNavigateCell(s));)this.gos.get("enableRtl")?t===me.LEFT&&(s=this.getLastCellOfColSpan(s)):t===me.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(t,s),i=Gt(s);if(i&&e&&e.key===me.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),n){const a=this.gos.getCallback("navigateToNextCell");if(Le(a)){const u=a({key:t,previousCellPosition:r,nextCellPosition:s||null,event:e});Le(u)?s={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}:s=null}}if(!s)return;if(s.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+s.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(s);o?this.focusPosition(o):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const r=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const s=this.focusService.getFocusedCell(),i={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Bt(r):r[0])};this.focusPosition(i);const o=t??(s!=null&&this.rowPositionUtils.before(i,s));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const r=t.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:Bt(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=E0(this.gos),r=this.rowModel.getRow(e.rowIndex);!(t&&(r==null?void 0:r.sticky))&&Gt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},Rre=class extends Re{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const r=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},Ere=class extends Re{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,r){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:t,ePopup:n})},r,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,r){let n=-1,s="left";const i=this.menuService.isLegacyMenuEnabled();!i&&this.gos.get("enableRtl")&&(n=1,s="right");const o=i?void 0:4*n,a=i?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:r,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},r,t,i)}showPopup(e,t,r,n,s){const i=e?this.createBean(new eee(e,"COLUMN_MENU")):void 0;if(this.activeMenu=i,!(i!=null&&i.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");zi(o,"presentation"),o.classList.add("ag-menu"),s||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:S=>this.trapFocusWithin(S,o)}),o.appendChild(i==null?void 0:i.getGui());let a;const l=()=>i==null?void 0:i.afterGuiDetached(),u=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,f=S=>{e.setMenuVisible(!1,"contextMenu");const y=S instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),y&&n&&go(n)){const w=this.focusService.findTabbableParent(n);w&&w.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,r,e)},p=this.localeService.getLocaleTextFunc(),g=s&&r!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),C=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:f,positionCallback:()=>t(o),anchorToElement:u,ariaLabel:g});C&&(this.hidePopup=a=C.hideFunc),i.afterInit().then(()=>{t(o),i.afterGuiAttached({container:r,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,t){e.key!==me.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,r){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:r??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},Fre=class extends Re{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const n=HL(this.gos).ResizeObserver,s=n?new n(t):null;return s==null||s.observe(e),()=>s==null?void 0:s.disconnect()}},Tre=class extends Re{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var r;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const n=((r=this.paginationService)==null?void 0:r.getCurrentPage())??0;n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&Te(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,r){this.verifyAnimationFrameOn(r);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.index!==n.index?t*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,r=t.list,n=this.createTasksP2,s=n.list,i=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,u=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!u.getScrollFeature().scrollGridIfNeeded()){let p;if(r.length)this.sortTaskList(t),p=r.pop().task;else if(s.length)this.sortTaskList(n),p=s.pop().task;else if(i.length)p=i.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}a=new Date().getTime()-o}r.length||s.length||i.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=HL(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},Pre=class extends Re{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=Sr(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(r=>{r.id&&t.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:r})=>{t&&r&&e.push(r)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,r,n){e&&(r&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,r,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},Are=class extends Re{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,r){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,r)}getContextMenuPosition(e,t){const r=this.getRowCtrl(e),n=this.getCellGui(r,t);if(!n)return r?{x:0,y:r.getRowYPosition()}:{x:0,y:0};const s=n.getBoundingClientRect();return{x:s.x+s.width/2,y:s.y+s.height/2}}showContextMenu(e){var i;const t=e.rowNode,r=e.column;let{anchorToElement:n,value:s}=e;t&&r&&s==null&&(s=this.valueService.getValueForDisplay(r,t)),n==null&&(n=this.getContextMenuAnchorElement(t,r)),(i=this.contextMenuFactory)==null||i.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,r??null,s,n)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:r}=e.getColDef();return!(r??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&hl(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(bl()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var n;const t=e.getColDef(),r=(n=t.floatingFilterComponentParams)==null?void 0:n.suppressFilterButton;return r!=null&&Te("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!r:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,r,n){const{positionBy:s}=t,i=t.column;if(s==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(i,o,r,n)}else if(s==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(i,o,r,n)}else i&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(i);o&&e.showMenuAfterButtonClick(i,o.getAnchorElementForMenu(n),r,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:r}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r})||void 0}getCellGui(e,t){if(!e||!t)return;const r=e.getCellCtrl(t);return(r==null?void 0:r.getGui())||void 0}getContextMenuAnchorElement(e,t){const r=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return r;const s=this.getCellGui(n,t);return s||(n.isFullWidth()?n.getFullWidthElement():r)}},Dre=class extends nc{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const r=super.setValue(e,t);return this.eInput.value=e,r}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},Mre={selector:"AG-INPUT-TEXT-AREA",component:Dre},Nre=class extends $d{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[Mre]),this.eTextArea=pt}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Le(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===me.LEFT||t===me.UP||t===me.RIGHT||t===me.DOWN||e.shiftKey&&t===me.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!Le(e)&&!Le(this.params.value)?this.params.value:this.params.parseValue(e)}},Ire=class extends $d{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Tc(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,r=n=>{ux(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:r})}},Ore=class extends $d{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[aee]),this.eSelect=pt,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:r,gos:n}=this,{values:s,value:i,eventKey:o}=e;if(Gt(s)){Te("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===me.ENTER:!1;let a=!1;s.forEach(p=>{const g={value:p},C=r.formatValue(e.column,null,p),S=C!=null;g.text=S?C:p,t.addOption(g),a=a||i===p}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:f}=e;l!=null&&t.setPickerGap(l),f!=null&&t.setPickerMaxHeight(f),u!=null&&t.setPickerMaxWidth(u),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},M0=class extends $d{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=pt}init(e){this.params=e;const{cellStartedEdit:t,eventKey:r,suppressPreventDefault:n}=e,s=this.eInput;this.cellEditorInput.init(s,e);let i,o=!0;t?(this.focusAfterAttached=!0,r===me.BACKSPACE||r===me.DELETE?i="":r&&r.length===1?n?o=!1:i=r:(i=this.cellEditorInput.getStartValue(),r!==me.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue()),o&&i!=null&&s.setStartValue(i),this.addManagedElementListeners(s.getGui(),{keydown:a=>{const{key:l}=a;(l===me.PAGE_UP||l===me.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var n,s;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;la()||t.getFocusableElement().focus();const r=t.getInputElement();this.highlightAllOnFocus?r.select():(s=(n=this.cellEditorInput).setCaret)==null||s.call(n)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},kre=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[A0]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!Le(e)&&!Le(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=Le(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},d4=class extends M0{constructor(){super(new kre)}},Lre=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[vee]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===me.UP||e.key===me.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!Le(e)&&!Le(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){la()&&this.eInput.getInputElement().focus({preventScroll:!0})}},_re=class extends M0{constructor(){super(new Lre)}},jre=class extends zc{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=la();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Dr(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?gi(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,pi(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?gi(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,pi(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,pi(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return bs(this.getValue())??void 0}setDate(e,t){this.setValue(gi(e??null,!1),t)}},h4={selector:"AG-INPUT-DATE-FIELD",component:jre},Bre=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[h4]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!Le(e)&&!Le(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return gi(e,!1)}},Gre=class extends M0{constructor(){super(new Bre)}},Hre=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[h4]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!Le(e)&&!Le(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return gi(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):bs(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):gi(e??null,!1)??void 0}},Vre=class extends M0{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new Hre(()=>this.dataTypeService))}},Wre=class extends $d{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Rb]),this.eCheckbox=pt}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),r=mb(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${r})`)}},sf=class{constructor(e){this.cellValueChanges=e}},OS=class extends sf{constructor(e,t,r,n){super(e),this.initialRange=t,this.finalRange=r,this.ranges=n}},Ure=10,LD=class{constructor(e){this.actionStack=[],this.maxStackSize=e||Ure,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},zre=class extends Re{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:i,rowIndex:o,column:a,oldValue:l,value:u}=e,f={rowPinned:i,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(f)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new LD(e),this.redoStack=new LD(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,r,n,s){if(!e)return!1;const i=e.pop();return!i||!i.cellValueChanges?!1:(this.processAction(i,o=>o[n],s),i instanceof OS?this.processRange(this.rangeService,i.ranges||[i[r]]):this.processCell(i.cellValueChanges),t.push(i),!0)}processAction(e,t,r){e.cellValueChanges.forEach(n=>{const{rowIndex:s,rowPinned:i,columnId:o}=n,a={rowIndex:s,rowPinned:i},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,t(n),r)})}processRange(e,t){let r;e.removeAllCellRanges(!0),t.forEach((n,s)=>{if(!n)return;const i=n.startRow,o=n.endRow;s===t.length-1&&(r={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(r));const a={rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:r,rowPinned:n}=t,s={rowIndex:r,rowPinned:n},i=this.rowPositionUtils.getRowNode(s),o={rowPinned:t.rowPinned,rowIndex:i.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:r,columnId:n,rowPinned:s}=e,i=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(n);if(!o)return;i.ensureIndexVisible(r),i.ensureColumnVisible(o);const a={rowIndex:r,column:o,rowPinned:s};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t==null||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new sf(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new sf(this.cellValueChanges);this.pushActionsToUndoStack(r)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new sf(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new OS(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&oa(this.gos)?e=new OS(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new sf(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function $re(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function Kre(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function f4(e,t,r="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,r),"ensureVisible")}function p4(e,t,r){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,r),"ensureVisible")}function qre(e,t,r=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,r),"ensureVisible")}function Yre(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function Qre(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function Xre(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(gf)}function Jre(e){return e.rowRenderer.getEditingCells()}function Zre(e,t=!1){e.rowRenderer.stopEditing(t)}function ene(e,t){const r=e.columnModel.getCol(t.colKey);if(!r){Te(`no column found for ${t.colKey}`);return}const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:r};t.rowPinned==null&&p4(e,t.rowIndex),f4(e,t.colKey);const i=e.navigationService.getCellByPosition(n);if(!i)return;const{focusService:o,gos:a}=e,l=()=>{const f=Dr(a),p=i.getGui();return f!==p&&!!(p!=null&&p.contains(f))},u=a.get("stopEditingWhenCellsLoseFocus")&&l();(u||!o.isCellFocused(n))&&o.setFocusedCell({...n,forceBrowserFocus:u,preventScrollOnBrowserFocus:!0}),i.startRowOrCellEdit(t.key)}function tne(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function rne(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var nne=class extends Re{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,r=!1,n=null){var u;const s=this.createCellEditorParams(e,t,r),i=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(i,s),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!i.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:i.cellEditorPopupPosition;return e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!((u=o==null?void 0:o.params)!=null&&u.suppressPreventDefault)}stopEditing(e,t){const r=e.getComp(),{newValue:n,newValueExists:s}=this.takeValueFromCellEditor(t,r),i=e.getRowNode(),o=e.getColumn(),a=this.valueService.getValueForDisplay(o,i);let l=!1;return s&&(l=this.saveNewValue(e,a,n,i,o)),e.setEditing(!1,void 0),r.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:n,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:r,cellStartedEdit:n}=e.getEditCompDetails().params,s=this.createCellEditorParams(e,r,n),i=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(i,s);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),r=t.getCellEditor();r!=null&&r.focusIn?r.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var n,s;return(s=(n=t.getCellEditor())==null?void 0:n.focusIn)==null?void 0:s.call(n)}))}stopEditingAndFocus(e,t=!1,r=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(r,e.getCellPosition())}createPopupEditorWrapper(e){return new Ire(e)}takeValueFromCellEditor(e,t){const r={newValueExists:!1};if(e)return r;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?r:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,r,n,s){if(r===t)return!1;e.setSuppressRefreshCell(!0);const i=n.setDataValue(s,r,"edit");return e.setSuppressRefreshCell(!1),i}createCellEditorParams(e,t,r){const n=e.getColumn(),s=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(n,s),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:s,data:s.data,cellStartedEdit:r,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:i=>this.valueService.parseValue(n,s,i,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?me.UP:me.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}},sne=class extends Re{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,r=null,n=null){let s=!0;return e.getAllCellCtrls().reduce((o,a)=>{const l=a===r;return l?s=a.startEditing(t,l,n):a.startEditing(null,l,n),o?!0:a.isEditing()},!1)&&this.setEditing(e,!0),s}stopEditing(e,t=!1){const r=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let s=!1;for(const i of r){const o=i.stopEditing(t);n&&!t&&!s&&o&&(s=!0)}s&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const r=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(r)}},$c={version:Tt,moduleName:"@ag-grid-community/edit-core",beans:[nne]},ine={version:Tt,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:Yre,redoCellEditing:Qre,getCellEditorInstances:Xre,getEditingCells:Jre,stopEditing:Zre,startEditingCell:ene,getCurrentUndoSize:tne,getCurrentRedoSize:rne},dependantModules:[$c]},one={version:Tt,moduleName:"@ag-grid-community/undo-redo-edit",beans:[zre],dependantModules:[$c]},ane={version:Tt,moduleName:"@ag-grid-community/full-row-edit",beans:[sne],dependantModules:[$c]},g4={version:Tt,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:d4}],dependantModules:[$c]},lne={version:Tt,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:d4},{name:"agNumberCellEditor",classImp:_re,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:Gre},{name:"agDateStringCellEditor",classImp:Vre},{name:"agCheckboxCellEditor",classImp:Wre}],dependantModules:[g4]},cne={version:Tt,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:Ore}],dependantModules:[$c]},une={version:Tt,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:Nre}],dependantModules:[$c]},dne={version:Tt,moduleName:"@ag-grid-community/all-editors",dependantModules:[g4,lne,cne,une]},hne={version:Tt,moduleName:"@ag-grid-community/editing",dependantModules:[$c,one,ane,dne,ine]},fne=class extends Re{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(r),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const r=this.centerRowContainerCtrl.getContainerElement();e.forEach(i=>this.cloneItemIntoDummy(i,t)),r.appendChild(t);const n=t.offsetWidth;r.removeChild(t);const s=this.getAutoSizePadding();return n+s}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(r=>{const n=r.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>r.classList.contains(a))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&s.add(u)}break}o=o.parentElement}n.appendChild(r),t.appendChild(n)}},pne=class extends Re{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=Sr(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,r;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let s=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(s=(r=e.sibling.childStore)==null?void 0:r.getStoreBounds()),((s==null?void 0:s.heightPx)??0)+((s==null?void 0:s.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.footer?e.sibling:e;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(n.childrenAfterSort.length===0)break;n=Bt(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let r=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,r);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,s=new Set,i=u=>{if(s.add(u),t){const f=this.getLastPixelOfGroup(u),p=n+r+u.rowHeight;f<p?u.stickyRowTop=r+(f-p):u.stickyRowTop=r}else{const f=this.getFirstPixelOfGroup(u),p=n-(r+u.rowHeight);f>p?u.stickyRowTop=r-(f-p):u.stickyRowTop=r}r=0,s.forEach(f=>{const p=f.stickyRowTop+f.rowHeight;r<p&&(r=p)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=u=>{if(!u.displayed)return!1;if(u.footer){if(o===!0||o==="grand"&&u.level===-1||o==="group"&&u.level>-1)return!1;const f=u.sibling.rowIndex?u.sibling.rowIndex+1===u.rowIndex:!1;return e==="bottom"&&f?!1:!s.has(u)}return u.isExpandable()?a===!0||e==="bottom"?!1:!s.has(u)&&u.expanded:!1};for(let u=0;u<100;u++){let f=n+r;t||(f=n-r);const p=this.rowModel.getRowIndexAtPixel(f),g=this.rowModel.getRow(p);if(g==null)break;const S=this.getStickyAncestors(g).find(w=>(t?w.rowIndex<p:w.rowIndex>p)&&l(w));if(S){i(S);continue}if((t?g.rowTop<f:g.rowTop+g.rowHeight>f)&&l(g)){i(g);continue}break}return t||s.forEach(u=>{u.stickyRowTop=r-(u.stickyRowTop+u.rowHeight)}),this.refreshNodesAndContainerHeight(e,s,r)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",r=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&r?!0:r?"grand":t?"group":!1}canRowsBeSticky(){const e=E0(this.gos),t=this.areFooterRowsStickySuppressed(),r=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!r)}getStickyAncestors(e){const t=[];let r=e.footer?e.sibling:e.parent;for(;r;)r.sibling&&t.push(r.sibling),t.push(r),r=r.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(r=>r.getRowNode()===e)){for(let r=0;r<this.stickyTopRowCtrls.length;r++){const n=this.stickyTopRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let r=0;r<this.stickyBottomRowCtrls.length;r++){const n=this.stickyBottomRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,r){const n=e==="top",s=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,i={},o=[];for(let g=0;g<s.length;g++){const C=s[g].getRowNode();if(!t.has(C)){i[C.id]=s[g],C.sticky=!1;continue}o.push(s[g])}const a=new Set;for(let g=0;g<o.length;g++)a.add(o[g].getRowNode());const l=[];t.forEach(g=>{a.has(g)||(g.sticky=!0,l.push(this.createRowCon(g,!1,!1)))});let u=!!l.length||o.length!==s.length;n?this.topContainerHeight!==r&&(this.topContainerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),u=!0):this.bottomContainerHeight!==r&&(this.bottomContainerHeight=r,this.gridBodyCtrl.setStickyBottomHeight(r),u=!0),this.destroyRowCtrls(i,!1);const f=[...o,...l];f.sort((g,C)=>C.getRowNode().rowIndex-g.getRowNode().rowIndex),n||f.reverse(),f.forEach(g=>g.setRowTop(g.getRowNode().stickyRowTop));let p=0;return n?(t.forEach(g=>{g.rowIndex<this.pageBoundsService.getFirstRow()&&(p+=g.rowHeight)}),p>this.topContainerHeight&&(p=this.topContainerHeight),this.setOffsetTop(p)):(t.forEach(g=>{g.rowIndex>this.pageBoundsService.getLastRow()&&(p+=g.rowHeight)}),p>this.bottomContainerHeight&&(p=this.bottomContainerHeight),this.setOffsetBottom(p)),u?(n?this.stickyTopRowCtrls=f:this.stickyBottomRowCtrls=f,!0):!1}ensureRowHeightsValid(){let e=!1;const t=r=>{const n=r.getRowNode();if(n.rowHeightEstimated){const s=dl(this.gos,n);n.setRowHeight(s.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},gne=class extends Re{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(i=>i.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(i=>i.updateRangeBordersIfRangeCount())},r=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{oa(this.gos)?r():n()}),oa(this.gos)&&r()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),E0(this.gos)&&(Sr(this.gos)||So(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new pne(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=bn(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new mne(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=nx(this.rowCtrlsByRowIndex),t=nx(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||r.length>0?this.allRowCtrls=[...e,...t,...r]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const r=l=>{this.getAllCellCtrls().forEach(u=>{u.getColumn()===t&&l(u)})},n=()=>{r(l=>l.onLeftChanged())},s=()=>{r(l=>l.onWidthChanged())},i=()=>{r(l=>l.onFirstRightPinnedChanged())},o=()=>{r(l=>l.onLastLeftPinnedChanged())},a=()=>{r(l=>l.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",s),t.addEventListener("firstRightPinnedChanged",i),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",s),t.removeEventListener("firstRightPinnedChanged",i),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=bn(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(r=>{const n=r.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:r,beans:n,printLayout:s}=this,i=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));r.forEachPinnedRow(t,(a,l)=>{const u=e[l];u&&r.getPinnedRowById(u.getRowNode().id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),a.id in i?(e[l]=i[a.id],delete i[a.id]):e[l]=new Cc(a,n,!1,!1,s)});const o=t==="top"?r.getPinnedTopRowCount():r.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var r;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=s=>{const i=s[e.rowIndex];i&&i.getRowNode()===e&&(i.destroyFirstPass(),i.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const r=Dr(this.gos),n=Gf(this.gos,r,vc.DOM_DATA_KEY_CELL_CTRL),s=Gf(this.gos,r,Cc.DOM_DATA_KEY_ROW_CTRL);return n||s?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&Ju(this.gos),s=r?this.getRowsToRecycle():null;if(r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const i=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();i&&this.updateContainerHeights(i)}this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");t&&!r&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(t=(e=this.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),r=t.length;for(let n=0;n<r;n++){const s=t[n].getAllCellCtrls(),i=s.length;for(let o=0;o<i;o++)e.push(s[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],r=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)r.push(this.rowCtrlsByRowIndex[n]);return r}addRenderedRowListener(e,t,r){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,r)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const r of this.getCellCtrls(e.rowNodes,e.columns))r.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&FD()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const r of this.getRowCtrls(e)){if(!r.isFullWidth())continue;r.refreshFullWidth()||this.redrawRow(r.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var s;const t=this.getCellCtrls(e.rowNodes,e.columns).map(i=>i.getCellRenderer()).filter(i=>i!=null);if((s=e.columns)!=null&&s.length)return t;const r=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(i=>{if(n&&!this.isRowInMap(i.getRowNode(),n)||!i.isFullWidth())return;const o=i.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(l)}}),[...r,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>{const n=r.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const r=t.getCellPosition();e.push(r)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(r=>{const n=r.id;switch(r.rowPinned){case"top":t.top[n]=r;break;case"bottom":t.bottom[n]=r;break;default:t.normal[n]=r;break}}),t}isRowInMap(e,t){const r=e.id;switch(e.rowPinned){case"top":return t.top[r]!=null;case"bottom":return t.bottom[r]!=null;default:return t.normal[r]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),r=this.getAllRowCtrls();return!e||!t?r:r.filter(n=>{const s=n.getRowNode();return this.isRowInMap(s,t)})}getCellCtrls(e,t){let r;Le(t)&&(r={},t.forEach(s=>{const i=this.columnModel.getCol(s);Le(i)&&(r[i.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(i=>{const o=i.getColumn().getId();r&&!r[o]||n.push(i)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];Li(this.rowCtrlsByRowIndex,(r,n)=>{n.getRowNode().id==null&&e.push(r)}),this.removeRowCtrls(e);const t={};return Li(this.rowCtrlsByRowIndex,(r,n)=>{const s=n.getRowNode();t[s.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(r=>{const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let r;this.stickyRowFeature&&FD()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let i=!1;if(this.stickyRowFeature){i=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==n||this.lastRenderedRow!==s;if(!(t&&!i&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!i),r!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();r!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const r={};e.forEach(i=>r[i]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(i=>!r[i]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){const t=See(this.firstRenderedRow,this.lastRenderedRow),r=(s,i)=>{const o=i.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(o)};Li(this.rowCtrlsByRowIndex,r),Li(e,r),t.sort((s,i)=>s-i);const n=[];for(let s=0;s<t.length;s++){const i=t[s],o=this.rowModel.getRow(i);o&&!o.sticky&&n.push(i)}return n}recycleRows(e,t=!1,r=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(s=>{this.createOrUpdateRowCtrl(s,e,t,r)}),e&&(r&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const r=t.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.getRowNode();return!(t!=null&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,r,n){let s,i=this.rowCtrlsByRowIndex[e];if(i||(s=this.rowModel.getRow(e),Le(s)&&Le(t)&&t[s.id]&&s.alreadyRendered&&(i=t[s.id],t[s.id]=null)),!i)if(s||(s=this.rowModel.getRow(e)),Le(s))i=this.createRowCon(s,r,n);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=i,i}destroyRowCtrls(e,t){const r=[];Li(e,(n,s)=>{if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);return}if(s.destroyFirstPass(!t),t){const i=s.instanceId;this.zombieRowCtrls[i]=s,r.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[i]})}else s.destroySecondPass()}}),t&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),jX(r))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=gc(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),u=this.gos.get("suppressRowVirtualisation");let f=!1,p,g;do{const b=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:F,pageLastPixel:E}=this.pageBoundsService.getCurrentPagePixelRange(),R=this.rowContainerHeightService.getDivStretchOffset(),A=l.getScrollFeature().getVScrollPosition(),D=A.top,M=A.bottom;u?(p=F+R,g=E+R):(p=Math.max(D+b-a,F)+R,g=Math.min(M+b+a,E)+R),this.firstVisibleVPixel=Math.max(D+b,F)+R,this.lastVisibleVPixel=Math.min(M+b,E)+R,f=this.ensureAllRowsInRangeHaveHeightsCalculated(p,g)}while(f);let C=this.rowModel.getRowIndexAtPixel(p),S=this.rowModel.getRowIndexAtPixel(g);const y=this.pageBoundsService.getFirstRow(),w=this.pageBoundsService.getLastRow();C<y&&(C=y),S>w&&(S=w),e=C,t=S}const r=bn(this.gos,"normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);r&&!n&&t-e>s&&(t=e+s);const i=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;(i||o)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var i,o;const r=(i=this.pinnedRowModel)==null?void 0:i.ensureRowHeightsValid(),n=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),s=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(s||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),n||s||r?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),s=this.focusService.isRowNodeFocused(n),i=e.isEditing(),o=n.detail;return s||i||o?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,r){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const s=this.gos.get("suppressAnimationFrame"),i=r&&!s&&!this.printLayout;return new Cc(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:r}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},mne=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],os(this.entriesList,r)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],os(this.entriesList,e)}getEntries(){return this.entriesList}},vne=class extends Re{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new _D,this.pinnedBottomRows=new _D}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=r=>{r.setRowHeight(r.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var n,s;let e=!1,t=0;const r=i=>{if(i.rowHeightEstimated){const o=dl(this.gos,i);i.setRowTop(t),i.setRowHeight(o.height),t+=o.height,e=!0}};return(n=this.pinnedBottomRows)==null||n.forEach(r),t=0,(s=this.pinnedTopRows)==null||s.forEach(r),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const r=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){r.clear();return}const n=Wd(this.gos),s=t==="top"?Yo.ID_PREFIX_TOP_PINNED:Yo.ID_PREFIX_BOTTOM_PINNED,i=r.getIds(),o=[],a=new Set;let l=0,u=-1;for(const f of e){const p=(n==null?void 0:n({data:f,level:0,rowPinned:t}))??s+this.nextId++;if(a.has(p)){Te("Duplicate ID",p,"found for pinned row with data",f,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}u++,a.add(p),o.push(p);const g=r.getById(p);if(g!==void 0)g.data!==f&&g.setData(f),l+=this.setRowTopAndRowIndex(g,l,u),i.delete(p);else{const C=new Yo(this.beans);C.id=p,C.data=f,C.rowPinned=t,l+=this.setRowTopAndRowIndex(C,l,u),r.push(C)}}i.forEach(f=>{var p;(p=r.getById(f))==null||p.clearRowTopAndRowIndex()}),r.removeAllById(i),r.setOrder(o)}setRowTopAndRowIndex(e,t,r){return e.setRowTop(t),e.setRowHeight(dl(this.gos,e).height),e.setRowIndex(r),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const r=e.getByIndex(t-1);return r===void 0?0:r.rowTop+r.rowHeight}},_D=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,r)=>{const n=this.cache[t];n&&e(n,r)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},Cne=class extends Re{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})}isRequestMostRecentAndLive(e){const t=e===this.version,r=this.isAlive();return t&&r}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},yne=class extends Re{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=is(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){os(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&ji("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(r=>r.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){if(So(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:r,state:n}=t.getBlockStateJson();e[r]=n}),e}printCacheStatus(){this.gos.get("debug")&&ji(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},Sne={version:Tt,moduleName:"@ag-grid-community/row-node-block",beans:[yne]},wne=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const r=t[0].id===this.root.id,n=t.findIndex(s=>s.id===e.id);if(n>-1){const s=t.slice(0,n),i=t.slice(n+1);return this.setEndRange(e),r?{keep:s,discard:i}:{keep:i,discard:s}}else return{keep:t,discard:[]}}extend(e,t=!1){const r=this.getRoot();if(r==null){const s=this.getRange().slice();return t&&e.depthFirstSearch(i=>!i.group&&s.push(i)),s.push(e),this.setRoot(e),{keep:s,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(r,e).find(s=>{var i;return s.id===((i=this.end)==null?void 0:i.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const s=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:s}}}},xne=class extends Re{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,r,n){this.processClassRules(void 0,e.cellClassRules,t,r,n),this.processStaticCellClasses(e,t,r)}processClassRules(e,t,r,n,s){if(t==null&&e==null)return;const i={},o={},a=(l,u)=>{l.split(" ").forEach(f=>{f.trim()!=""&&u(f)})};if(t){const l=Object.keys(t);for(let u=0;u<l.length;u++){const f=l[u],p=t[f];let g;typeof p=="string"?g=this.expressionService.evaluate(p,r):typeof p=="function"&&(g=p(r)),a(f,C=>{g?i[C]=!0:o[C]=!0})}}e&&s&&Object.keys(e).forEach(l=>a(l,u=>{i[u]||(o[u]=!0)})),s&&Object.keys(o).forEach(s),Object.keys(i).forEach(n)}getStaticCellClasses(e,t){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(t):n=r,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,t,r){this.getStaticCellClasses(e,t).forEach(s=>{r(s)})}},zm=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(zm||{}),m4=class extends Re{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:r,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:i,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:f,onTabKeyDown:p,handleKeyDown:g,eFocusableElement:C}=e;this.comp=t,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=C,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!i,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=f,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=g}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new Uc(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var l;const t=jr(this.gos),r=this.focusService.findFocusableElements(t.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let s,i;e?(s=0,i=n):(s=n+1,i=r.length);const o=r.slice(s,i),a=this.gos.get("tabIndex");o.sort((u,f)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(f.getAttribute("tabindex")||"0");return g===a?1:p===a?-1:p===0?1:g===0?-1:p-g}),(l=o[e?o.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},bne=class extends Re{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:r,eFocusableElement:n}=this,s=[t,r],i={setTabIndex:y=>{s.forEach(w=>y!=null?w.setAttribute("tabindex",y):w.removeAttribute("tabindex"))}};this.addTabGuards(t,r);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:S}=e;this.tabGuardCtrl=this.createManagedBean(new m4({comp:i,focusTrapActive:o,eTopGuard:t,eBottomGuard:r,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:C,isFocusableContainer:S}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=jr(this.gos).createElement("div"),r=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",r),zi(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];qs(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,r){Sb(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,r)}},Rne=class extends hr{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new bne(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,r){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,r)}},Ene=0,Fne=200,Tne=class extends Re{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:r}=e,n=this.getPopupIndex(r);if(n!==-1){const C=this.popupList[n];C.alignedToElement=t}const s=t.getBoundingClientRect(),i=this.getParentRect(),o=this.keepXYWithinBounds(r,s.top-i.top,0),a=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${a}px`;const u=i.right-i.left-a;let f;this.gos.get("enableRtl")?(f=g(),f<0&&(f=p(),this.setAlignedStyles(r,"left")),f>u&&(f=0,this.setAlignedStyles(r,"right"))):(f=p(),f>u&&(f=g(),this.setAlignedStyles(r,"right")),f<0&&(f=0,this.setAlignedStyles(r,"left"))),r.style.left=`${f}px`,r.style.top=`${o}px`;function p(){return s.right-i.left-2}function g(){return s.left-i.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:r,nudgeY:n,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:s,eventSource:i,alignSide:o="left",position:a="over",column:l,rowNode:u,type:f}=e,p=i.getBoundingClientRect(),g=this.getParentRect(),C=this.getPopupIndex(t);if(C!==-1){const y=this.popupList[C];y.alignedToElement=i}const S=()=>{let y=p.left-g.left;o==="right"&&(y-=t.offsetWidth-p.width);let w;return a==="over"?(w=p.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,g,e.nudgeY||0)==="under"?w=p.top-g.top+p.height:w=p.top-t.offsetHeight-(n||0)*2-g.top),{x:y,y:w}};this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:s,updatePosition:S,postProcessCallback:()=>this.callPostProcessPopup(f,t,i,null,l,u)})}shouldRenderUnderOrAbove(e,t,r,n){const s=r.bottom-t.bottom,i=t.top-r.top,o=e.offsetHeight+n;return s>o?"under":i>o||i>s?"above":"under"}setAlignedStyles(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:s}=n;!s||(["right","left","over","above","under"].forEach(o=>{s.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,r,n,s,i){const o=this.gos.getCallback("postProcessPopup");o&&o({column:s,rowNode:i,ePopup:t,type:e,eventSource:r,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:r,nudgeX:n,nudgeY:s,skipObserver:i,updatePosition:o}=e,a={width:0,height:0},l=(u=!1)=>{let{x:f,y:p}=o();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(f+=n),s&&(p+=s),r&&(f=this.keepXYWithinBounds(t,f,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${f}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!i){const u=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>u(),Fne)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=jr(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),h_(t)}keepXYWithinBounds(e,t,r){const n=r===0,s=n?"clientHeight":"clientWidth",i=n?"top":"left",o=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=jr(this.gos),u=l.documentElement,f=this.getPopupParent(),p=e.getBoundingClientRect(),g=f.getBoundingClientRect(),C=l.documentElement.getBoundingClientRect(),S=f===l.body,y=Math.ceil(p[o]);let b=S?(n?d_:Ev)(u)+u[a]:f[s];S&&(b-=Math.abs(C[i]-g[i]));const F=b-y;return Math.min(Math.max(t,0),Math.abs(F))}addPopup(e){const t=jr(this.gos),{eChild:r,ariaLabel:n,alwaysOnTop:s,positionCallback:i,anchorToElement:o}=e;if(!t)return Te("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(r);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(r);const l=this.createPopupWrapper(r,n,!!s),u=this.addEventListenersToPopup({...e,wrapperEl:l});return i&&i(),this.addPopupToPopupList(r,l,u,o),{hideFunc:u}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();Le(e.style.top)||(e.style.top=`${r.top*-1}px`),Le(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,t,r){const n=this.getPopupParent(),s=document.createElement("div");return this.environment.applyThemeClasses(s),s.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||zi(e,"dialog"),Ed(e,t),s.appendChild(e),n.appendChild(s),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=jr(this.gos),r=this.getPopupParent(),{wrapperEl:n,eChild:s,closedCallback:i,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let u=!1;const f=S=>{if(!n.contains(Dr(this.gos)))return;S.key===me.ESCAPE&&!qo(S)&&C({keyboardEvent:S})},p=S=>C({mouseEvent:S}),g=S=>C({touchEvent:S}),C=(S={})=>{const{mouseEvent:y,touchEvent:w,keyboardEvent:b,forceHide:F}=S;!F&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:w},s)||u)||(u=!0,r.removeChild(n),t.removeEventListener("keydown",f),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",g),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener("dragStarted",p),i&&i(y||w||b),this.removePopupFromPopupList(s))};return o&&o({hidePopup:C}),window.setTimeout(()=>{a&&t.addEventListener("keydown",f),l&&(t.addEventListener("mousedown",p),this.eventService.addEventListener("dragStarted",p),t.addEventListener("touchstart",g),t.addEventListener("contextmenu",p))},0),C}addPopupToPopupList(e,t,r,n){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:Ene++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(i=>i&&i()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=s,n.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),r=t.getBoundingClientRect(),{element:n,ePopup:s}=e,i=n.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),a=(p,g)=>{const C=r[p]-i[p],S=o(s.style[p]);return{initialDiff:C,lastDiff:C,initial:S,last:S,direction:g}},l=a("top",0),u=a("left",1),f=this.getFrameworkOverrides();return new _r(p=>{f.wrapIncoming(()=>{f.setInterval(()=>{const g=t.getBoundingClientRect(),C=n.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const y=(w,b)=>{const F=o(s.style[b]);w.last!==F&&(w.initial=F,w.last=F);const E=g[b]-C[b];if(E!=w.lastDiff){const R=this.keepXYWithinBounds(s,w.initial+w.initialDiff-E,w.direction);s.style[b]=`${R}px`,w.last=R}w.lastDiff=E};y(l,"top"),y(u,"left")},200).then(g=>{p(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:r,touchEvent:n}=e,s=r||n;if(!s)return!1;const i=this.getPopupIndex(t);if(i===-1)return!1;for(let o=i;o<this.popupList.length;o++){const a=this.popupList[o];if(nJ(a.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const t=jr(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))}bringPopupToFront(e){const t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=r.length,s=this.getWrapper(e);if(!s||n<=1||!t.contains(e))return;const i=[],o=[];for(const g of r)g!==s&&(g.classList.contains("ag-always-on-top")?o.push(g):i.push(g));const a=[],l=o.length,p=s.classList.contains("ag-always-on-top")||!l?[...i,...o,s]:[...i,s,...o];for(let g=0;g<=n;g++){const C=p[g];if(r[g]===p[g]||C===s)continue;C.querySelectorAll("div").forEach(y=>{y.scrollTop!==0&&a.push([y,y.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",C):p[g-1].insertAdjacentElement("afterend",C)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},Pne=["touchstart","touchend","touchmove","touchcancel"],v4=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new _r(r=>{r(window.setInterval(e,t))})}addEventListener(e,t,r,n){const s=mc(Pne,t);e.addEventListener(t,r,{capture:!!n,passive:s})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},Ane=class extends Re{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const r=e===me.UP,n=e===me.DOWN,s=e===me.LEFT;let i,o;if(r||n)o=r?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),i=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=t.rowIndex,i=s!==l?a[0]:Bt(a)}return{rowIndex:o,rowPinned:null,column:i}}getNextCellToFocusWithoutCtrlPressed(e,t){let r=t,n=!1;for(;!n;){switch(e){case me.UP:r=this.getCellAbove(r);break;case me.DOWN:r=this.getCellBelow(r);break;case me.RIGHT:this.gos.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case me.LEFT:this.gos.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,Te("unknown key for navigation ",e);break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const t=e.column;let r;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex);break}return r?!t.isSuppressNavigable(r):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,r=e.rowPinned;let n=!1;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else r&&(n=!0);const s=this.rowModel.getRow(e.rowIndex),i=n?void 0:this.getNextStickyPosition(s);return i||{rowIndex:t+1,rowPinned:r}}getNextStickyPosition(e,t){if(!E0(this.gos)||!e||!e.sticky)return;const r=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let n=[];r?n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):n=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const s=t?-1:1,i=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=n[i+s];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,r=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=r:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=r:this.pageBoundsService.getLastRow()<=r}getRowAbove(e){const t=e.rowIndex,r=e.rowPinned,n=r?t===0:t===this.pageBoundsService.getFirstRow();let s=!1;if(n)return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;r&&(s=!0);const i=this.rowModel.getRow(e.rowIndex),o=s?void 0:this.getNextStickyPosition(i,!0);return o||{rowIndex:t-1,rowPinned:r}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var i;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,s=this.visibleColsService.getColAfter(e.column);if(!s){s=t[0];const o=this.getRowBelow(e);if(Gt(o)||!o.rowPinned&&!(((i=this.paginationService)==null?void 0:i.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}getNextTabbedCellBackwards(e){var i;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,s=this.visibleColsService.getColBefore(e.column);if(!s){s=Bt(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Gt(o)||!o.rowPinned&&!(((i=this.paginationService)==null?void 0:i.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}},Vn=(e,t)=>{for(const r in t)t[r]=e;return t},jD={...Vn("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Vn("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Vn("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Vn("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Vn("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Vn("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Vn("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Vn("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Vn("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Vn("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Vn("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Vn("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Vn("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Vn("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Vn("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},kS={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Dne=(e,t)=>e.eventService.dispatchEvent(t),C4=class{};Reflect.defineProperty(C4,"name",{value:"GridApi"});var Mne=class extends Re{constructor(){super(),this.beanName="apiFunctionService",this.api=new C4,this.fns={...kS,dispatchEvent:Dne},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in jD)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var s;const{fns:r,beans:n}=this;r!==kS&&(r[e]=((s=n==null?void 0:n.validationService)==null?void 0:s.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:r,fns:{[e]:n}}=this;return n?n(r,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:r,preDestroyLink:n}=this;if(!t)Te(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`);else{const s=jD[e];r.assertModuleRegistered(s,`api.${e}`)&&Te(`API function '${e}' not registered to module '${s}'`)}}destroy(){super.destroy(),this.fns=kS,this.beans=null}};function Nne(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var Ine=class extends Re{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,r){const n=[],s={};return e.forEach(i=>{const o=this.createDefFromColumn(i,t,r);let a=!0,l=o,u=i.getOriginalParent(),f=null;for(;u;){let p=null;if(u.isPadding()){u=u.getOriginalParent();continue}const g=s[u.getGroupId()];if(g){g.children.push(l),a=!1;break}if(p=this.createDefFromGroup(u),p&&(p.children=[l],s[p.groupId]=p,l=p,u=u.getOriginalParent()),u!=null&&f===u){a=!1;break}f=u}a&&n.push(l)}),n}createDefFromGroup(e){const t=rx(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,r){const n=rx(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},One=class extends Re{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:r})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:r,toIndex:n,finished:s}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:n,finished:s,source:r})}columnPinned(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,s=>s.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:e,column:r,source:t})}columnVisible(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,s=>s.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:r,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const r=t(e[0]);for(let n=1;n<e.length;n++)if(r!==t(e[n]))return;return r}columnChanged(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:r})}columnResized(e,t,r,n=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:t,source:r})}},kne=class extends Re{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(Gt(e)||!this.columnModel.isAlive())return[];const r=this.columnModel.getAllCols().map(n=>this.createStateItemFromColumn(n));return this.orderColumnStateList(r),r}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,s=e.isPivotActive()?r.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:s,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),r=new Map(t.map((n,s)=>[n.getColId(),s]));e.sort((n,s)=>{const i=r.has(n.colId)?r.get(n.colId):-1,o=r.has(s.colId)?r.get(s.colId):-1;return i-o})}},Lne=class extends Re{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return aa(null,t,r=>{Qn(r)&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const r=[];aa(null,t,n=>{if(Qn(n)){const s=n.getColGroupDef(),i={groupId:n.getGroupId(),open:s?s.openByDefault:void 0};r.push(i)}}),this.setColumnGroupState(r,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const n=[];e.forEach(s=>{const i=s.groupId,o=s.open,a=this.columnModel.getProvidedColGroup(i);a&&a.isExpanded()!==o&&(a.setExpanded(o),n.push(a))}),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},_ne=class extends Re{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,r=!1){const n=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const i=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=i-this.scrollPosition-this.scrollWidth,this.viewportRight=i-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(r)}}getHeadersToRender(e,t){let r;switch(e){case"left":r=this.rowsOfHeadersToRenderLeft[t];break;case"right":r=this.rowsOfHeadersToRenderRight[t];break;default:r=this.rowsOfHeadersToRenderCenter[t];break}return r||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,r=t+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200,i=t<n&&r<n,o=t>s&&r>s;return!i&&!o}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=s=>{const i=s.getLeft();return Le(i)&&i>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,r,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),r=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(r).forEach(i=>e[i.getId()]=!0);const s=(i,o,a)=>{let l=!1;for(let u=0;u<i.length;u++){const f=i[u];let p=!1;if(hl(f))p=e[f.getId()]===!0;else{const C=f.getDisplayedChildren();C&&(p=s(C,o,a+1))}p&&(l=!0,o[a]||(o[a]=[]),o[a].push(f))}return l};s(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),s(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),s(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),r=this.colsWithinViewportHash!==t;return r&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),r}},jne=class extends Re{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(n){const s=e(n),i=typeof s;if(i==="string"||i==="number"||i==="boolean"){this.eGui=$f("<span>"+s+"</span>");return}if(s==null){this.eGui=$f("<span></span>");return}this.eGui=s}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},Bne=class extends Re{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},Gne=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],BD=Object.fromEntries(Gne.map((e,t)=>[e,t]));function Hne(e,t){const r=(e.beanName?BD[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?BD[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return r-n}function Vne(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var Wne=class extends Re{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const r=this.registry[e];if(r!=null)return new r(...t)}},Une=class extends Re{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var t,r;this.runReadyCallbacksAsync=((r=(t=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:r.call(t))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const r=this.readyCallbacks.indexOf(t);r>=0&&this.readyCallbacks.splice(r,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:r}=this.params;return[e,r,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},zne=class extends Re{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:r,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:r})}createIdFromValues(e){const{rowIndex:t,rowPinned:r,column:n}=e;return`${t}.${r??"null"}.${n.getId()}`}equals(e,t){const r=e.column===t.column,n=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return r&&n&&s}},$ne=class extends Re{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){Sr(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const r=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};t?r():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced())}},Kne=class extends Re{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const r=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return r?(t="bottom",e=r-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Le(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},GD={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},HD={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},VD={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},qne=class extends Re{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(GD),this.getSizeEl(HD),this.getSizeEl(VD)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(GD)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(HD)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(VD)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&!t.includes(r)&&e.classList.remove(r);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const r=`${t}px`;return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const r=this.measureSizeEl(e);return r==="detached"||r==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,r),r)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const r=t.offsetWidth;return r===WD?"no-styles":(this.sizesMeasured=!0,r)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let r=this.eMeasurementContainer;r||(r=this.eMeasurementContainer=document.createElement("div"),r.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(r),this.eGridDiv.appendChild(r)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${WD}px)`,r.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);n==="no-styles"&&Te(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const s=this.resizeObserverService.observeResize(t,()=>{const i=this.measureSizeEl(e);i==="detached"||i==="no-styles"||(this.lastKnownValues.set(e,i),i!==n&&(n=i,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const r=this.readAncestorThemeClasses();Yne(r,this.ancestorThemeClasses)||(this.ancestorThemeClasses=r,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const r=Array.from(e.classList).filter(n=>n.startsWith("ag-theme-"));for(const n of r)t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:r}=this,n=e.get("theme")||null;n!==r&&(r==null||r.stopUse(),this.gridTheme=n,n==null||n.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},Yne=(e,t)=>e.length===t.length&&e.findIndex((r,n)=>e[n]!==t[n])===-1,WD=15538,Qne=class extends Re{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new Vd}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=yv(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,r){this.globalEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.globalEventService.removeEventListener(e,t,r)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},_b=class oi extends Re{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",oi.toggleKeyboardMode),t.addEventListener("mousedown",oi.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",oi.toggleKeyboardMode),t.removeEventListener("mousedown",oi.toggleKeyboardMode))}static toggleKeyboardMode(t){const r=oi.keyboardModeActive,n=t.type==="keydown";n&&(t.ctrlKey||t.metaKey||t.altKey)||r!==n&&(oi.keyboardModeActive=n)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,r=>{this.gridCtrl=r.gridCtrl})}registerKeyboardFocusEvents(){const t=jr(this.gos);oi.addKeyboardModeEvents(t),oi.instanceCount++,this.addDestroyFunc(()=>{oi.instanceCount--,oi.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,r=this.columnModel.getCol(t.getId());t!==r&&this.clearFocusedCell()}isKeyboardMode(){return oi.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Dr(this.gos),Cc.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Dr(this.gos),D0.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,r){let n=t;for(;n;){if(Gf(this.gos,n,r))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,r){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),r())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:r,rowPinned:n,column:s}=t,i={rowIndex:r,rowPinned:n,column:s,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:n});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:r,rowIndex:n,rowPinned:s,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(r);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:n,rowPinned:Ko(s),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:i,preventScrollOnBrowserFocus:o})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const r=t.getColumnGroupChild(),n=t.getRowIndex(),s=t.getPinned(),{column:i,headerRowIndex:o}=this.focusedHeaderPosition;return r===i&&n===o&&s==i.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,r){this.focusedHeaderPosition={headerRowIndex:t,column:r}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var u;if(this.isHeaderFocusSuppressed())return!1;const{direction:r,fromTab:n,allowUserOverride:s,event:i,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(o&&((u=this.filterManager)!=null&&u.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(s){const f=this.getFocusedHeader(),p=this.headerNavigationService.getHeaderRowCount();if(n){const g=this.gos.getCallback("tabToNextHeader");g&&(l=this.getHeaderPositionFromUserFunc({userFunc:g,direction:r,currentPosition:f,headerPosition:l,headerRowCount:p}))}else{const g=this.gos.getCallback("navigateToNextHeader");if(g&&i){const C={key:i.key,previousHeaderPosition:f,nextHeaderPosition:l,headerRowCount:p,event:i};l=g(C)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:i,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:r,headerPosition:n,direction:s,event:i}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:r,direction:s,currentPosition:o,headerPosition:n,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:s,event:i})}getHeaderPositionFromUserFunc(t){const{userFunc:r,direction:n,currentPosition:s,headerPosition:i,headerRowCount:o}=t,l=r({backwards:n==="Before",previousHeaderPosition:s,nextHeaderPosition:i,headerRowCount:o});return l===!0||l===null?(l===null&&Te("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),s):l===!1?null:l}focusProvidedHeaderPosition(t){var p;const{headerPosition:r,direction:n,fromCell:s,rowWithoutSpanValue:i,event:o}=t,{column:a,headerRowIndex:l}=r;if(l===-1)return(p=this.filterManager)!=null&&p.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(r):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,n);const u=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),f=(u==null?void 0:u.focusHeader(r.headerRowIndex,a,o))||!1;return f&&(i!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(i??-1),f}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const r=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:r,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const r=this.headerNavigationService.getHeaderRowCount()-1,n=Bt(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var r;return(r=this.filterManager)!=null&&r.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Ko(r)}findFocusableElements(t,r,n=!1){const s=UJ;let i=u_;r&&(i+=", "+r),n&&(i+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll(s)).filter(u=>go(u)),a=Array.prototype.slice.apply(t.querySelectorAll(i));return a.length?((u,f)=>u.filter(p=>f.indexOf(p)===-1))(o,a):o}focusInto(t,r=!1,n=!1){const s=this.findFocusableElements(t,null,n),i=r?Bt(s):s[0];return i?(i.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,r){if(!r)return null;const n=this.findFocusableElements(t),s=n.indexOf(r);if(s===-1)return null;let i=-1;for(let o=s-1;o>=0;o--)if(n[o].classList.contains("ag-tab-guard-top")){i=o;break}return i<=0?null:n[i-1]}findNextFocusableElement(t=this.eGridDiv,r,n){const s=this.findFocusableElements(t,r?':not([tabindex="-1"])':null),i=Dr(this.gos);let o;r?o=s.findIndex(l=>l.contains(i)):o=s.indexOf(i);const a=o+(n?-1:1);return a<0||a>=s.length?null:s[a]}isTargetUnderManagedComponent(t,r){if(!r)return!1;const n=t.querySelectorAll(`.${Uc.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let s=0;s<n.length;s++)if(n[s].contains(r))return!0;return!1}findTabbableParent(t,r=5){let n=0;for(;t&&ax(t)===null&&++n<=r;)t=t.parentElement;return ax(t)===null?null:t}focusOverlay(t){var n;const r=this.overlayService.isVisible()&&((n=this.overlayService.getOverlayWrapper())==null?void 0:n.getGui());return!!r&&this.focusInto(r,t)}focusGridViewFailed(t,r){return r&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,r=!1,n=!0){var i,o;if(this.overlayService.isExclusive())return n&&this.focusOverlay(r);if(this.isCellFocusSuppressed())return r&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():n&&this.focusOverlay(r)?!0:this.focusNextGridCoreContainer(!1);const s=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(s){const{rowIndex:a,rowPinned:l}=s;if(t??(t=(i=this.getFocusedHeader())==null?void 0:i.column),t&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:l}),r){const u=this.rowRenderer.getRowByPosition(s);if(u!=null&&u.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(s,r))return!0}return this.setFocusedCell({rowIndex:a,column:t,rowPinned:Ko(l),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:l,column:t}),!0}}return!!(n&&this.focusOverlay(r)||r&&this.focusLastHeader())}isGridFocused(){const t=Dr(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,r=!1){return!r&&this.gridCtrl.focusNextInnerContainer(t)?!0:((r||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var r;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((r=this.advancedFilterService)==null?void 0:r.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,r){var s;const n=(r?void 0:this.advancedFilterFocusColumn)??((s=this.visibleColsService.getAllCols())==null?void 0:s[0]);return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};_b.keyboardModeActive=!1;_b.instanceCount=0;var Xne=_b,Jne=class extends Re{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=bn(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),r=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},Zne=class extends Re{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,r){this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:n,mouseEventService:s,ctrlsService:i,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:u=>u===1||u===0,getIconName:()=>"notAllowed"};n.addDropTarget(a),this.addDestroyFunc(()=>n.removeDropTarget(a)),s.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Lb(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),i.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,r,n,s,i;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(r=e.columnDropZonesService)==null?void 0:r.getDropZoneSelector(),sideBarSelector:(n=e.sideBarService)==null?void 0:n.getSideBarSelector(),statusBarSelector:(s=e.statusBarService)==null?void 0:s.getStatusPanelSelector(),watermarkSelector:(i=e.licenseManager)==null?void 0:i.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:r,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(r>0){const s=this.visibleColsService.getAllCols(),i=Bt(s);if(this.focusService.focusGridView(i,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const r=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(r.length>1)return this.focusContainer(Bt(r),!0);const s=Bt(n);if(this.focusService.focusGridView(s,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let s=1;s<r.length;s++)if(this.focusService.focusInto(r[s].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var i;const t=this.view.getFocusableContainers(),{nextIndex:r,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||r<0||r>=t.length)return;const s=t[r];(i=s.setAllowFocus)==null||i.call(s,!0),setTimeout(()=>{var o;(o=s.setAllowFocus)==null||o.call(s,!1)})}getNextFocusableIndex(e,t){const r=Dr(this.gos),n=e.findIndex(i=>i.getGui().contains(r)),s=n+(t?-1:1);return{indexWithFocus:n,nextIndex:s}}focusContainer(e,t){var n,s;(n=e.setAllowFocus)==null||n.call(e,!0);const r=this.focusService.focusInto(e.getGui(),t);return(s=e.setAllowFocus)==null||s.call(e,!1),r}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},ese=class extends Re{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const r=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(s=>{var o;if(!s){Qt("alignedGrids contains an undefined option."),t||Qt(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Qt(r());return}if(this.isGridApi(s))return s;const i=s;return"current"in i?(o=i.current)==null?void 0:o.api:(i.api||Qt(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${r()}`),i.api)}).filter(s=>!!s&&!s.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const r=[];return e.columns?e.columns.forEach(n=>{r.push(t(n))}):e.column&&r.push(t(e.column)),r}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Te("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(r=>{let n=null;r&&(n=t.getProvidedColGroup(r.getGroupId())),!(r&&!n)&&t.setColumnGroupOpened(n,r.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var u;const t=e.column;let r=null;if(t&&(r=this.columnModel.getColDefCol(t.getColId())),t&&!r)return;const n=this.getMasterColumns(e),{columnApplyStateService:s,columnSizeService:i,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const p=e.api.getColumnState().map(g=>({colId:g.colId}));s.applyColumnState({state:p,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const p=e.api.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));s.applyColumnState({state:p},"alignedGridChanged")}break;case"columnPinned":{const p=e.api.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));s.applyColumnState({state:p},"alignedGridChanged")}break;case"columnResized":{const f=e,p={};n.forEach(g=>{p[g.getId()]={key:g.getColId(),newWidth:g.getActualWidth()}}),(u=f.flexColumns)==null||u.forEach(g=>{p[g.getId()]&&delete p[g.getId()]}),i.setColumnWidths(Object.values(p),!1,f.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(f=>{f.setGridOption("alwaysShowVerticalScroll",l)})}},tse={version:Tt,moduleName:"@ag-grid-community/aligned-grid",beans:[ese]};function rse(e,t){const r=e.columnModel.getColDefCol(t);return r?r.getColDef():null}function nse(e){return e.columnModel.getColumnDefs()}function sse(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function ise(e,t,r){e.columnModel.setColumnGroupOpened(t,r,"api")}function ose(e,t,r){return e.visibleColsService.getColumnGroup(t,r)}function ase(e,t){return e.columnModel.getProvidedColGroup(t)}function lse(e,t,r){return e.columnNameService.getDisplayNameForColumn(t,r)||""}function cse(e,t,r){return e.columnNameService.getDisplayNameForColumnGroup(t,r)||""}function use(e,t){return e.columnModel.getColDefCol(t)}function dse(e){return e.columnModel.getColDefCols()}function hse(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function fse(e){return e.columnGetStateService.getColumnState()}function pse(e){e.columnApplyStateService.resetColumnState("api")}function gse(e){return e.columnGroupStateService.getColumnGroupState()}function mse(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function vse(e){e.columnGroupStateService.resetColumnGroupState("api")}function Cse(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function yse(e){return e.visibleColsService.isPinningLeft()}function Sse(e){return e.visibleColsService.isPinningRight()}function wse(e,t){return e.visibleColsService.getColAfter(t)}function xse(e,t){return e.visibleColsService.getColBefore(t)}function bse(e,t,r){e.columnModel.setColsVisible([t],r,"api")}function Rse(e,t,r){e.columnModel.setColsVisible(t,r,"api")}function Ese(e,t,r){e.columnModel.setColsPinned([t],r,"api")}function Fse(e,t,r){e.columnModel.setColsPinned(t,r,"api")}function Tse(e){return e.columnModel.getCols()}function Pse(e){return e.visibleColsService.getLeftCols()}function Ase(e){return e.visibleColsService.getCenterCols()}function Dse(e){return e.visibleColsService.getRightCols()}function Mse(e){return e.visibleColsService.getAllCols()}function Nse(e){return e.columnViewportService.getViewportColumns()}function Ise(e,t,r){e.columnMoveService.moveColumns([t],r,"api")}function Ose(e,t,r){e.columnMoveService.moveColumnByIndex(t,r,"api")}function kse(e,t,r){e.columnMoveService.moveColumns(t,r,"api")}function Lse(e,t,r,n=!0,s="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:r}],!1,n,s)}function _se(e,t,r=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,r,n)}function jse(e){return e.visibleColsService.getTreeLeft()}function Bse(e){return e.visibleColsService.getTreeCenter()}function Gse(e){return e.visibleColsService.getTreeRight()}function Hse(e){return e.visibleColsService.getAllTrees()}function Vse(e,t,r){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:r,source:"api"})}function Wse(e,t,r){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"api"})}function Use(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var zse=class extends Re{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Xl(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=n=>s=>{const{column:i,node:o,value:a}=s;let l=i.getColDef().valueFormatter;return l===n.groupSafeValueFormatter&&(l=n.valueFormatter),this.valueService.formatValue(i,o,a,l)};Object.entries(e).forEach(([n,s])=>{const i={...s,groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)};this.dataTypeDefinitions[n]=i,this.formatValueFuncs[n]=t(i)});const r=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(r).forEach(([n,s])=>{const i=this.processDataTypeDefinition(s,r,[n],e);i&&(this.dataTypeDefinitions[n]=i,s.dataTypeMatcher&&(this.dataTypeMatchers[n]=s.dataTypeMatcher),this.formatValueFuncs[n]=t(i))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{const s=this.dataTypeMatchers[n];s&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=s??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const r={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=[...Um(e.columnTypes),...Um(t.columnTypes)]),r}processDataTypeDefinition(e,t,r,n){let s;const i=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[i];const a=t[i];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,i))return;s=this.mergeDataTypeDefinitions(o,e)}else{if(r.includes(i)){Te('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[i];if(!this.validateDataTypeDefinition(e,o,i))return;const a=this.processDataTypeDefinition(o,t,[...r,i],n);if(!a)return;s=this.mergeDataTypeDefinitions(a,e)}return{...s,groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)}}validateDataTypeDefinition(e,t,r){return t?t.baseDataType!==e.baseDataType?(Te('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Te(`The data type definition ${r} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var r,n;if((r=t.node)!=null&&r.group){const s=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&s!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!((n=e.dataTypeMatcher)!=null&&n.call(e,t.value)))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,r){let{cellDataType:n}=t;const{field:s}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(s,r):!1),!n){e.cellDataType=!1;return}const i=this.dataTypeDefinitions[n];if(!i){Te(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,i.groupSafeValueFormatter&&(e.valueFormatter=i.groupSafeValueFormatter),i.valueParser&&(e.valueParser=i.valueParser),i.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,i,r),i.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const r=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",r))}canInferCellDataType(e,t){if(!Sr(this.gos))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,r))return!1;const n=t.type===null?e.type:t.type;if(n){const s=this.gos.get("columnTypes")??{};if(Um(n).some(o=>{const a=s[o.trim()];return a&&this.doColDefPropsPreventInference(a,r)}))return!1}return!this.doColDefPropsPreventInference(e,r)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>this.doesColDefPropPreventInference(e,t,r,n))}doesColDefPropPreventInference(e,t,r,n){if(!t[r])return!1;const s=e[r];return s===null?(t[r]=!1,!1):n===void 0?!!s:s===n}inferCellDataType(e,t){if(!e)return;let r;const n=this.getInitialData();if(n){const i=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");r=ff(n,e,i)}else this.initWaitForRowData(t);if(r==null)return;const[s]=Object.entries(this.dataTypeMatchers).find(([i,o])=>o(r))??["object"];return s}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[r]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{const{firstRowData:s}=n;s&&(r==null||r(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const r=[];this.destroyColumnStateUpdateListeners();const n={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([i,o])=>{const a=this.columnModel.getCol(i);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const f=this.getUpdatedColumnState(a,o);f.rowGroup&&f.rowGroupIndex==null&&(n[i]=f),f.pivot&&f.pivotIndex==null&&(s[i]=f),r.push(f)}}),t&&r.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,s)),r.length&&this.columnApplyStateService.applyColumnState({state:r},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const r=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex}),r}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=t.valueParser!==r.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==r.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const r=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return r?r(t):!0}validateColDef(e){const t=r=>Te(`Cell data type is "object" but no Value ${r} has been provided. Please either provide an object data type definition with a Value ${r}, or set "colDef.value${r}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,r,n){var i;const s=this.formatValueFuncs[t];switch(r.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===me.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=s;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=s;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const l=this.columnModel.getColDefCol(n),u=l==null?void 0:l.getColDef();if(!l||!u)return 0;const f=o==null?"":s({column:l,node:null,value:o}),p=a==null?"":s({column:l,node:null,value:a});return f===p?0:f>p?1:-1},e.keyCreator=s;break}}(i=this.filterManager)==null||i.setColDefPropertiesForDataType(e,r,s)}getDefaultDataTypes(){const e=r=>!!r.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:r=>{var n,s;return((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:Number(r.newValue)},valueFormatter:r=>r.value==null?"":typeof r.value!="number"||isNaN(r.value)?t("invalidNumber","Invalid Number"):String(r.value),dataTypeMatcher:r=>typeof r=="number"},text:{baseDataType:"text",valueParser:r=>r.newValue===""?null:Yw(r.newValue),dataTypeMatcher:r=>typeof r=="string"},boolean:{baseDataType:"boolean",valueParser:r=>{var n,s;return r.newValue==null?r.newValue:((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:r=>r.value==null?"":String(r.value),dataTypeMatcher:r=>typeof r=="boolean"},date:{baseDataType:"date",valueParser:r=>bs(r.newValue==null?null:String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):gi(r.value,!1)??"",dataTypeMatcher:r=>r instanceof Date},dateString:{baseDataType:"dateString",dateParser:r=>bs(r)??void 0,dateFormatter:r=>gi(r??null,!1)??void 0,valueParser:r=>e(String(r.newValue))?r.newValue:null,valueFormatter:r=>e(String(r.value))?r.value:"",dataTypeMatcher:r=>typeof r=="string"&&e(r)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:r=>Yw(r.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},$se={version:Tt,moduleName:"@ag-grid-community/data-type",beans:[zse]},Kse={version:Tt,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:rse,getColumnDefs:nse,sizeColumnsToFit:sse,setColumnGroupOpened:ise,getColumnGroup:ose,getProvidedColumnGroup:ase,getDisplayNameForColumn:lse,getDisplayNameForColumnGroup:cse,getColumn:use,getColumns:dse,applyColumnState:hse,getColumnState:fse,resetColumnState:pse,getColumnGroupState:gse,setColumnGroupState:mse,resetColumnGroupState:vse,isPinning:Cse,isPinningLeft:yse,isPinningRight:Sse,getDisplayedColAfter:wse,getDisplayedColBefore:xse,setColumnVisible:bse,setColumnsVisible:Rse,setColumnPinned:Ese,setColumnsPinned:Fse,getAllGridColumns:Tse,getDisplayedLeftColumns:Pse,getDisplayedCenterColumns:Ase,getDisplayedRightColumns:Dse,getAllDisplayedColumns:Mse,getAllDisplayedVirtualColumns:Nse,moveColumn:Ise,moveColumnByIndex:Ose,moveColumns:kse,setColumnWidth:Lse,setColumnWidths:_se,getLeftDisplayedColumnGroups:jse,getCenterDisplayedColumnGroups:Bse,getRightDisplayedColumnGroups:Gse,getAllDisplayedColumnGroups:Hse,autoSizeColumn:Vse,autoSizeColumns:Wse,autoSizeAllColumns:Use}};function qse(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function Yse(e,t){const r=e.dragAndDropService.findExternalZone(t);r&&e.dragAndDropService.removeDropTarget(r)}function Qse(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var Xse={version:Tt,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:qse,removeRowDropZone:Yse,getRowDropZoneParams:Qse}};function Jse(e){return e.pinnedRowModel.getPinnedTopRowCount()}function Zse(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function eie(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function tie(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var rie={version:Tt,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:Jse,getPinnedBottomRowCount:Zse,getPinnedTopRow:eie,getPinnedBottomRow:tie}};function nie(e){e.overlayService.showLoadingOverlay()}function sie(e){e.overlayService.showNoRowsOverlay()}function iie(e){e.overlayService.hideOverlay()}var oie={version:Tt,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:nie,showNoRowsOverlay:sie,hideOverlay:iie}};function aie(e,t,r){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),s=`aria-${t}`;r===null?n.removeAttribute(s):n.setAttribute(s,r)}function lie(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function cie(e,t={}){const r=n=>Te(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);Le(t.fadeDelay)&&r("fade"),Le(t.flashDelay)&&r("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function uie(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function die(e){return e.animationFrameService.isQueueEmpty()}function hie(e){e.animationFrameService.flushAllFrames()}function fie(e){return{rowHeight:gc(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function pie(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(gf)}var gie={version:Tt,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:aie,refreshCells:lie,flashCells:cie,refreshHeader:uie,isAnimationFrameQueueEmpty:die,flushAllAnimationFrames:hie,getSizesForCurrentTheme:fie,getCellRendererInstances:pie}};function mie(e){e.valueCache.expire()}function vie(e,t,r){return y4(e,{colKey:t,rowNode:r})}function y4(e,t){const{colKey:r,rowNode:n,useFormatter:s}=t,i=e.columnModel.getColDefCol(r)??e.columnModel.getCol(r);if(Gt(i))return null;const o=e.valueService.getValueForDisplay(i,n);return s?e.valueService.formatValue(i,n,o)??fo(o,!0):o}function Cie(e){return e.context.getGridId()}function yie(e){e.gridDestroyService.destroy()}function Sie(e){return e.gridDestroyService.isDestroyCalled()}function wie(e,t){return e.gos.get(t)}function xie(e,t,r){S4(e,{[t]:r})}function S4(e,t){e.gos.updateGridOptions({options:t})}function bie(e,t,r){e.apiEventService.addEventListener(t,r)}function Rie(e,t,r){e.apiEventService.removeEventListener(t,r)}function Eie(e,t){e.apiEventService.addGlobalListener(t)}function Fie(e,t){e.apiEventService.removeGlobalListener(t)}function Tie(e){return e.focusService.getFocusedCell()}function Pie(e){return e.focusService.clearFocusedCell()}function Aie(e,t,r,n){e.focusService.setFocusedCell({rowIndex:t,column:r,rowPinned:n,forceBrowserFocus:!0})}function Die(e,t){return e.navigationService.tabToNextCell(!1,t)}function Mie(e,t){return e.navigationService.tabToNextCell(!0,t)}function Nie(e,t,r=!1){const n=e.headerNavigationService.getHeaderPositionForColumn(t,r);n&&e.focusService.focusHeaderPosition({headerPosition:n})}function Iie(e,t,r){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:r,positionBy:"button"})}function Oie(e,t,r){let n=e.columnModel.getCol(t);if(n||(n=e.columnModel.getColDefCol(t)),!n){Qt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:n,mouseEvent:r,positionBy:"mouse"})}function kie(e,t){const r=e.columnModel.getCol(t);if(!r){Qt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:r,positionBy:"auto"})}function Lie(e){e.menuService.hidePopupMenu()}function _ie(e,t={}){const r=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(r))}function jie(e,t,r,n,s){e.expansionService.setRowNodeExpanded(t,r,n,s)}function Bie(e,t){return e.rowModel.getRowNode(t)}function Gie(e,t,r,n){e.rowRenderer.addRenderedRowListener(t,r,n)}function Hie(e){return e.rowRenderer.getRenderedNodes()}function Vie(e,t,r){e.rowModel.forEachNode(t,r)}function Wie(e){return w4(e)}function w4(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function Uie(e){return x4(e)}function x4(e){return e.rowRenderer.getLastVirtualRenderedRow()}function zie(e,t){return e.rowModel.getRow(t)}function $ie(e){return e.rowModel.getRowCount()}function Kie(e){return e.rowModel}function qie(e,t){if(!t.nodes.every(a=>a.rowPinned?(Te("cannot select pinned rows"),!1):a.id===void 0?(Te("cannot select node until id for node is known"),!1):!0))return;const{nodes:n,source:s,newValue:i}=t,o=n;e.selectionService.setNodesSelected({nodes:o,source:s??"api",newValue:i})}function Yie(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function Qie(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function Xie(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function Jie(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function Zie(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function eoe(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function toe(e){return e.selectionService.getSelectedNodes()}function roe(e){return e.selectionService.getSelectedRows()}function noe(e){e.sortController.onSortChanged("api")}var soe={version:Tt,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:Cie,destroy:yie,isDestroyed:Sie,getGridOption:wie,setGridOption:xie,updateGridOptions:S4}},ioe={version:Tt,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:qie,selectAll:Yie,deselectAll:Qie,selectAllFiltered:Xie,deselectAllFiltered:Jie,selectAllOnCurrentPage:Zie,deselectAllOnCurrentPage:eoe,getSelectedNodes:toe,getSelectedRows:roe}},ooe={version:Tt,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:_ie,setRowNodeExpanded:jie,getRowNode:Bie,addRenderedRowListener:Gie,getRenderedNodes:Hie,forEachNode:Vie,getFirstDisplayedRow:Wie,getFirstDisplayedRowIndex:w4,getLastDisplayedRow:Uie,getLastDisplayedRowIndex:x4,getDisplayedRowAtIndex:zie,getDisplayedRowCount:$ie,getModel:Kie}},aoe={version:Tt,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:$re,getHorizontalPixelRange:Kre,ensureColumnVisible:f4,ensureIndexVisible:p4,ensureNodeVisible:qre}},loe={version:Tt,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:Tie,clearFocusedCell:Pie,setFocusedCell:Aie,setFocusedHeader:Nie,tabToNextCell:Die,tabToPreviousCell:Mie}},coe={version:Tt,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:bie,addGlobalListener:Eie,removeEventListener:Rie,removeGlobalListener:Fie}},uoe={version:Tt,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:mie,getValue:vie,getCellValue:y4}},doe={version:Tt,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:Iie,showColumnMenuAfterMouseClick:Oie,showColumnMenu:kie,hidePopupMenu:Lie}},hoe={version:Tt,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:noe}},foe={version:Tt,moduleName:"@ag-grid-community/api",dependantModules:[soe,rie,ioe,Kse,ooe,Xse,aoe,oie,loe,coe,gie,uoe,doe,hoe]};function poe(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}function goe(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=moe(e)}return e}function moe(e){return e.cellSelection=voe(e,"rangeSelection"),e}function voe(e,t){if(e&&typeof e=="object")return e[t]}var Coe=class extends Re{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=is(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=is(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=is(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=Sr(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Tt),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,r]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return goe(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:r,pagination:n}=this.getInitialState(),s=this.gos.get("advancedFilterModel");(e||s)&&this.setFilterState(e,s),t&&this.setRowGroupExpansionState(t),r&&this.setRowSelectionState(r),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const i=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:i,columnRowGroupChanged:i,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{i()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:r,columnOrder:n}=this.getInitialState();r&&this.setFocusedCellState(r),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const s=this.getRangeSelectionState();this.updateCachedState("rangeSelection",s),this.updateCachedState("cellSelection",s),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:i=>{if(i.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],r=[],n=[],s=[],i=[],o=[],a=[],l=[],u=[];let f=0;const p=this.columnGetStateService.getColumnState();for(let g=0;g<p.length;g++){const{colId:C,sort:S,sortIndex:y,rowGroup:w,rowGroupIndex:b,aggFunc:F,pivot:E,pivotIndex:R,pinned:A,hide:D,width:M,flex:I}=p[g];u.push(C),S&&(t[y??f++]={colId:C,sort:S}),w&&(r[b??0]=C),typeof F=="string"&&n.push({colId:C,aggFunc:F}),E&&(s[R??0]=C),A&&(A==="right"?o:i).push(C),D&&a.push(C),(I||M)&&l.push({colId:C,flex:I??void 0,width:M})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:s.length||e?{pivotMode:e,pivotColIds:s}:void 0,columnPinning:i.length||o.length?{leftColIds:i,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}setColumnState(e){const{sort:t,rowGroup:r,aggregation:n,pivot:s,columnPinning:i,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:u}=e,f={},p=w=>{let b=f[w];return b||(b={colId:w},f[w]=b,b)},g=u?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:w,sort:b},F)=>{const E=p(w);E.sort=b,E.sortIndex=F}),g.sort=null,g.sortIndex=null),r&&(r.groupColIds.forEach((w,b)=>{const F=p(w);F.rowGroup=!0,F.rowGroupIndex=b}),g.rowGroup=null,g.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:w,aggFunc:b})=>{p(w).aggFunc=b}),g.aggFunc=null),s&&(s.pivotColIds.forEach((w,b)=>{const F=p(w);F.pivot=!0,F.pivotIndex=b}),this.gos.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"}),g.pivot=null,g.pivotIndex=null),i&&(i.leftColIds.forEach(w=>{p(w).pinned="left"}),i.rightColIds.forEach(w=>{p(w).pinned="right"}),g.pinned=null),o&&(o.hiddenColIds.forEach(w=>{p(w).hide=!0}),g.hide=null),a&&(a.columnSizingModel.forEach(({colId:w,flex:b,width:F})=>{const E=p(w);E.flex=b??null,E.width=F}),g.flex=null);const C=l==null?void 0:l.orderedColIds,S=!!(C!=null&&C.length),y=S?C.map(w=>p(w)):Object.values(f);y.length&&(this.columnStates=y,this.columnApplyStateService.applyColumnState({state:y,applyOrder:S,defaultState:g},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const n=[];for(const s of t)this.pivotResultColsService.getPivotResultCol(s.colId)&&n.push(s);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}r&&this.columnGroupStateService.setColumnGroupState(r,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:r,open:n})=>{n&&t.push(r)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var s;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((s=e.columnGroup)==null?void 0:s.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:i})=>{const o=t.has(i);return o&&t.delete(i),{groupId:i,open:o}});t.forEach(i=>{n.push({groupId:i,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){var r,n;let e=(r=this.filterManager)==null?void 0:r.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((n=this.filterManager)==null?void 0:n.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var s,i;const{filterModel:r,advancedFilterModel:n}=e??{advancedFilterModel:t};r&&((s=this.filterManager)==null||s.setFilterModel(r,"columnFilter")),n&&((i=this.filterManager)==null||i.setAdvancedFilterModel(n))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(r=>{const{id:n,type:s,startRow:i,endRow:o,columns:a,startColumn:l}=r;return{id:n,type:s,startRow:i,endRow:o,colIds:a.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:r,columnModel:n,visibleColsService:s}=this;if(!oa(t)||!r)return;const i=[];if(e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(u=>{const f=n.getCol(u);f&&a.push(f)}),!a.length)return;let l=n.getCol(o.startColId);if(!l){const u=s.getAllCols(),f=new Set(a);l=u.find(p=>f.has(p))}i.push({...o,columns:a,startColumn:l})}),KX(t)&&qX(t)&&i.length>1)return Te("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");r.setCellRanges(i)}getScrollState(){var n;if(!this.isClientSideRowModel)return;const e=(n=this.ctrlsService.getGridBodyCtrl())==null?void 0:n.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:r}=(e==null?void 0:e.getVScrollPosition())??{top:0};return r||t?{top:r,left:t}:void 0}setScrollState(e){var n;if(!this.isClientSideRowModel)return;const{top:t,left:r}=e;(n=this.ctrlsService.getGridBodyCtrl())==null||n.getScrollFeature().setScrollPosition(t,r)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:r,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:r,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:r,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var r;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((r=e==null?void 0:e.toggledNodes)!=null&&r.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let r=!1;Object.entries(t).forEach(([n,s])=>{Bf(s,this.cachedState[n])||(r=!0)}),this.cachedState={...this.cachedState,...t},r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const r=this.cachedState[e];this.setCachedStateValue(e,t),Bf(t,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},b4={version:Tt,moduleName:"@ag-grid-community/state-core",beans:[Coe]},yoe={version:Tt,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:poe},dependantModules:[b4]},Soe={version:Tt,moduleName:"@ag-grid-community/state",dependantModules:[b4,yoe]};function woe(e){return e.rowModel.isLastRowIndexKnown()}function xoe(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function boe(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function Roe(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function Eoe(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function Foe(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function Toe(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function Poe(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function Aoe(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function Doe(e,t){var r;(r=e.paginationService)==null||r.goToPage(t)}var Moe=class extends Re{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const r=Math.max(gc(this.gos),1),n=Math.floor(e/r);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?is(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function Noe(e,t,r){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===me.TAB){const s=n.shiftKey;r.findNextFocusableElement(t,!1,s)||r.focusNextGridCoreContainer(s)&&n.preventDefault()}}})}var qh="paginationPageSizeSelector",Ioe=class extends hr{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(qh,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){qs(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(qh)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),r=!t||!e.includes(t);if(r){const s=this.gos.exists("paginationPageSize"),i=this.gos.get(qh)!==!0;Te(`'paginationPageSize=${t}'${s?"":" (default value)"}, but ${t} is not included in${i?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),i||Te(`Either set '${qh}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const n=String(r?"":t);this.selectPageSizeComp?(xl(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=r}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const r=this.localeService.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),s=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Tb).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(s).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(qh);return!Array.isArray(t)||$s(t)?e:[...t].sort((r,n)=>r-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Ooe={selector:"AG-PAGE-SIZE-SELECTOR",component:Ioe},koe=class extends Rne{constructor(){super(),this.btFirst=pt,this.btPrevious=pt,this.btNext=pt,this.btLast=pt,this.lbRecordCount=pt,this.lbFirstRowOnPage=pt,this.lbLastRowOnPage=pt,this.lbCurrent=pt,this.lbTotal=pt,this.pageSizeComp=pt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Ooe]);const{btFirst:t,btPrevious:r,btNext:n,btLast:s}=this;this.activateTabIndex([t,r,n,s]),t.insertAdjacentElement("afterbegin",Hs(e?"last":"first",this.gos)),r.insertAdjacentElement("afterbegin",Hs(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",Hs(e?"previous":"next",this.gos)),s.insertAdjacentElement("afterbegin",Hs(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(i):this.focusService.focusGridInnerElement(i)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:r}=e;this.addManagedListeners(t,{click:r,keydown:n=>{(n.key===me.ENTER||n.key===me.SPACE)&&(n.preventDefault(),r())}})}),Noe(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const r=this.localeService.getLocaleTextFunc(),n=r("thousandSeparator",","),s=r("decimalSeparator",".");return wee(e,n,s)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),r=e("to","to"),n=e("of","of"),s=e("firstPage","First Page"),i=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${r}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),r=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),s=e===r-1;this.nextButtonDisabled=s||n,this.lastButtonDisabled=!t||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){OJ(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),r=this.paginationService.getMasterRowCount(),n=e?r:null;if(n===1){const F=this.rowModel.getRow(0);if(F&&F.group&&!(F.groupData||F.aggData)){this.setTotalLabelsToZero();return}}const s=this.paginationService.getCurrentPage(),i=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=i*s+1,a=o+i-1,e&&a>n&&(a=n));const l=o+i-1,u=!e&&r<l,f=this.formatNumber(o);this.lbFirstRowOnPage.textContent=f;let p;const g=this.localeService.getLocaleTextFunc();u?p=g("pageLastRowUnknown","?"):p=this.formatNumber(a),this.lbLastRowOnPage.textContent=p;const S=t>0?s+1:0,y=this.formatNumber(S);this.lbCurrent.textContent=y;let w,b;if(e)w=this.formatNumber(t),b=this.formatNumber(n);else{const F=g("more","more");w=F,b=F}this.lbTotal.textContent=w,this.lbRecordCount.textContent=b,this.announceAriaStatus(f,p,b,y,w)}announceAriaStatus(e,t,r,n,s){const i=this.localeService.getLocaleTextFunc(),o=i("page","Page"),a=i("to","to"),l=i("of","of"),u=`${e} ${a} ${t} ${l} ${r}`,f=`${o} ${n} ${l} ${s}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationRow")),f!==this.ariaPageStatus&&(this.ariaPageStatus=f,this.ariaAnnouncementService.announceValue(f,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},Loe={selector:"AG-PAGINATION",component:koe},_oe=class extends Re{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Loe}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Le(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Le(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Le(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Le(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const r=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}r!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:r=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:r,newPageSize:n,keepRenderedRows:t})}},R4={version:Tt,moduleName:"@ag-grid-community/pagination-core",beans:[_oe,Moe]},joe={version:Tt,moduleName:"@ag-grid-community/pagination-api",dependantModules:[R4],apiFunctions:{paginationIsLastPageFound:woe,paginationGetPageSize:xoe,paginationGetCurrentPage:boe,paginationGetTotalPages:Roe,paginationGetRowCount:Eoe,paginationGoToNextPage:Foe,paginationGoToPreviousPage:Toe,paginationGoToFirstPage:Poe,paginationGoToLastPage:Aoe,paginationGoToPage:Doe}},Boe={version:Tt,moduleName:"@ag-grid-community/pagination",dependantModules:[R4,joe]},gs="clientSide",Wn="serverSide",Au="infinite",Goe={onGroupExpandedOrCollapsed:[gs],refreshClientSideRowModel:[gs],isRowDataEmpty:[gs],forEachLeafNode:[gs],forEachNodeAfterFilter:[gs],forEachNodeAfterFilterAndSort:[gs],resetRowHeights:[gs],applyTransaction:[gs],applyTransactionAsync:[gs],flushAsyncTransactions:[gs],getBestCostNodeSelection:[gs],getServerSideSelectionState:[Wn],setServerSideSelectionState:[Wn],applyServerSideTransaction:[Wn],applyServerSideTransactionAsync:[Wn],applyServerSideRowData:[Wn],retryServerSideLoads:[Wn],flushServerSideAsyncTransactions:[Wn],refreshServerSide:[Wn],getServerSideGroupLevelState:[Wn],refreshInfiniteCache:[Au],purgeInfiniteCache:[Au],getInfiniteRowCount:[Au],isLastRowIndexKnown:[Au,Wn],expandAll:[gs,Wn],collapseAll:[gs,Wn],onRowHeightChanged:[gs,Wn],setRowCount:[Au,Wn],getCacheBlockState:[Au,Wn]},Hoe={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function Voe(e,t,r){const n=Hoe[e];if(n){const{version:i,new:o,old:a,message:l}=n,u=a??e;return(...f)=>{const p=o?`Please use ${o} instead. `:"";return Te(`Since ${i} api.${u} is deprecated. ${p}${l??""}`),t.apply(t,f)}}const s=Goe[e];return s?(...i)=>{const o=r.rowModel.getType();if(!s.includes(o)){Qt(`api.${e} can only be called when gridOptions.rowModelType is ${s.join(" or ")}`);return}return t.apply(t,i)}:t}var Woe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},_a=(e,t)=>{const r=t.rowModelType??"clientSide";return r==="clientSide"||r==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},Uoe={enableRowGroup:_a,rowGroup:_a,rowGroupIndex:_a,enablePivot:_a,enableValue:_a,pivot:_a,pivotIndex:_a,aggFunc:_a,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var r;const t=["columnsMenuTab","generalMenuTab"];return(r=e.menuTabs)!=null&&r.some(n=>t.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Ou},zoe={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},$oe=Object.keys(zoe),Ou={objectName:"colDef",allProperties:$oe,docsUrl:"column-properties/",deprecations:Woe,validations:Uoe},Koe=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),qoe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},Yoe=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const r=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:r}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:r}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>Ou,defaultColDef:()=>Ou,defaultColGroupDef:()=>Ou,autoGroupColumnDef:()=>Ou,selectionColumnDef:()=>Ou}),Qoe=()=>({objectName:"gridOptions",allProperties:[...Vf.ALL_PROPERTIES,...Wf.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:Koe(),validations:Yoe()}),Xoe=class extends Re{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,Qoe())}validateApiFunction(e,t){return Voe(e,t,this.beans)}processOptions(e,t){const{validations:r,deprecations:n,allProperties:s,propertyExceptions:i,objectName:o,docsUrl:a}=t;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...i??[],...Object.keys(n)],s,o,a);const l=new Set;Object.keys(e).forEach(f=>{const p=n[f];if(p)if("renamed"in p){const{renamed:E,version:R}=p;l.add(`As of v${R}, ${String(f)} is deprecated. Please use ${String(E)} instead.`),e[E]=e[f]}else{const{message:E,version:R}=p;l.add(`As of v${R}, ${String(f)} is deprecated. ${E??""}`)}const g=e[f];if(g==null||g===!1)return;const C=r[f];let S;if(C)if(typeof C=="function"){const E=C(e,this.gridOptions);if(!E)return;if("objectName"in E){const R=e[f];if(Array.isArray(R)){R.forEach(A=>{this.processOptions(A,E)});return}this.processOptions(e[f],E);return}S=E}else S=C;else return;const{module:y,dependencies:w,validate:b,supportedRowModels:F}=S;if(F){const E=this.gridOptions.rowModelType??"clientSide";if(!F.includes(E)){l.add(`${String(f)} is not supported with the '${E}' row model.`);return}}if(y){const E=Array.isArray(y)?y:[y];let R=!0;if(E.forEach(A=>{this.gos.assertModuleRegistered(A,String(f))||(R=!1,l.add(`${String(f)} is only available when ${A} is loaded.`))}),!R)return}if(w){const E=this.checkForRequiredDependencies(f,w,e);if(E){l.add(E);return}}if(b){const E=b(e,this.gridOptions);if(E){l.add(E);return}}}),l.size>0&&l.forEach(f=>{Te(f)})}checkForRequiredDependencies(e,t,r){const s=Object.entries(t).find(([a,l])=>{const u=r[a];return!l.includes(u)});if(!s)return null;const[i,o]=s;return o.length>1?`'${String(e)}' requires '${i}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${i}' to be ${o[0]}.`}checkProperties(e,t,r,n,s){const i=["__ob__","__v_skip","__metadata__"],o=Joe(Object.getOwnPropertyNames(e),[...i,...t,...r],r);if(Li(o,(a,l)=>{let u=`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;r.includes("context")&&(u+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),Te(u)}),Object.keys(o).length>0&&s){const a=this.getFrameworkOverrides().getDocLink(s);Te(`to see all the valid ${n} properties please check: ${a}`)}}};function Joe(e,t,r){const n={},s=e.filter(i=>!t.some(o=>o===i));return s.length>0&&s.forEach(i=>n[i]=E_({inputValue:i,allSuggestions:r}).values),n}var Zoe={version:Tt,moduleName:"@ag-grid-community/core"},eae={version:Tt,moduleName:"@ag-grid-community/core-validations",beans:[Xoe]},E4={version:Tt,moduleName:"@ag-grid-community/core-community-features",dependantModules:[Zoe,eae,hne,ite,Soe,$se,tse,Boe,foe]},tae=class extends Re{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},$m=new Set(["gridPreDestroyed","fillStart","pasteStart"]),rae=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",nae=new Map([...Vf.BOOLEAN_PROPERTIES.map(e=>[e,Xw]),...Vf.NUMBER_PROPERTIES.map(e=>[e,W_]),["groupAggFiltering",e=>typeof e=="function"?e:Xw(e)],["pageSize",Zi(1)],["autoSizePadding",Zi(0)],["keepDetailRowsCount",Zi(1)],["rowBuffer",Zi(0)],["infiniteInitialRowCount",Zi(1)],["cacheOverflowSize",Zi(1)],["cacheBlockSize",Zi(1)],["serverSideInitialRowCount",Zi(1)],["viewportRowModelPageSize",Zi(1)],["viewportRowModelBufferSize",Zi(0)]]);function F4(e,t){const r=nae.get(e);return r?r(t):t}function sae(e){const t={};return Object.entries(e).forEach(([r,n])=>{const s=F4(r,n);t[r]=s}),t}var T4=class P4 extends Re{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Vd,this.globalEventHandlerFactory=t=>(r,n)=>{if(!this.isAlive())return;const s=$m.has(r);if(s&&!t||!s&&t)return;const i=Wf.getCallbackForEvent(r),o=this.gridOptions[i];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(n)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:r})=>{this.updateGridOptions({options:r,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??qoe[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return Le(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const s=n;return s.api=this.api,s.context=this.gridOptionsContext,t(s)})}updateGridOptions({options:t,force:r,source:n="api"}){var o;const s={id:P4.changeSetId++,properties:[]},i=[];Object.entries(t).forEach(([a,l])=>{n==="api"&&TJ[a]&&Te(`${a} is an initial property and cannot be updated.`);const u=F4(a,l),f=r||typeof u=="object"&&n==="api",p=this.gridOptions[a];if(f||p!==u){this.gridOptions[a]=u;const g={type:a,currentValue:u,previousValue:p,changeSet:s,source:n};i.push(g)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),s.properties=i.map(a=>a.type),i.forEach(a=>{this.gridOptions.debug&&ji(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(t,r){this.propertyEventService.addEventListener(t,r)}removePropertyEventListener(t,r){this.propertyEventService.removeEventListener(t,r)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const r=t;return r.api=this.api,r.context=this.gridOptionsContext,r}assertModuleRegistered(t,r){return lo.__assertRegistered(t,r,this.gridId)}isModuleRegistered(t){return lo.__isRegistered(t,this.gridId)}};T4.changeSetId=0;var iae=T4,oae=class extends Re{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let r,n;if(Ur(e.column)?r=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,r=this.visibleColsService[n](e.column)),!r)return;const{headerRowIndex:s}=e;if(this.getHeaderRowType(s)!=="filter"){const a=[r];for(;r.getParent();)r=r.getParent(),a.push(r);r=a[a.length-1-s]}const{column:i,headerRowIndex:o}=this.getHeaderIndexToFocus(r,s);return{column:i,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let r;if(Ur(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;r=n.getLeafColumns()[0];let s=r;for(;s!==n;)t++,s=s.getParent()}return{column:r||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const r=this.getHeaderRowType(t),n=r==="filter",s=r==="column";let i=n?e:e.getParent(),o=t-1,a=o;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;i&&i.isPadding();)i=i.getParent(),o--;a=o,o<0&&(i=e,o=t,a=void 0)}return{column:i,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,r="After"){const n=this.getHeaderRowType(t);let s=e,i=t+1;const o=i;if(n==="group"){const a=e.getDisplayedLeafColumns(),l=r==="After"?a[0]:Bt(a),u=[];let f=l;for(;f.getParent()!==e;)f=f.getParent(),u.push(f);if(s=l,l.isSpanHeaderHeight())for(let p=u.length-1;p>=0;p--){const g=u[p];if(!g.isPadding()){s=g;break}i++}else s=Bt(u),s||(s=l)}return{column:s,headerRowIndex:i,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const r=this.visibleColsService.getAllCols(),n=r[t==="start"?0:r.length-1];if(!n)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()),i=s==null?void 0:s.getRowType(e);if(i=="group"){const o=this.visibleColsService.getColGroupAtLevel(n,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:i==null?-1:e,column:n}}},aae=class extends Re{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(r,n,s)=>e({key:r,defaultValue:n,variableValues:s});const t=this.gos.get("localeText");return(r,n,s)=>{let i=t&&t[r];if(i&&s&&s.length){let o=0;for(;!(o>=s.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",s[o++])}return i??n}}},lae=class extends Re{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new fb(this.getFrameworkOverrides())}addEventListener(e,t){const r=this.frameworkEventWrappingService.wrap(e,t),n=yv(this.gos)&&!$m.has(e),s=n?this.asyncEventListeners:this.syncEventListeners;s.has(e)||s.set(e,new Set),s.get(e).add(r),this.eventService.addEventListener(e,r,n)}removeEventListener(e,t){var i;const r=this.frameworkEventWrappingService.unwrap(e,t),n=this.asyncEventListeners.get(e),s=!!(n!=null&&n.delete(r));s||(i=this.syncEventListeners.get(e))==null||i.delete(r),this.eventService.removeEventListener(e,r,s)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(yv(this.gos)){const n=(i,o)=>{$m.has(i)&&t(i,o)},s=(i,o)=>{$m.has(i)||t(i,o)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:s}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(s,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:s}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(s,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((r,n)=>{r.forEach(s=>this.eventService.removeEventListener(n,s,t)),r.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(r=>this.eventService.removeGlobalListener(r,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},cae=class extends Re{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},uae=class extends Re{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Gt(this.topRowBounds)||Gt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=Le(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},dae=class extends Re{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=is(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=jr(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),a_(t,"polite"),IJ(t,"additions text"),NJ(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(qs(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},hae=class extends Re{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const r=n=>{for(;n.length;){const s=n.pop();s&&s()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),r(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),r(this.executeLaterFuncs)},200)})}},fae=class extends Re{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},pae=class extends Re{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=Sr(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Te("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,r){var s;const n=e.newAgStackInstance();(s=this.overlayWrapperComp)==null||s.showOverlay(n,t,this.isExclusive(),r),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},gae=class extends Re{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return Le(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),wD(t,this.processClassesFromGridOptions(e.rowNode)),wD(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],r=i=>{typeof i=="string"?t.push(i):Array.isArray(i)&&i.forEach(o=>t.push(o))},n=this.gos.get("rowClass");if(n){if(typeof n=="function")return Te("rowClass should not be a function, please use getRowClass instead"),[];r(n)}const s=this.gos.getCallback("getRowClass");if(s){const i={data:e.data,node:e,rowIndex:e.rowIndex},o=s(i);r(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,r=>{t.push(r)},()=>{}),t}processRowClassRules(e,t,r){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,r)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},mae=class extends Re{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=XJ(),this.gos.get("debug")&&ji("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(t!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=r,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&ji(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),r=e/t;return this.maxScrollY*r}},vae=class extends Re{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=ao(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=ao(this.gos))}doFullSort(e,t){const r=(s,i)=>({currentPos:i,rowNode:s}),n=e.map(r);return n.sort(this.compareRowNodes.bind(this,t)),n.map(s=>s.rowNode)}compareRowNodes(e,t,r){const n=t.rowNode,s=r.rowNode;for(let i=0,o=e.length;i<o;i++){const a=e[i],l=a.sort==="desc",u=this.getValue(n,a.column),f=this.getValue(s,a.column);let p;const g=this.getComparator(a,n);if(g?p=g(u,f,n,s,l):p=VX(u,f,this.isAccentedSort),!isNaN(p)&&p!==0)return a.sort==="asc"?p:p*-1}return t.currentPos-r.currentPos}getComparator(e,t){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const s=!t.group&&r.getColDef().field;if(!s)return;const i=this.columnModel.getColDefCol(s);if(i)return i.getColDef().comparator}getValue(e,t){var n,s,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(F0(this.gos,this.columnModel.isPivotActive())){const l=(n=e.allLeafChildren)==null?void 0:n[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const a=(s=this.showRowGroupColsService)==null?void 0:s.getShowRowGroupCol(t.getId());return a?(i=e.groupData)==null?void 0:i[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},N0=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],t);t(e.rowNode)}depthFirstSearchEverything(e,t,r){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const s=e.childrenAfterGroup[n];s.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,r):r&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,r=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,r++,t=t.parent}return r}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(n=>this.nodeIdsToColumns[r.id][n.getId()]=!0),r=r.parent}linkPathItems(e,t){let r=e;for(let n=0;n<t;n++){const s=this.mapToItems[r.id],i=this.mapToItems[r.parent.id];i.children||(i.children=[]),i.children.push(s),r=r.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const r=this.nodeIdsToColumns[e.id];return t.filter(s=>r[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return t.filter(s=>!r[s.getId()])}},A4=class extends Re{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new wne,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:r}=this;this.selectionCtx.init(t),this.rowSelectionMode=wv(e),this.groupSelectsChildren=Pc(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const n=Pc(e),s=wv(e);(n!==this.groupSelectsChildren||s!==this.rowSelectionMode)&&(this.groupSelectsChildren=n,this.rowSelectionMode=s,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:r.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!rae(t))return e;const r=this.selectionCtx.getRoot();return r?r.isSelected()??!1:!0}setNodesSelected(e){var p;const{newValue:t,clearSelection:r,suppressFinishActions:n,rangeSelect:s,nodes:i,event:o,source:a}=e;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return Te("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,u=i.map(g=>g.footer?g.sibling:g);if(s){if(u.length>1)return Te("cannot range select while selecting multiple rows"),0;const g=u[0],C=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(g)){const S=this.selectionCtx.truncate(g);return C&&this.selectRange(S.discard,!1,a),this.selectRange(S.keep,C,a)}else if(this.selectionCtx.getRoot()!==g){const w=this.selectionCtx.extend(g,this.groupSelectsChildren);return C&&this.selectRange(w.discard,!1,a),this.selectRange(w.keep,C,a)}}}n||this.selectionCtx.setRoot(u[0]);let f=0;for(let g=0;g<u.length;g++){const C=u[g];l&&C.group||C.selectThisNode(t,o,a)&&f++,this.groupSelectsChildren&&((p=C.childrenAfterGroup)!=null&&p.length)&&(f+=this.selectChildren(C,t,l,a))}return n||(t&&(r||!this.isMultiSelect())&&(f+=this.clearOtherNodes(u[0],a)),f>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),f}selectRange(e,t,r){let n=0;return e.forEach(s=>{if(s.group&&this.groupSelectsChildren)return;s.selectThisNode(t,void 0,r)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)),n}selectChildren(e,t,r,n){const s=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return Gt(s)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:n,nodes:s})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((r,n)=>{r&&e(r)&&t.set(n,r)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!Sr(this.gos))return!1;const n=this.rowModel.getRootNode();t||(t=new N0(!0,n),t.setInactive());let s=!1;return t.forEachChangedNodeDepthFirst(i=>{if(i!==n){const o=i.calculateSelectedFromChildren();s=i.selectThisNode(o===null?!1:o,void 0,e)||s}}),s}clearOtherNodes(e,t){const r=new Map;let n=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==e.id){const i=this.selectedNodes.get(s.id);n+=i.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const i=s.calculateSelectedFromChildren();s.selectThisNode(i===null?!1:i,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(Le(t)&&e.id!==t.id&&t){const n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!Sr(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const r=[];function n(s){for(let i=0,o=s.length;i<o;i++){const a=s[i];if(a.isSelected())r.push(a);else{const l=a;l.group&&l.children&&n(l.children)}}}return n(t),r}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,n),r=Sr(this.gos),{source:n,justFiltered:s,justCurrentPage:i}=e;if(i||s){if(!r){Qt("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,i).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(n);this.selectionCtx.reset(),r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let r=0,n=0;const s=i=>{this.groupSelectsChildren&&i.group||(i.isSelected()?r++:i.selectable&&n++)};return this.getNodesToSelect(e,t).forEach(s),{selectedCount:r,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:r,notSelectedCount:n}=this.getSelectedCounts(e,t);return r===0&&n===0?!1:r>0&&n>0?null:r>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(r=>r.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const r=[];if(t)return this.forEachNodeOnPage(s=>{if(!s.group){r.push(s);return}if(!s.expanded){const i=o=>{var a;r.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(i)};i(s);return}this.groupSelectsChildren||r.push(s)}),r;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(s=>{r.push(s)}),r):(n.forEachNode(s=>{r.push(s)}),r)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow();for(let n=t;n<=r;n++){const s=this.rowModel.getRow(n);s&&e(s)}}selectAllRowNodes(e){if($X(this.gos)&&!KL(this.gos))return Te("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:r,justCurrentPage:n}=e,s=this.getNodesToSelect(r,n);s.forEach(i=>i.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(s[0]??null),this.selectionCtx.setEndRange(Bt(s)??null),Sr(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return Qt("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const r=new Set(e),n=[];this.rowModel.forEachNode(s=>{r.has(s.id)&&n.push(s)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!Sr(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},Cae=class extends Re{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,r=Cv(t),n=ub(t);if(!r||!n)return;const s=Pc(t),i=Sr(t)&&s,o=[],a=l=>{if(e&&!l.group)return;if(i&&l.group){const f=l.childrenAfterGroup.some(p=>p.selectable===!0);l.setRowSelectable(f,!0);return}const u=(n==null?void 0:n(l))??!0;l.setRowSelectable(u,!0),!u&&l.isSelected()&&o.push(l)};if(i){const l=this.rowModel;new N0(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),i&&this.selectionService instanceof A4&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},UD=["asc","desc",null],yae=class extends Re{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,r)}setSortForColumn(e,t,r,n){t!=="asc"&&t!=="desc"&&(t=null);const s=ao(this.gos);let i=[e];if(s&&e.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(e),u=l==null?void 0:l.filter(f=>f.isSortable());u&&(i=[e,...u])}i.forEach(l=>l.setSort(t,n));const o=(r||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(i,n);a.push(...l)}this.updateSortIndex(e),a.push(...i),this.dispatchSortChangedEvents(n,a)}updateSortIndex(e){var a;const t=ao(this.gos),r=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(e.getId()),n=t&&r||e,s=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const i=s.filter(l=>t&&l.getColDef().showRowGroup?!1:l!==n);(n.getSort()?[...i,n]:i).forEach((l,u)=>{l.setSortIndex(u)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(r=>!!r.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const r={type:"sortChanged",source:e};t&&(r.columns=t),this.eventService.dispatchEvent(r)}clearSortBarTheseColumns(e,t){const r=[];return this.columnModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&r.push(n),n.setSort(void 0,t))}),r}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=UD,!Array.isArray(t)||t.length<=0)return Te(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const r=t.indexOf(e.getSort()),n=r<0,s=r==t.length-1;let i;return n||s?i=t[0]:i=t[r+1],UD.indexOf(i)<0?(Te("invalid sort type ",i),null):i}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(i=>!!i.getSort());if(this.columnModel.isPivotMode()){const i=ao(this.gos);e=e.filter(o=>{var f;const a=!!o.getAggFunc(),l=!o.isPrimary(),u=i?(f=this.showRowGroupColsService)==null?void 0:f.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||u})}const t=this.funcColsService.getRowGroupColumns().filter(i=>!!i.getSort()),r={};e.forEach((i,o)=>r[i.getId()]=o),e.sort((i,o)=>{const a=i.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const u=r[i.getId()],f=r[o.getId()];return u>f?1:-1}else return l==null?-1:1});const n=ao(this.gos)&&!!t.length;n&&(e=[...new Set(e.map(i=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(i.getId()))??i}))]);const s=new Map;return e.forEach((i,o)=>s.set(i,o)),n&&t.forEach(i=>{const o=this.showRowGroupColsService.getShowRowGroupCol(i.getId());s.set(i,s.get(o))}),s}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[r,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=ao(this.gos),r=!!e.getColDef().showRowGroup;return t&&r}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=n[0].getSort();return n.every(o=>o.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},Sae=class extends Re{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&ji(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,Xl(e.source))}}},wae="paste",xae=class extends Re{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){Sr(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==wae&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),s=new N0(n,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(i=>{r.push(i)})}this.rowRenderer.refreshCells({rowNodes:r})}},bae=class extends Re{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Qt("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(r){return ji("Processing of the expression failed"),ji("Expression = ",e),ji("Params = ",t),ji("Exception = ",r),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Rae=class extends Re{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=r)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Eae=class extends Re{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=So(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=r=>this.callColumnCellValueChangedHandler(r),t=yv(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",r=>this.isTreeData=r.currentValue)}getValueForDisplay(e,t){const r=t.leafGroup&&this.columnModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!r,s=this.gos.get("groupSuppressBlankHeader");if(!n||s)return this.getValue(e,t);let i=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof o!="function"?i=!!o:i=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=n&&i;return this.getValue(e,t,!1,a)}getValue(e,t,r=!1,n=!1){if(this.initialised||this.init(),!t)return;const s=e.getColDef(),i=s.field,o=e.getColId(),a=t.data;let l;const u=t.groupData&&t.groupData[o]!==void 0,f=!n&&t.aggData&&t.aggData[o]!==void 0,p=this.isSsrm&&n&&!!e.getColDef().aggFunc,g=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(r&&s.filterValueGetter?l=this.executeFilterValueGetter(s.filterValueGetter,a,e,t):this.isTreeData&&f?l=t.aggData[o]:this.isTreeData&&s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,e,t):this.isTreeData&&i&&a?l=ff(a,i,e.isFieldContainsDots()):u?l=t.groupData[o]:f?l=t.aggData[o]:s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,e,t):g?l=ff(a,t.field,e.isFieldContainsDots()):i&&a&&!p&&(l=ff(a,i,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const C=l.substring(1);l=this.executeValueGetter(C,a,e,t)}if(l==null){const C=this.getOpenedGroup(t,e);if(C!=null)return C}return l}parseValue(e,t,r,n){const s=e.getColDef(),i=s.valueParser;if(Le(i)){const o=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:n,newValue:r,colDef:s,column:e});return typeof i=="function"?i(o):this.expressionService.evaluate(i,o)}return r}getDeleteValue(e,t){return Le(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,r,n,s=!0){let i=null,o;const a=e.getColDef();if(n?o=n:s&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:r,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?i=o(l):i=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[r]||"";return i==null&&Array.isArray(r)&&(i=r.join(", ")),i}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let s=e.parent;for(;s!=null;){if(s.rowGroupColumn&&(n===!0||n===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,t,r,n){const s=this.columnModel.getColDefCol(t);if(!e||!s)return!1;Gt(e.data)&&(e.data={});const{field:i,valueSetter:o}=s.getColDef();if(Gt(i)&&Gt(o))return Te("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(s,r))return Te("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(s,e),newValue:r,colDef:s.getColDef(),column:s});a.newValue=r;let l;if(Le(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(e.data,i,r,s.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const u=this.getValue(s,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:u,value:u,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,r,n){if(!t)return!1;let s=!1;if(!n)s=e[t]===r,s||(e[t]=r);else{const i=t.split(".");let o=e;for(;i.length>0&&o;){const a=i.shift();i.length===0?(s=o[a]===r,s||(o[a]=r)):o=o[a]}}return!s}executeFilterValueGetter(e,t,r,n){const s=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(s):this.expressionService.evaluate(e,s)}executeValueGetter(e,t,r,n){const s=r.getColId(),i=this.valueCache.getValue(n,s);if(i!==void 0)return i;const o=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(n,s,a),a}getValueCallback(e,t){const r=this.columnModel.getColDefCol(t);return r?this.getValue(r,e):null}getKeyForNode(e,t){const r=this.getValue(e,t),n=e.getColDef().keyCreator;let s=r;if(n){const i=this.gos.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:t,data:t.data});s=n(i)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Te("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s}},jb=class Yl{static applyGlobalGridOptions(t){if(!Yl.gridOptions)return t;let r={};return ss(r,Yl.gridOptions,!0,!0),Yl.mergeStrategy==="deep"?ss(r,t,!0,!0):r={...r,...t},Yl.gridOptions.context&&(r.context=Yl.gridOptions.context),t.context&&(Yl.mergeStrategy==="deep"&&r.context&&ss(t.context,r.context,!0,!0),r.context=t.context),r}};jb.gridOptions=void 0;jb.mergeStrategy="shallow";var D4=jb;function Fae(e){var t;return(t=D4.gridOptions)==null?void 0:t[e]}var Tae=1,Pae=class{create(e,t,r,n,s){const i=D4.applyGlobalGridOptions(t),o=sae(i),a=o.gridId??String(Tae++),l=this.getRegisteredModules(s,a),u=this.createBeansList(o.rowModelType,l,a),f=this.createProvidedBeans(e,o,s);if(!u){Qt("Failed to create grid.");return}const p={providedBeanInstances:f,beanClasses:u,gridId:a,beanInitComparator:Hne,beanDestroyComparator:Vne,derivedBeans:[Nne]},g=new zZ(p);return this.registerModuleUserComponents(g,l),this.registerControllers(g,l),this.registerModuleApiFunctions(g,l),r(g),g.getBean("syncService").start(),n&&n(g),g.getBean("gridApi")}registerControllers(e,t){const r=e.getBean("ctrlsFactory");t.forEach(n=>{n.controllers&&n.controllers.forEach(s=>r.register(s))})}getRegisteredModules(e,t){const r=e?e.modules:null,n=lo.__getRegisteredModules(t),s=[],i={},o=(a,l,u)=>{(p=>{i[p.moduleName]||(i[p.moduleName]=!0,s.push(p),lo.__register(p,a,u))})(l),l.dependantModules&&l.dependantModules.forEach(p=>o(a,p,u))};return o(!!(r!=null&&r.length)||!lo.__isPackageBased(),E4,void 0),r&&r.forEach(a=>o(!0,a,t)),n&&n.forEach(a=>o(!lo.__isPackageBased(),a,void 0)),s}registerModuleUserComponents(e,t){const r=this.extractModuleEntity(t,s=>s.userComponents?s.userComponents:[]),n=e.getBean("userComponentRegistry");r.forEach(({name:s,classImp:i,params:o})=>{n.registerDefaultComponent(s,i,o)})}registerModuleApiFunctions(e,t){const r=e.getBean("apiFunctionService");t.forEach(n=>{const s=n.apiFunctions;s&&Object.keys(s).forEach(o=>{r==null||r.addFunction(o,s[o])})})}createProvidedBeans(e,t,r){let n=r?r.frameworkOverrides:null;Gt(n)&&(n=new v4);const s={gridOptions:t,eGridDiv:e,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:n};return r&&r.providedBeanInstances&&Object.assign(s,r.providedBeanInstances),s}createBeansList(e="clientSide",t,r){const n=t.filter(l=>!l.rowModel||l.rowModel===e),s={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!s[e]){Qt("Could not find row model for rowModelType = ",e);return}if(!lo.__assertRegistered(s[e],`rowModelType = '${e}'`,r))return;const i=[Kne,zne,oae,tae,Mne,EZ,jne,Bne,Fre,F_,mae,Rre,aae,vne,YZ,RJ,Qne,iae,Tne,A4,fJ,ote,uae,cae,gne,bae,hJ,bre,Rae,Eae,fne,Ere,$Z,Xne,xre,qne,Ane,xne,wre,yae,fae,hae,Cae,xae,Tre,Ine,gae,vae,Une,Jne,$ne,Wne,Sae,pae,Pre,lae,dae,Are,mJ,One,vJ,pJ,kne,Lne,bJ,gJ,wJ,_ne,xJ,aJ],o=this.extractModuleEntity(n,l=>l.beans?l.beans:[]);i.push(...o);const a=[];return i.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},M4=class extends Re{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function Aae(e){e.expansionService.expandAll(!0)}function Dae(e){e.expansionService.expandAll(!1)}function Mae(e){var n,s;const t=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel(),r=(s=e.rowModelHelperService)==null?void 0:s.getServerSideRowModel();t?t.onRowHeightChanged():r&&r.onRowHeightChanged()}function Nae(e,t,r){var i,o;const n=(i=e.rowModelHelperService)==null?void 0:i.getServerSideRowModel();if(n){if(e.funcColsService.isRowGroupEmpty()){n.setRowCount(t,r);return}Qt("setRowCount cannot be used while using row grouping.");return}const s=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel();if(s){s.setRowCount(t,r);return}}function Iae(e){var t;return((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function Oae(e){return e.rowModel.isLastRowIndexKnown()}var kae={version:Tt,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:Aae,collapseAll:Dae,onRowHeightChanged:Mae}},Lae={version:Tt,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:Nae,getCacheBlockState:Iae,isLastRowIndexKnown:Oae}},_ae=class{wrap(e,t,r=[],n){const s=this.createWrapper(e,n);return t.forEach(i=>{this.createMethod(s,i,!0)}),r.forEach(i=>{this.createMethod(s,i,!1)}),s}createMethod(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))}createMethodProxy(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&Te("Framework component is missing the method "+t+"()"),null)}}},Kd=typeof global>"u"?{}:global;Kd.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Kd.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Kd.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Kd.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Kd.Node=typeof Node>"u"?{}:Node;Kd.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var jae="ROOT_NODE_ID",LS=0,Bae=class{constructor(e,t,r,n,s,i){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=r,this.funcColsService=n,this.beans=i,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=jae,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return ZL(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){Te("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,r=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((n,s)=>this.createNode(n,this.rootNode,LS,s)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=t.childrenAfterFilter,r.childrenAfterGroup=t.childrenAfterGroup,r.childrenAfterAggFilter=t.childrenAfterAggFilter,r.childrenAfterSort=t.childrenAfterSort,r.childrenMapped=t.childrenMapped,r.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[];return this.executeRemove(e,t,r),this.executeUpdate(e,t,r),this.executeAdd(e,t),this.updateSelection(r,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,r=(t==null?void 0:t.length)??0,n=new Map;let s=-1,i=-1;for(let o=0;o<r;++o){const a=t[o],l=a.data;l!==e[o]&&(i<0&&(s=o),i=o,n.set(l,a))}if(s<0)return!1;for(let o=s;o<=i;++o){const a=n.get(e[o]);a!==void 0&&(t[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const r=e.length>0;r&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),r&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const r=e.add;if($s(r))return;const n=this.rootNode.allLeafChildren;let s=n.length;if(typeof e.addIndex=="number"&&(s=this.sanitizeAddIndex(e.addIndex),s>0&&this.gos.get("treeData")))for(let l=0;l<n.length;l++){const u=n[l];if((u==null?void 0:u.rowIndex)==s-1){s=l+1;break}}const i=r.map((a,l)=>this.createNode(a,this.rootNode,LS,s+l));if(s<n.length){const a=n.slice(0,s),l=n.slice(s,n.length),u=a.length+i.length;for(let f=0,p=l.length;f<p;++f)l[f].sourceRowIndex=u+f;this.rootNode.allLeafChildren=[...a,...i,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=n.concat(i);const o=this.rootNode.sibling;o&&(o.allLeafChildren=n),t.rowNodeTransaction.add=i}sanitizeAddIndex(e){var r;const t=((r=this.rootNode.allLeafChildren)==null?void 0:r.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},r){var o,a;const{remove:n}=e;if($s(n))return;const s={};n.forEach(l=>{const u=this.lookupRowNode(l);u&&(u.isSelected()&&r.push(u),u.clearRowTopAndRowIndex(),s[u.id]=!0,delete this.allNodesMap[u.id],t.remove.push(u))}),this.rootNode.allLeafChildren=((o=this.rootNode.allLeafChildren)==null?void 0:o.filter(l=>!s[l.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((l,u)=>{l.sourceRowIndex=u});const i=this.rootNode.sibling;i&&(i.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},r){const{update:n}=e;$s(n)||n.forEach(s=>{const i=this.lookupRowNode(s);i&&(i.updateData(s),!i.selectable&&i.isSelected()&&r.push(i),this.setMasterForRow(i,s,LS,!1),t.update.push(i))})}lookupRowNode(e){var n;const t=Wd(this.gos);let r;if(t){const s=t({data:e,level:0});if(r=this.allNodesMap[s],!r)return Qt(`could not find row id=${s}, data item was not found for this id`),null}else if(r=(n=this.rootNode.allLeafChildren)==null?void 0:n.find(s=>s.data===e),!r)return Qt("could not find data item as object was not found",e),Qt("Consider using getRowId to help the Grid find matching row data"),null;return r||null}createNode(e,t,r,n){const s=new Yo(this.beans);return s.sourceRowIndex=n,s.group=!1,this.setMasterForRow(s,e,r,!0),t&&(s.parent=t),s.level=r,s.setDataAndId(e,this.nextId.toString()),this.allNodesMap[s.id]&&Te(`duplicate node id '${s.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[s.id]=s,this.nextId++,s}setMasterForRow(e,t,r,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=r+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},Gae=class extends Re{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=is(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),r=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:r,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Yo(this.beans),this.nodeManager=new Bae(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),r=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),i=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...r,...n,...n,...s,...i,...o,...a];this.addManagedPropertyListeners(l,u=>{var g;const f=(g=u.changeSet)==null?void 0:g.properties;if(!f)return;const p=C=>f.some(S=>C.has(S));if(p(e)){this.setRowData(this.rootNode.allLeafChildren.map(C=>C.data));return}if(p(t)){this.refreshModel({step:"group"});return}if(p(r)){this.refreshModel({step:"filter"});return}if(p(n)){this.refreshModel({step:"pivot"});return}if(p(s)){this.refreshModel({step:"aggregate"});return}if(p(i)){this.refreshModel({step:"sort"});return}if(p(o)){this.refreshModel({step:"filter_aggregates"});return}p(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,r,n){let s,i=!1;do{s=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,r),u=Math.min(a,n);for(let f=l;f<=u;f++){const p=this.getRow(f);if(p.rowHeightEstimated){const g=dl(this.gos,p);p.setRowHeight(g.height),s=!0,i=!0}}s&&this.setRowTopAndRowIndex()}while(s);return i}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const r=new Set,n=bn(this.gos,"normal");for(let s=0;s<this.rowsToDisplay.length;s++){const i=this.rowsToDisplay[s];if(i.id!=null&&r.add(i.id),i.rowHeight==null){const o=dl(this.gos,i,n,e);i.setRowHeight(o.height,o.estimated)}i.setRowTop(t),i.setRowIndex(s),t+=i.rowHeight}return r}clearRowTopAndRowIndex(e,t){const r=e.isActive(),n=i=>{i&&i.id!=null&&!t.has(i.id)&&i.clearRowTopAndRowIndex()},s=i=>{if(n(i),n(i.detailNode),n(i.sibling),i.hasChildren()&&i.childrenAfterGroup){const o=i.level==-1;r&&!o&&!i.expanded||i.childrenAfterGroup.forEach(s)}};s(this.rootNode)}ensureRowsAtPixel(e,t,r=0){const n=this.getRowIndexAtPixel(t),s=this.getRow(n),i=!this.gos.get("suppressAnimationFrame");if(s===e[0])return!1;const o=this.rootNode.allLeafChildren;return e.forEach(a=>{os(o,a)}),e.forEach((a,l)=>{xv(o,a,Math.max(n+r,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:i,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const r=t!=null?this.getRowIndexAtPixel(t):null,n=r!=null?this.getRow(r):null;if(!n||!e||t==null){this.clearHighlightedRow();return}const s=this.getHighlightPosition(t,n),i=this.isHighlightingCurrentPosition(e,n,s),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(i||o)&&(this.clearHighlightedRow(),i)||(n.setHighlighted(s),this.lastHighlightedRow=n)}getHighlightPosition(e,t){if(!t){const s=this.getRowIndexAtPixel(e);if(t=this.getRow(s||0),!t)return 1}const{rowTop:r,rowHeight:n}=t;return e-r<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,r){if(e===t)return!0;const n=r===0?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,r=this.rootNode.sibling?1:0;return(t?t.length:0)+r}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let r=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;r-=1}const n=this.rowsToDisplay[this.rowsToDisplay.length-1],s=r>=this.rootNode.childrenAfterSort.length;if(n.footer&&s)return n.rowIndex;let i=this.rootNode.childrenAfterSort[r];if(this.gos.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(Gt(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Ju(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Ju(this.gos),n=e.columns.length===0||e.columns.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Ju(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=$s(e),r=new N0(!1,this.rootNode);return t&&r.setInactive(),r}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const r={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(Le(e)&&(t=r[e]),Gt(t)){Qt(`invalid step ${e}, available steps are ${Object.keys(r).join(", ")}`);return}const n=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const r=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,r,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(t.rowNodeTransactions,r);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=Gt(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Gt(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return Le(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let r=!1,n=!1;const s=[],i=Pc(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(n)return;if(r&&(o===t||o===e)&&(n=!0,o.group&&i)){s.push(...o.allLeafChildren);return}if(!r){if(o!==t&&o!==e)return;r=!0}if(!o.group||!i){s.push(o);return}}),s}setDatasource(e){Qt("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Bt(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let s=-1,i=-1;for(;;){const o=Math.floor((t+r)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(r=o-1),s===t&&i===r))return o;s=t,i=r}}isRowInPixel(e,t){const r=e.rowTop,n=e.rowTop+e.rowHeight;return r<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,r)=>e(t,r))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:r,recursionType:n,includeFooterNodes:s}=e;let{index:i}=e;const o=a=>{var C;const l=(C=t[0])==null?void 0:C.parent;if(!l)return;const u=s&&WL(this.gos),f=UL(this.gos),p=s&&f({node:l});if(l===this.rootNode){u===a&&(l.createFooter(),r(l.sibling,i++));return}p===a&&(l.createFooter(),r(l.sibling,i++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(r(l,i++),l.hasChildren()&&!l.footer){let u=null;switch(n){case 0:u=l.childrenAfterGroup;break;case 1:u=l.childrenAfterAggFilter;break;case 2:u=l.childrenAfterSort;break;case 3:u=l.leafGroup?null:l.childrenAfterSort;break}u&&(i=this.recursivelyWalkNodesAndCallback({nodes:[...u],callback:r,recursionType:n,index:i,includeFooterNodes:s}))}}return o("bottom"),i}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),r=this.columnModel.isPivotActive(),n=s=>{s&&s.forEach(i=>{const o=()=>{i.expanded=e,n(i.childrenAfterGroup)};if(t){Le(i.childrenAfterGroup)&&o();return}if(r){!i.leafGroup&&o();return}i.group&&o()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,r,n){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:r,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:n}),Pc(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const s=this.rootNode,i=s.sibling;s.childrenAfterGroup=s.allLeafChildren,i&&(i.childrenAfterGroup=s.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(Yo.ID_PREFIX_ROW_GROUP)==0){let r;return this.forEachNode(n=>{n.id===e&&(r=n)}),r}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const r=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var n;this.valueCache.onDataChanged();const e=[],t=[];let r=!1;(n=this.rowDataTransactionBatch)==null||n.forEach(s=>{const{rowNodeTransaction:i,rowsInserted:o}=this.nodeManager.updateRowData(s.rowDataTransaction);o&&(r=!0),t.push(i),s.callback&&e.push(s.callback.bind(null,i))}),this.commonUpdateRowData(t,r),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:r}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],r),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const r=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:r})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function Hae(e){e.expansionService.onGroupExpandedOrCollapsed()}function Vae(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.refreshModel(t)}function Wae(e){var t,r;return((r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:r.isEmpty())??!0}function Uae(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachLeafNode(t)}function zae(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilter(t)}function $ae(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilterAndSort(t)}function Kae(e){var t,r;if(e.columnModel.isAutoRowHeightActive()){Te("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||r.resetRowHeights()}function qae(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var r,n;return(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null?void 0:n.updateRowData(t)})}function Yae(e,t,r){e.frameworkOverrides.wrapIncoming(()=>{var n,s;return(s=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null?void 0:s.batchUpdateRowData(t,r)})}function Qae(e){e.frameworkOverrides.wrapIncoming(()=>{var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:r.flushAsyncTransactions()})}function Xae(e){return e.selectionService.getBestCostNodeSelection()}var Jae=class extends Re{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var r;const t=!!((r=this.filterManager)!=null&&r.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const r=(n,s)=>{n.hasChildren()&&e&&!s?n.childrenAfterFilter=n.childrenAfterGroup.filter(i=>{const o=i.childrenAfterFilter&&i.childrenAfterFilter.length>0,a=i.data&&this.filterManager.doesRowPassFilter({rowNode:i});return o||a}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(i,o)=>{if(i.childrenAfterGroup)for(let a=0;a<i.childrenAfterGroup.length;a++){const l=i.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(i.childrenAfterGroup[a],u):r(l,u)}r(i,o)},s=i=>n(i,!1);t.executeFromRootNode(s)}else{const n=s=>r(s,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Zae=class extends Re{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,r=[],n=this.columnModel.isPivotMode(),s=n&&t.leafGroup,i=s?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,i,r,n,0);const a=r.length>0;if(!s&&a&&o.grandTotalRow){t.createFooter();const u=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,r,0,u)}return r}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:zL(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:WL(this.gos),groupTotalRow:UL(this.gos)}}recursivelyAddToRowsToDisplay(e,t,r,n,s){if(!$s(t))for(let i=0;i<t.length;i++){const o=t[i],a=o.hasChildren(),l=n&&!a,u=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,f=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,p=n&&o.leafGroup,g=e.hideOpenParents&&o.expanded&&!o.master&&!p;if(!l&&!g&&!u&&!f&&this.addRowNodeToRowsToDisplay(e,o,r,s),!(n&&o.leafGroup)){if(a){const S=u||f;if(o.expanded||S){const y=e.groupTotalRow({node:o});y||o.destroyFooter();const w=S?s:s+1;y==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,w)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,r,n,w),y==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,w))}}else if(o.master&&o.expanded){const S=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,S,r,s)}}}}addRowNodeToRowsToDisplay(e,t,r,n,s){s?r.unshift(t):r.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(Le(e.detailNode))return e.detailNode;const t=new Yo(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,Le(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},ele=class extends Re{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){Sr(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const r=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:n,rowsInserted:s}=r.updateRowData(t);let i=!1;this.gos.get("suppressMaintainUnsortedOrder")||(i=r.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(n,i||s)}createTransactionForRowData(e){if(!Sr(this.gos))return Qt("ImmutableService only works with ClientSideRowModel"),null;const t=Wd(this.gos);if(t==null)return Qt("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const r=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),n=[],s=[],i=[];return Le(e)&&e.forEach(o=>{const a=t({data:o,level:0}),l=r[a];l?(l.data!==o&&s.push(o),r[a]=void 0):i.push(o)}),Li(r,(o,a)=>{a&&n.push(a.data)}),{remove:n,update:s,add:i}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},tle=class extends Re{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,r,n,s,i){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(g=>g.isRowGroupActive());let l={};r&&n&&(l=this.calculateDirtyNodes(n));const u=this.columnModel.isPivotMode(),f=this.gos.getCallback("postSortRows"),p=g=>{var y;this.pullDownGroupDataForHideOpenParents(g.childrenAfterAggFilter,!0);const C=u&&g.leafGroup;if(o&&a&&!g.leafGroup&&!i){const w=(y=this.funcColsService.getRowGroupColumns())==null?void 0:y[g.level+1],b=(w==null?void 0:w.getSort())===null,F=g.childrenAfterAggFilter.slice(0);if(g.childrenAfterSort&&!b){const E={};g.childrenAfterSort.forEach((R,A)=>{E[R.id]=A}),F.sort((R,A)=>(E[R.id]??0)-(E[A.id]??0))}g.childrenAfterSort=F}else!t||C?g.childrenAfterSort=g.childrenAfterAggFilter.slice(0):r?g.childrenAfterSort=this.doDeltaSort(g,l,s,e):g.childrenAfterSort=this.rowNodeSorter.doFullSort(g.childrenAfterAggFilter,e);if(g.sibling&&(g.sibling.childrenAfterSort=g.childrenAfterSort),this.updateChildIndexes(g),f){const w={nodes:g.childrenAfterSort};f(w)}};s&&s.forEachChangedNodeDepthFirst(p),this.updateGroupDataForHideOpenParents(s)}calculateDirtyNodes(e){const t={},r=n=>{n&&n.forEach(s=>t[s.id]=!0)};return e&&e.forEach(n=>{r(n.add),r(n.update),r(n.remove)}),t}doDeltaSort(e,t,r,n){const s=e.childrenAfterAggFilter,i=e.childrenAfterSort;if(!i)return this.rowNodeSorter.doFullSort(s,n);const o={},a=[];s.forEach(p=>{t[p.id]||!r.canSkip(p)?a.push(p):o[p.id]=!0});const l=i.filter(p=>o[p.id]),u=(p,g)=>({currentPos:g,rowNode:p}),f=a.map(u).sort((p,g)=>this.rowNodeSorter.compareRowNodes(n,p,g));return this.mergeSortedArrays(n,f,l.map(u)).map(({rowNode:p})=>p)}mergeSortedArrays(e,t,r){const n=[];let s=0,i=0;for(;s<t.length&&i<r.length;)this.rowNodeSorter.compareRowNodes(e,t[s],r[i])<0?n.push(t[s++]):n.push(r[i++]);for(;s<t.length;)n.push(t[s++]);for(;i<r.length;)n.push(r[i++]);return n}updateChildIndexes(e){if(Gt(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let r=0;r<t.length;r++){const n=t[r],s=r===0,i=r===e.childrenAfterSort.length-1;n.setFirstChild(s),n.setLastChild(i),n.setChildIndex(r)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return Te("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=r=>{this.pullDownGroupDataForHideOpenParents(r.childrenAfterSort,!1),r.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(r=>t(r))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Gt(e)||e.forEach(r=>{var s;(((s=this.showRowGroupColsService)==null?void 0:s.getShowRowGroupCols())??[]).forEach(i=>{const o=i.getColDef().showRowGroup;if(typeof o!="string"){Qt("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,l=this.columnModel.getColDefCol(a);if(l!==r.rowGroupColumn)if(t)r.setGroupValue(i.getId(),void 0);else{const f=this.getFirstChildOfFirstChild(r,l);f&&r.setGroupValue(i.getId(),f.key)}})})}getFirstChildOfFirstChild(e,t){let r=e;for(;r;){const n=r.parent;if(n&&r.firstChild){if(n.rowGroupColumn===t)return n}else return null;r=n}return null}},rle=class extends Re{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),r=Le(t)&&t.length>0,n=r&&Le(e.rowNodeTransactions)&&this.gos.get("deltaSort"),s=t.some(i=>ao(this.gos)?i.column.isPrimary()&&i.column.isRowGroupActive():!!i.column.getColDef().showRowGroup);this.sortService.sort(t,r,n,e.rowNodeTransactions,e.changedPath,s)}},Bb="32.3.7",N4={version:Bb,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[Gae,Jae,rle,Zae,tle,ele]},nle={version:Bb,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[M4],apiFunctions:{onGroupExpandedOrCollapsed:Hae,refreshClientSideRowModel:Vae,isRowDataEmpty:Wae,forEachLeafNode:Uae,forEachNodeAfterFilter:zae,forEachNodeAfterFilterAndSort:$ae,resetRowHeights:Kae,applyTransaction:qae,applyTransactionAsync:Yae,flushAsyncTransactions:Qae,getBestCostNodeSelection:Xae},dependantModules:[N4,kae]},sle={version:Bb,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[N4,nle]},ile=class extends Re{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},ole=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:r,columnNameService:n,valueService:s,gos:i,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.columnModel=t,this.funcColsService=r,this.columnNameService=n,this.valueService=s,this.gos=i,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,r,n,s){const o=(!this.gos.get("groupHideOpenParents")||s.footer)&&this.shouldRenderGroupSummaryCell(s,e,t)?this.createValueForGroupNode(e,s):this.valueService.getValue(e,s);return this.processCell({accumulatedRowIndex:r,rowNode:s,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,r){var o;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){const a=(o=e.groupData)==null?void 0:o[t.getId()],l=this.gos.get("suppressGroupMaintainValueType");if(l&&a!=null||!l&&a!==void 0||So(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const u=t.getColDef();return u==null||u.showRowGroup===!0||u.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const i=F0(this.gos,this.columnModel.isPivotMode());return r===0&&i}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const r=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),s=l=>{var f;if(r||n)return l.key;const u=(f=l.groupData)==null?void 0:f[e.getId()];return!u||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?u:this.valueService.formatValue(l.rowGroupColumn,l,u)??u},i=t.footer,o=[s(t)];if(!zL(this.gos))for(;t.parent;)t=t.parent,o.push(s(t));const a=o.reverse().join(" -> ");return i?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:r,column:n,value:s,processCellCallback:i,type:o}=e;return i?{value:i(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:r,value:s,type:o,parseValue:a=>this.valueService.parseValue(n,r,a,this.valueService.getValue(n,r)),formatValue:a=>this.valueService.formatValue(n,r,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueService.formatValue(n,r,s)}:{value:s??""}}},ale=class{static download(e,t){const r=document.defaultView||window;if(!r){Te("There is no `window` associated with the current `document`");return}const n=document.createElement("a"),s=r.URL.createObjectURL(t);n.setAttribute("href",s),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(()=>{r.URL.revokeObjectURL(s)},0)}},zD=`\r
`,lle=class extends ole{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:r}=e;this.suppressQuotes=t,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,zD),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,r){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Te("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=zD),this.isFirstLine=!1}},cle=class extends ile{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Te("Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\uFEFF",r],{type:"text/plain"}),s=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;ale.download(this.getFileName(s),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:r,funcColsService:n,valueService:s,gos:i}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:f,columnSeparator:p}=e;return new lle({columnModel:t,columnNameService:r,funcColsService:n,valueService:s,gos:i,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:f||!1,columnSeparator:p||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function ule(e,t){var r;return(r=e.csvCreator)==null?void 0:r.getDataAsCsv(t)}function dle(e,t){var r;(r=e.csvCreator)==null||r.exportDataAsCsv(t)}var hle=class extends Re{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:r,columnKeys:n,skipRowGroups:s}=t,i=this.getColumnsToExport(r,s,n);return HX(this.prepareSession(i),this.prependContent(t),this.exportColumnGroups(t,i),this.exportHeaders(t,i),this.processPinnedTopRows(t,i),this.processRows(t,i),this.processPinnedBottomRows(t,i),this.appendContent(t))(e).parse()}processRow(e,t,r,n){var b;const s=t.shouldRowBeSkipped||(()=>!1),i=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=t.rowPositions!=null||!!t.onlySelected,u=this.gos.get("groupHideOpenParents")&&!l,f=this.columnModel.isPivotMode()?n.leafGroup:!n.group,p=!!n.footer,g=o&&n.leafGroup,C=n.allChildrenCount===1&&((b=n.childrenAfterGroup)==null?void 0:b.length)===1&&(i||g);if(!f&&!p&&(t.skipRowGroups||C||u)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!f&&!p||s(this.gos.addGridCommonParams({node:n})))return;const w=e.onNewBodyRow(n);if(r.forEach((F,E)=>{w.onColumn(F,E,n)}),t.getCustomContentBelowRow){const F=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));F&&e.addCustomContent(F)}}appendContent(e){return t=>{const r=e.appendContent;return r&&t.addCustomContent(r),t}}prependContent(e){return t=>{const r=e.prependContent;return r&&t.addCustomContent(r),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return r=>{if(!e.skipColumnGroupHeaders){const n=new n_,s=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(s,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,t){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();t.forEach((s,i)=>{n.onColumn(s,i,void 0)})}return r}}processPinnedTopRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,i)=>s.rowIndex-i.rowIndex).map(s=>this.pinnedRowModel.getPinnedTopRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),r}}processRows(e,t){return r=>{const n=this.rowModel,s=Sr(this.gos),i=So(this.gos),o=!s&&e.onlySelected,a=this.processRow.bind(this,r,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(u=>u.rowPinned==null).sort((u,f)=>u.rowIndex-f.rowIndex).map(u=>n.getRow(u.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())s?n.forEachPivotNode(a,!0):i?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||o){const u=this.selectionService.getSelectedNodes();this.replicateSortedOrder(u),u.forEach(a)}else l==="all"?n.forEachNode(a):s||i?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return r}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),r=(n,s)=>{var i,o;return n.rowIndex!=null&&s.rowIndex!=null?n.rowIndex-s.rowIndex:n.level===s.level?((i=n.parent)==null?void 0:i.id)===((o=s.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):r(n.parent,s.parent):n.level>s.level?r(n.parent,s):r(n,s.parent)};e.sort(r)}processPinnedBottomRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,i)=>s.rowIndex-i.rowIndex).map(s=>this.pinnedRowModel.getPinnedBottomRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),r}}getColumnsToExport(e=!1,t=!1,r){const n=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getColsForKeys(r);const s=this.gos.get("treeData");let i=[];return e&&!n?i=this.columnModel.getCols():i=this.visibleColsService.getAllCols(),t&&!s&&(i=i.filter(o=>!tx(o)&&!bp(o))),i}recursivelyAddHeaderGroups(e,t,r){const n=[];e.forEach(s=>{const i=s;i.getChildren&&i.getChildren().forEach(o=>n.push(o))}),e.length>0&&Ur(e[0])&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)}doAddHeaderHeader(e,t,r){const n=e.onNewHeaderGroupingRow();let s=0;t.forEach(i=>{const o=i;let a;r?a=r(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnNameService.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,f,p,g)=>{let C=Bt(u);return f.getColumnGroupShow()==="open"?(!C||C[1]!=null)&&(C=[p],u.push(C)):C&&C[1]==null&&(C[1]=p-1),p===g.length-1&&C&&C[1]==null&&(C[1]=p),u},[]);n.onColumn(o,a||"",s++,o.getLeafColumns().length-1,l)})}},Gb="32.3.7",I4={version:Gb,moduleName:"@ag-grid-community/csv-export-core",beans:[cle,hle]},fle={version:Gb,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:ule,exportDataAsCsv:dle},dependantModules:[I4]},ple={version:Gb,moduleName:"@ag-grid-community/csv-export",dependantModules:[I4,fle]},gle=class extends Cne{wireBeans(e){this.beans=e}constructor(e,t,r){super(e),this.parentCache=t,this.params=r,this.startRow=e*r.blockSize,this.endRow=this.startRow+r.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,r){Le(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Gt(this.params.datasource.getRows)){Te("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,r){this.rowNodes.forEach((n,s)=>{this.startRow+s<r&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const r=e-this.startRow;return this.rowNodes[r]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,r=new Yo(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(t),r.setRowTop(this.params.rowHeight*t),this.rowNodes.push(r)}}processServerResult(e){this.rowNodes.forEach((r,n)=>{const s=e.rowData?e.rowData[n]:void 0;!r.id&&r.alreadyRendered&&s&&(this.rowNodes[n]=new Yo(this.beans),this.rowNodes[n].setRowIndex(r.rowIndex),this.rowNodes[n].setRowTop(r.rowTop),this.rowNodes[n].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],s,this.startRow+n)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},mle=2,vle=class extends Re{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(t)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const t=this.createBean(new gle(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&ji(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),r=(o,a)=>a.getLastAccessed()-o.getLastAccessed();t.sort(r);const n=this.params.maxBlocksInCache>0,s=n?this.params.maxBlocksInCache-1:null,i=mle-1;t.forEach((o,a)=>{const l=o.getState()==="needsLoading"&&a>=i,u=n?a>=s:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const r=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=r&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,r)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,Le(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Fd;this.getBlocksInOrder().forEach(r=>r.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(r,n)=>r.getId()-n.getId();return nx(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const r=[];let n=-1,s=!1;const i=new Fd;let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(s&&n+1!==l.getId()){o=!0;return}n=l.getId(),l.forEachNode(u=>{const f=u===e||u===t;(s||f)&&r.push(u),f&&(s=!s)},i,this.rowCount)}}),o||s?[]:r}},Cle=class extends Re{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=gc(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&Te("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=gc(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!Bf(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;Wd(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:gc(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Fd},this.infiniteCache=this.createBean(new vle(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(r=>{r.id===e&&(t=r)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function yle(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.refreshCache()}function Sle(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.purgeCache()}function wle(e){var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null?void 0:r.getRowCount()}var Hb="32.3.7",O4={version:Hb,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[Cle],dependantModules:[Sne]},xle={version:Hb,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[M4],apiFunctions:{refreshInfiniteCache:yle,purgeInfiniteCache:Sle,getInfiniteRowCount:wle},dependantModules:[O4,Lae]},ble={version:Hb,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[O4,xle]};lo.__registerModules([E4,sle,ble,ple],!1,void 0);var Bn=De.createContext({}),Pp=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const i=e.newAgStackInstance();if(i==null)return;let o,a,l=!1;return i.then(u=>{if(l){t.destroyBean(u);return}o=u,a=o.getGui(),r.appendChild(a),$D(n,o)}),()=>{var u;l=!0,o&&((u=a==null?void 0:a.parentElement)==null||u.removeChild(a),t.destroyBean(o),n&&$D(n,void 0))}},$D=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},Oi=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),di=class k4{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new k4;return s.classesMap={...this.classesMap},s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},qd=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},jM,vx=(jM=De.version)==null?void 0:jM.split(".")[0],Rle=vx==="16"||vx==="17";function Ele(){return vx==="19"}var Km=!1;function Fle(e){return Km||setTimeout(()=>Km=!1,0),Km=!0,e()}var Vb=(e,t)=>{!Rle&&e&&!Km?rN.flushSync(t):t()};function Wb(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],s=[],i=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];i.set(l.instanceId,l),o.has(l.instanceId)&&n.push(l)}for(let a=0;a<t.length;a++){const l=t[a],u=l.instanceId;i.has(u)||s.push(l)}return n.length===e.length&&s.length===0?e:n.length===0&&s.length===t.length?t:n.length===0?s:s.length===0?n:[...n,...s]}var L4=v.forwardRef((e,t)=>{var ae;const{ctrlsFactory:r,context:n}=v.useContext(Bn),s=v.useRef(null),i=v.useRef(null),o=v.useRef(null),a=v.useRef(null),l=v.useRef(null),u=v.useRef(),[f,p]=v.useState(),[g,C]=v.useState(),[S,y]=v.useState(),[w,b]=v.useState(()=>new di),[F,E]=v.useState(()=>new di("ag-hidden")),[R,A]=v.useState(()=>new di("ag-hidden")),[D,M]=v.useState(()=>new di("ag-invisible"));v.useImperativeHandle(t,()=>({refresh(){return!1}})),v.useLayoutEffect(()=>Pp(f,n,i.current),[f]);const I=v.useCallback(Z=>{if(s.current=Z,!Z){u.current=n.destroyBean(u.current);return}const re={setInnerRenderer:(z,N)=>{p(z),y(N)},setChildCount:z=>C(z),addOrRemoveCssClass:(z,N)=>b(O=>O.setClass(z,N)),setContractedDisplayed:z=>A(N=>N.setClass("ag-hidden",!z)),setExpandedDisplayed:z=>E(N=>N.setClass("ag-hidden",!z)),setCheckboxVisible:z=>M(N=>N.setClass("ag-invisible",!z))},ue=r.getInstance("groupCellRendererCtrl");ue&&(u.current=n.createBean(ue),u.current.init(re,Z,o.current,a.current,l.current,L4,e))},[]),L=v.useMemo(()=>`ag-cell-wrapper ${w.toString()}`,[w]),j=v.useMemo(()=>`ag-group-expanded ${F.toString()}`,[F]),W=v.useMemo(()=>`ag-group-contracted ${R.toString()}`,[R]),B=v.useMemo(()=>`ag-group-checkbox ${D.toString()}`,[D]),ie=f&&f.componentFromFramework,Se=ie?f.componentClass:void 0,Ee=f==null&&S!=null,xe=fo(S,!0);return De.createElement("span",{className:L,ref:I,...e.colDef?{}:{role:(ae=u.current)==null?void 0:ae.getCellAriaRole()}},De.createElement("span",{className:j,ref:a}),De.createElement("span",{className:W,ref:l}),De.createElement("span",{className:B,ref:o}),De.createElement("span",{className:"ag-group-value",ref:i},Ee&&De.createElement(De.Fragment,null,xe),ie&&De.createElement(Se,{...f.params})),De.createElement("span",{className:"ag-group-child-count"},g))}),KD=L4,Ub=v.createContext({setMethods:()=>{}}),Tle=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:s}=e,[{key:i,...o},a]=v.useState(t);return v.useEffect(()=>{r(l=>a(l))},[]),De.createElement(Ub.Provider,{value:{setMethods:s}},De.createElement(n,{key:i,...o}))},Ple=v.memo(Tle),Ale=0;function qD(){return`agPortalKey_${++Ale}`}var _4=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=qD(),this.portalKey=qD(),this.instanceCreated=this.isStatelessComponent()?_r.resolve(!1):new _r(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(Te('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(Te('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new _r(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=jc.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return v.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function zb(e,t,r){e.forEach(n=>{const s=t[n];s&&(r[n]=s)})}var xo=class extends _4{constructor(){super(...arguments),this.awaitUpdateCallback=new _r(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Ple}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new _r(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,zb(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new _r(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Dle=class extends xo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Mle=class extends xo{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Nle=class extends xo{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},Ile=class extends xo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function j4(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||_r.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Ole=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){zb(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),j4(this.floatingFilterParams,e)}},kle=class extends xo{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),j4(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Lle=class extends xo{refresh(e){this.sourceParams=e,this.refreshProps()}},_le=class extends xo{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},jle=class extends xo{refresh(e){this.sourceParams=e,this.refreshProps()}},Ble=class extends xo{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Gle=class extends xo{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function $b(){Te("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var Hle=1e3,Vle=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Hle}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},Wle=({ctrl:e})=>{const t=e.isAlive(),{context:r}=v.useContext(Bn),n=t?e.getColId():void 0,[s,i]=v.useState(),o=v.useRef(),a=v.useRef(null),l=v.useRef(null),u=v.useRef(null),f=v.useRef(),p=v.useRef();t&&!p.current&&(p.current=new Ep(()=>a.current));const g=v.useCallback(w=>{var E;if(a.current=w,o.current=w?r.createBean(new Ud):r.destroyBean(o.current),!w||!t)return;const b={setWidth:R=>{a.current&&(a.current.style.width=R)},addOrRemoveCssClass:(R,A)=>p.current.addOrRemoveCssClass(R,A),setAriaSort:R=>{a.current&&(R?HJ(a.current,R):VJ(a.current))},setUserCompDetails:R=>i(R),getUserCompInstance:()=>f.current||void 0};e.setComp(b,w,l.current,u.current,o.current);const F=e.getSelectAllGui();(E=l.current)==null||E.insertAdjacentElement("afterend",F),o.current.addDestroyFunc(()=>F.remove())},[]);v.useLayoutEffect(()=>Pp(s,r,u.current,f),[s]),v.useEffect(()=>{e.setDragSource(a.current)},[s]);const C=v.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&qd(s.componentClass)),[s]),S=s&&s.componentFromFramework,y=s&&s.componentClass;return De.createElement("div",{ref:g,className:"ag-header-cell","col-id":n,role:"columnheader"},De.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),De.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},S&&C&&De.createElement(y,{...s.params}),S&&!C&&De.createElement(y,{...s.params,ref:f})))},Ule=v.memo(Wle),zle=({ctrl:e})=>{const{context:t,gos:r}=v.useContext(Bn),[n,s]=v.useState(()=>new di("ag-header-cell","ag-floating-filter")),[i,o]=v.useState(()=>new di),[a,l]=v.useState(()=>new di("ag-floating-filter-button","ag-hidden")),[u,f]=v.useState("false"),[p,g]=v.useState(),[,C]=v.useState(1),S=v.useRef(),y=v.useRef(null),w=v.useRef(null),b=v.useRef(null),F=v.useRef(null),E=v.useRef(),R=v.useRef(),A=xe=>{xe!=null&&E.current&&E.current(xe)},D=v.useCallback(xe=>{if(y.current=xe,S.current=xe?t.createBean(new Ud):t.destroyBean(S.current),!xe)return;R.current=new _r(Z=>{E.current=Z});const ae={addOrRemoveCssClass:(Z,re)=>s(ue=>ue.setClass(Z,re)),addOrRemoveBodyCssClass:(Z,re)=>o(ue=>ue.setClass(Z,re)),setButtonWrapperDisplayed:Z=>{l(re=>re.setClass("ag-hidden",!Z)),f(Z?"false":"true")},setWidth:Z=>{y.current&&(y.current.style.width=Z)},setCompDetails:Z=>g(Z),getFloatingFilterComp:()=>R.current?R.current:null,setMenuIcon:Z=>{var re;return(re=F.current)==null?void 0:re.appendChild(Z)}};e.setComp(ae,xe,F.current,w.current,S.current)},[]);v.useLayoutEffect(()=>Pp(p,t,w.current,A),[p]);const M=v.useMemo(()=>n.toString(),[n]),I=v.useMemo(()=>i.toString(),[i]),L=v.useMemo(()=>a.toString(),[a]),j=v.useMemo(()=>!!(p&&p.componentFromFramework&&qd(p.componentClass)),[p]),W=v.useMemo(()=>r.get("reactiveCustomComponents"),[]),B=v.useMemo(()=>{if(p)if(W){const xe=new Ole(p.params,()=>C(ae=>ae+1));return A(xe),xe}else p.componentFromFramework&&$b()},[p]),ie=B==null?void 0:B.getProps(),Se=p&&p.componentFromFramework,Ee=p&&p.componentClass;return De.createElement("div",{ref:D,className:M,role:"gridcell"},De.createElement("div",{ref:w,className:I,role:"presentation"},Se&&!W&&De.createElement(Ee,{...p.params,ref:j?()=>{}:A}),Se&&W&&De.createElement(Ub.Provider,{value:{setMethods:xe=>B.setMethods(xe)}},De.createElement(Ee,{...ie}))),De.createElement("div",{ref:b,"aria-hidden":u,className:L,role:"presentation"},De.createElement("button",{ref:F,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},$le=v.memo(zle),Kle=({ctrl:e})=>{const{context:t}=v.useContext(Bn),[r,n]=v.useState(()=>new di),[s,i]=v.useState(()=>new di),[o,a]=v.useState("false"),[l,u]=v.useState(),[f,p]=v.useState(),g=v.useMemo(()=>e.getColId(),[]),C=v.useRef(),S=v.useRef(null),y=v.useRef(null),w=v.useRef(null),b=v.useRef(),F=v.useCallback(I=>{if(S.current=I,C.current=I?t.createBean(new Ud):t.destroyBean(C.current),!I)return;const L={setWidth:j=>{S.current&&(S.current.style.width=j)},addOrRemoveCssClass:(j,W)=>n(B=>B.setClass(j,W)),setHeaderWrapperHidden:j=>{const W=w.current;W&&(j?W.style.setProperty("display","none"):W.style.removeProperty("display"))},setHeaderWrapperMaxHeight:j=>{const W=w.current;W&&(j!=null?W.style.setProperty("max-height",`${j}px`):W.style.removeProperty("max-height"),W.classList.toggle("ag-header-cell-comp-wrapper-limited-height",j!=null))},setUserCompDetails:j=>p(j),setResizableDisplayed:j=>{i(W=>W.setClass("ag-hidden",!j)),a(j?"false":"true")},setAriaExpanded:j=>u(j),getUserCompInstance:()=>b.current||void 0};e.setComp(L,I,y.current,w.current,C.current)},[]);v.useLayoutEffect(()=>Pp(f,t,w.current),[f]),v.useEffect(()=>{S.current&&e.setDragSource(S.current)},[f]);const E=v.useMemo(()=>!!((f==null?void 0:f.componentFromFramework)&&qd(f.componentClass)),[f]),R=v.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),A=v.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),D=f&&f.componentFromFramework,M=f&&f.componentClass;return De.createElement("div",{ref:F,className:R,"col-id":g,role:"columnheader","aria-expanded":l},De.createElement("div",{ref:w,className:"ag-header-cell-comp-wrapper",role:"presentation"},D&&E&&De.createElement(M,{...f.params}),D&&!E&&De.createElement(M,{...f.params,ref:b})),De.createElement("div",{ref:y,"aria-hidden":o,className:A}))},qle=v.memo(Kle),Yle=({ctrl:e})=>{const{context:t}=v.useContext(Bn),{topOffset:r,rowHeight:n}=v.useMemo(()=>e.getTopAndHeight(),[]),s=e.getAriaRowIndex(),i=e.getHeaderRowClass(),[o,a]=v.useState(()=>n+"px"),[l,u]=v.useState(()=>r+"px"),f=v.useRef(null),p=v.useRef(null),[g,C]=v.useState(()=>e.getHeaderCtrls()),S=v.useRef(),y=v.useRef(null),w=v.useCallback(E=>{if(y.current=E,S.current=E?t.createBean(new Ud):t.destroyBean(S.current),!E)return;const R={setHeight:A=>a(A),setTop:A=>u(A),setHeaderCtrls:(A,D,M)=>{p.current=f.current,f.current=A;const I=Wb(p.current,A,D);I!==p.current&&Vb(M,()=>C(I))},setWidth:A=>{y.current&&(y.current.style.width=A)}};e.setComp(R,S.current,!1)},[]),b=v.useMemo(()=>({height:o,top:l}),[o,l]),F=v.useCallback(E=>{switch(e.getType()){case hx.COLUMN_GROUP:return De.createElement(qle,{ctrl:E,key:E.instanceId});case hx.FLOATING_FILTER:return De.createElement($le,{ctrl:E,key:E.instanceId});default:return De.createElement(Ule,{ctrl:E,key:E.instanceId})}},[]);return De.createElement("div",{ref:w,className:i,role:"row",style:b,"aria-rowindex":s},g.map(F))},Qle=v.memo(Yle),Xle=({pinned:e})=>{const[t,r]=v.useState(!0),[n,s]=v.useState([]),{context:i}=v.useContext(Bn),o=v.useRef(null),a=v.useRef(null),l=v.useRef(),u=e==="left",f=e==="right",p=!u&&!f,g=v.useCallback(y=>{if(o.current=y,l.current=y?i.createBean(new Rte(e)):i.destroyBean(l.current),!y)return;const w={setDisplayed:r,setCtrls:b=>s(b),setCenterWidth:b=>{a.current&&(a.current.style.width=b)},setViewportScrollLeft:b=>{o.current&&(o.current.scrollLeft=b)},setPinnedContainerWidth:b=>{o.current&&(o.current.style.width=b,o.current.style.minWidth=b,o.current.style.maxWidth=b)}};l.current.setComp(w,o.current)},[]),C=t?"":"ag-hidden",S=()=>n.map(y=>De.createElement(Qle,{ctrl:y,key:y.instanceId}));return De.createElement(De.Fragment,null,u&&De.createElement("div",{ref:g,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},S()),f&&De.createElement("div",{ref:g,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},S()),p&&De.createElement("div",{ref:g,className:"ag-header-viewport "+C,role:"presentation"},De.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},S())))},_S=v.memo(Xle),Jle=()=>{const[e,t]=v.useState(()=>new di),[r,n]=v.useState(),{context:s}=v.useContext(Bn),i=v.useRef(null),o=v.useRef(),a=v.useCallback(f=>{if(i.current=f,o.current=f?s.createBean(new ate):s.destroyBean(o.current),!f)return;const p={addOrRemoveCssClass:(g,C)=>t(S=>S.setClass(g,C)),setHeightAndMinHeight:g=>n(g)};o.current.setComp(p,f,f)},[]),l=v.useMemo(()=>"ag-header "+e.toString(),[e]),u=v.useMemo(()=>({height:r,minHeight:r}),[r]);return De.createElement("div",{ref:a,className:l,style:u,role:"presentation"},De.createElement(_S,{pinned:"left"}),De.createElement(_S,{pinned:null}),De.createElement(_S,{pinned:"right"}))},Zle=v.memo(Jle),ece=(e,t)=>{v.useEffect(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const s=document.createComment(e);return n.insertBefore(s,r),()=>{n.removeChild(s)}}}},[e])},Zl=ece,tce=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new _r(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){zb(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},rce=e=>{const t=v.useRef(e),r=v.useRef(),n=v.useRef(!1),s=v.useRef(!1),[,i]=v.useState(0);n.current&&(s.current=!0),v.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),i(o=>o+1),()=>{var o;s.current&&((o=r.current)==null||o.call(r))}),[])},nce=e=>{const[t,r]=v.useState(),{context:n,popupService:s,localeService:i,gos:o,editService:a}=v.useContext(Bn);return rce(()=>{var R,A;const{editDetails:l,cellCtrl:u,eParentCell:f}=e,{compDetails:p}=l,g=o.get("stopEditingWhenCellsLoseFocus"),C=n.createBean(a.createPopupEditorWrapper(p.params)),S=C.getGui();if(e.jsChildComp){const D=e.jsChildComp.getGui();D&&S.appendChild(D)}const y={column:u.getColumn(),rowNode:u.getRowNode(),type:"popupCellEditor",eventSource:f,ePopup:S,position:l.popupPosition,keepWithinBounds:!0},w=s.positionPopupByComponent.bind(s,y),b=i.getLocaleTextFunc(),F=s.addPopup({modal:g,eChild:S,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:f,positionCallback:w,ariaLabel:b("ariaLabelCellEditor","Cell Editor")}),E=F?F.hideFunc:void 0;return r(C),(A=(R=e.jsChildComp)==null?void 0:R.afterGuiAttached)==null||A.call(R),()=>{E==null||E(),n.destroyBean(C)}}),De.createElement(De.Fragment,null,t&&e.wrappedContent&&jc.createPortal(e.wrappedContent,t.getGui()))},YD=v.memo(nce),sce=(e,t,r,n,s,i)=>{const{context:o}=v.useContext(Bn),a=v.useCallback(()=>{const l=s.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),s.current=void 0},[]);v.useEffect(()=>{const l=e!=null,u=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,f=t&&r==null;if(!(l&&u&&!f)){a();return}const g=e.compDetails;if(s.current){const S=s.current,w=S.refresh!=null&&e.force==!1?S.refresh(g.params):!1;if(w===!0||w===void 0)return;a()}const C=g.newAgStackInstance();C!=null&&C.then(S=>{if(!S)return;const y=S.getGui();if(!y)return;(t?r:i.current).appendChild(y),s.current=S})},[e,t,n]),v.useEffect(()=>a,[])},ice=sce,oce=(e,t,r)=>{const{compProxy:n}=e;r(n);const s=n.getProps(),i=qd(t);return De.createElement(Ub.Provider,{value:{setMethods:o=>n.setMethods(o)}},i?De.createElement(t,{...s}):De.createElement(t,{...s,ref:o=>n.setRef(o)}))},QD=(e,t,r)=>{const n=e.compProxy;return De.createElement(De.Fragment,null,n?oce(e,t,r):De.createElement(t,{...e.compDetails.params,ref:r}))},ace=(e,t,r,n,s)=>{const i=e.compDetails,o=i.componentClass,a=i.componentFromFramework&&!e.popup,l=i.componentFromFramework&&e.popup,u=!i.componentFromFramework&&e.popup;return De.createElement(De.Fragment,null,a&&QD(e,o,t),l&&De.createElement(YD,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:QD(e,o,t)}),u&&s&&De.createElement(YD,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:s}))},lce=(e,t,r,n,s,i,o)=>{const{compDetails:a,value:l}=e,u=!a,f=a&&a.componentFromFramework,p=a&&a.componentClass,g=l!=null&&l.toString?l.toString():l,C=()=>De.createElement(De.Fragment,null,u&&De.createElement(De.Fragment,null,g),f&&!i&&De.createElement(p,{...a.params,key:t,ref:n}),f&&i&&De.createElement(p,{...a.params,key:t}));return De.createElement(De.Fragment,null,s?De.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:o},C()):C())},cce=({cellCtrl:e,printLayout:t,editingRow:r})=>{const{context:n}=v.useContext(Bn),{colIdSanitised:s,instanceId:i}=e,o=v.useRef(),[a,l]=v.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,f]=v.useState(),[p,g]=v.useState(1),[C,S]=v.useState(),[y,w]=v.useState(!1),[b,F]=v.useState(!1),[E,R]=v.useState(!1),[A,D]=v.useState(),M=v.useMemo(()=>e.isForceWrapper(),[e]),I=v.useMemo(()=>e.getCellAriaRole(),[e]),L=v.useRef(null),j=v.useRef(null),W=v.useRef(),B=v.useRef(),ie=v.useRef(),Se=v.useRef([]),Ee=v.useRef(),[xe,ae]=v.useState(0),Z=v.useCallback(X=>{Ee.current=X,ae(ne=>ne+1)},[]),re=a!=null&&(y||E||b),ue=M||re,z=v.useCallback(X=>{if(B.current=X,X){const ne=X.isCancelBeforeStart&&X.isCancelBeforeStart();setTimeout(()=>{ne?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),N=v.useRef();N.current||(N.current=new Ep(()=>L.current)),ice(a,ue,Ee.current,xe,W,L);const O=v.useRef();v.useLayoutEffect(()=>{var Je;const X=O.current,ne=a;if(O.current=a,X==null||X.compDetails==null||ne==null||ne.compDetails==null)return;const Ne=X.compDetails,Ae=ne.compDetails;if(Ne.componentClass!=Ae.componentClass||((Je=j.current)==null?void 0:Je.refresh)==null)return;j.current.refresh(Ae.params)!=!0&&g(ft=>ft+1)},[a]),v.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const ne=u.compDetails,Ne=u.popup===!0,Ae=ne.newAgStackInstance();return Ae.then(Qe=>{if(!Qe)return;const Je=Qe.getGui();if(z(Qe),!Ne){const ft=(M?ie:L).current;ft==null||ft.appendChild(Je),Qe.afterGuiAttached&&Qe.afterGuiAttached()}D(Qe)}),()=>{Ae.then(Qe=>{var ft;const Je=Qe.getGui();n.destroyBean(Qe),z(void 0),D(void 0),(ft=Je==null?void 0:Je.parentElement)==null||ft.removeChild(Je)})}},[u]);const H=v.useCallback(X=>{if(ie.current=X,!X){Se.current.forEach(Ne=>Ne()),Se.current=[];return}const ne=Ne=>{if(Ne){const Ae=Ne.getGui();X.insertAdjacentElement("afterbegin",Ae),Se.current.push(()=>{n.destroyBean(Ne),Ac(Ae)})}return Ne};if(y){const Ne=e.createSelectionCheckbox();ne(Ne)}E&&ne(e.createDndSource()),b&&ne(e.createRowDragComp())},[e,n,E,b,y]),G=v.useCallback(X=>{if(L.current=X,o.current=X?n.createBean(new Ud):n.destroyBean(o.current),!X||!e)return;const ne={addOrRemoveCssClass:(Ae,Qe)=>N.current.addOrRemoveCssClass(Ae,Qe),setUserStyles:Ae=>S(Ae),getFocusableElement:()=>L.current,setIncludeSelection:Ae=>w(Ae),setIncludeRowDrag:Ae=>F(Ae),setIncludeDndSource:Ae=>R(Ae),getCellEditor:()=>B.current||null,getCellRenderer:()=>j.current??W.current,getParentOfValue:()=>Ee.current??ie.current??L.current,setRenderDetails:(Ae,Qe,Je)=>{l(ft=>(ft==null?void 0:ft.compDetails)!==Ae||(ft==null?void 0:ft.value)!==Qe||(ft==null?void 0:ft.force)!==Je?{value:Qe,compDetails:Ae,force:Je}:ft)},setEditDetails:(Ae,Qe,Je,ft)=>{if(Ae){let xt;ft?xt=new tce(Ae.params,()=>g(We=>We+1)):Ae.componentFromFramework&&$b(),f({compDetails:Ae,popup:Qe,popupPosition:Je,compProxy:xt}),Qe||l(void 0)}else f(xt=>{xt!=null&&xt.compProxy&&(B.current=void 0)})}},Ne=ie.current||void 0;e.setComp(ne,X,Ne,t,r,o.current)},[]),J=v.useMemo(()=>{var ne;return!!(((ne=a==null?void 0:a.compDetails)==null?void 0:ne.componentFromFramework)&&qd(a.compDetails.componentClass))},[a]);v.useLayoutEffect(()=>{var X;L.current&&(N.current.addOrRemoveCssClass("ag-cell-value",!ue),N.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),N.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),N.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),(X=e.getRowCtrl())==null||X.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&L.current.focus({preventScroll:!0}))});const oe=()=>De.createElement(De.Fragment,null,a!=null&&lce(a,p,i,j,ue,J,Z),u!=null&&ace(u,z,L.current,e,A)),ve=v.useCallback(()=>e.onFocusOut(),[]);return De.createElement("div",{ref:G,style:C,role:I,"col-id":s,onBlur:ve},ue?De.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:H},oe()):oe())},uce=v.memo(cce),dce=({rowCtrl:e,containerType:t})=>{const{context:r,gos:n}=v.useContext(Bn),s=v.useRef(),i=v.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.getRowNode().displayed,[l,u]=v.useState(()=>a?e.getRowIndex():null),[f,p]=v.useState(()=>e.getRowId()),[g,C]=v.useState(()=>e.getBusinessKey()),[S,y]=v.useState(()=>e.getRowStyles()),w=v.useRef(null),b=v.useRef(null),[F,E]=v.useState(()=>null),[R,A]=v.useState(),[D,M]=v.useState(()=>a?e.getInitialRowTop(t):void 0),[I,L]=v.useState(()=>a?e.getInitialTransform(t):void 0),j=v.useRef(null),W=v.useRef(),B=v.useRef(!1),[ie,Se]=v.useState(0);v.useEffect(()=>{var G;if(B.current||!R||ie>10)return;const H=(G=j.current)==null?void 0:G.firstChild;H?(e.setupDetailRowAutoHeight(H),B.current=!0):Se(J=>J+1)},[R,ie]);const Ee=v.useRef();Ee.current||(Ee.current=new Ep(()=>j.current));const xe=v.useCallback(H=>{if(j.current=H,s.current=H?r.createBean(new Ud):r.destroyBean(s.current),!H){e.unsetComp(t);return}if(!e.isAlive())return;const G={setTop:M,setTransform:L,addOrRemoveCssClass:(J,oe)=>Ee.current.addOrRemoveCssClass(J,oe),setDomOrder:J=>i.current=J,setRowIndex:u,setRowId:p,setRowBusinessKey:C,setUserStyles:y,setCellCtrls:(J,oe)=>{b.current=w.current,w.current=J;const ve=Wb(b.current,J,i.current);ve!==b.current&&Vb(oe,()=>E(ve))},showFullWidth:J=>A(J),getFullWidthCellRenderer:()=>W.current,refreshFullWidth:J=>z.current?(A(oe=>({...oe,params:J()})),!0):!W.current||!W.current.refresh?!1:W.current.refresh(J())};e.setComp(G,H,t,s.current)},[]);v.useLayoutEffect(()=>Pp(R,r,j.current,W),[R]);const ae=v.useMemo(()=>{const H={top:D,transform:I};return Object.assign(H,S),H},[D,I,S]),Z=o&&(R==null?void 0:R.componentFromFramework),re=!o&&F!=null,ue=v.useMemo(()=>!!((R==null?void 0:R.componentFromFramework)&&qd(R.componentClass)),[R]),z=v.useRef(!1);v.useEffect(()=>{z.current=ue&&!!R&&!!n.get("reactiveCustomComponents")},[ue,R]);const N=()=>F==null?void 0:F.map(H=>De.createElement(uce,{cellCtrl:H,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:H.instanceId})),O=()=>{const H=R.componentClass;return De.createElement(De.Fragment,null,ue?De.createElement(H,{...R.params}):De.createElement(H,{...R.params,ref:W}))};return De.createElement("div",{ref:xe,role:"row",style:ae,"row-index":l,"row-id":f,"row-business-key":g},re&&N(),Z&&O())},hce=v.memo(dce),fce=({name:e})=>{const{context:t}=v.useContext(Bn),r=v.useMemo(()=>Uu(e),[e]),n=v.useRef(null),s=v.useRef(null),i=v.useRef([]),o=v.useRef([]),[a,l]=v.useState(()=>[]),u=v.useRef(!1),f=v.useRef(),p=v.useMemo(()=>Oi(r.viewport),[r]),g=v.useMemo(()=>Oi(r.container),[r]),C=r.type==="center",S=C?n:s;Zl(" AG Row Container "+e+" ",S);const y=v.useCallback(()=>C?n.current!=null&&s.current!=null:s.current!=null,[]),w=v.useCallback(()=>C?n.current==null&&s.current==null:s.current==null,[]),b=v.useCallback(()=>{if(w()&&(f.current=t.destroyBean(f.current)),y()){const A=M=>{const I=Wb(o.current,i.current,u.current);I!==o.current&&(o.current=I,Vb(M,()=>l(I)))},D={setHorizontalScroll:M=>{n.current&&(n.current.scrollLeft=M)},setViewportHeight:M=>{n.current&&(n.current.style.height=M)},setRowCtrls:({rowCtrls:M,useFlushSync:I})=>{const L=!!I&&i.current.length>0&&M.length>0;i.current=M,A(L)},setDomOrder:M=>{u.current!=M&&(u.current=M,A(!1))},setContainerWidth:M=>{s.current&&(s.current.style.width=M)},setOffsetTop:M=>{s.current&&(s.current.style.transform=`translateY(${M})`)}};f.current=t.createBean(new mre(e)),f.current.setComp(D,s.current,n.current)}},[y,w]),F=v.useCallback(A=>{s.current=A,b()},[b]),E=v.useCallback(A=>{n.current=A,b()},[b]),R=()=>De.createElement("div",{className:g,ref:F,role:"rowgroup"},a.map(A=>De.createElement(hce,{rowCtrl:A,containerType:r.type,key:A.instanceId})));return De.createElement(De.Fragment,null,C?De.createElement("div",{className:p,ref:E,role:"presentation"},R()):R())},pce=v.memo(fce),gce=()=>{const{context:e,resizeObserverService:t}=v.useContext(Bn),[r,n]=v.useState(""),[s,i]=v.useState(0),[o,a]=v.useState(0),[l,u]=v.useState("0px"),[f,p]=v.useState("0px"),[g,C]=v.useState("100%"),[S,y]=v.useState("0px"),[w,b]=v.useState("0px"),[F,E]=v.useState("100%"),[R,A]=v.useState(""),[D,M]=v.useState(""),[I,L]=v.useState(null),[j,W]=v.useState(""),[B,ie]=v.useState(null),[Se,Ee]=v.useState("ag-layout-normal"),xe=v.useRef();xe.current||(xe.current=new Ep(()=>ae.current));const ae=v.useRef(null),Z=v.useRef(null),re=v.useRef(null),ue=v.useRef(null),z=v.useRef(null),N=v.useRef(null),O=v.useRef(null),H=v.useRef([]),G=v.useRef([]);Zl(" AG Grid Body ",ae),Zl(" AG Pinned Top ",Z),Zl(" AG Sticky Top ",re),Zl(" AG Middle ",N),Zl(" AG Pinned Bottom ",O);const J=v.useCallback(ct=>{if(ae.current=ct,!ct){H.current=e.destroyBeans(H.current),G.current.forEach(rt=>rt()),G.current=[];return}if(!e)return;const Nt=(rt,gt)=>{rt.appendChild(gt),G.current.push(()=>rt.removeChild(gt))},de=rt=>{const gt=e.createBean(new rt);return H.current.push(gt),gt},He=(rt,gt,Vt)=>{Nt(rt,document.createComment(Vt)),Nt(rt,de(gt).getGui())};He(ct,Fte," AG Fake Horizontal Scroll "),He(ct,Ete," AG Overlay Wrapper "),z.current&&He(z.current,Tte," AG Fake Vertical Scroll ");const Ue={setRowAnimationCssOnBodyViewport:n,setColumnCount:rt=>{ae.current&&BJ(ae.current,rt)},setRowCount:rt=>{ae.current&&_J(ae.current,rt)},setTopHeight:i,setBottomHeight:a,setStickyTopHeight:u,setStickyTopTop:p,setStickyTopWidth:C,setTopDisplay:A,setBottomDisplay:M,setColumnMovingCss:(rt,gt)=>xe.current.addOrRemoveCssClass(rt,gt),updateLayoutClasses:Ee,setAlwaysVerticalScrollClass:L,setPinnedTopBottomOverflowY:W,setCellSelectableCss:(rt,gt)=>ie(gt?rt:null),setBodyViewportWidth:rt=>{N.current&&(N.current.style.width=rt)},registerBodyViewportResizeListener:rt=>{if(N.current){const gt=t.observeResize(N.current,rt);G.current.push(()=>gt())}},setStickyBottomHeight:y,setStickyBottomBottom:b,setStickyBottomWidth:E},tt=e.createBean(new Sre);H.current.push(tt),tt.setComp(Ue,ct,N.current,Z.current,O.current,re.current,ue.current)},[]),oe=v.useMemo(()=>Oi("ag-root","ag-unselectable",Se),[Se]),ve=v.useMemo(()=>Oi("ag-body-viewport",r,Se,I,B),[r,Se,I,B]),X=v.useMemo(()=>Oi("ag-body",Se),[Se]),ne=v.useMemo(()=>Oi("ag-floating-top",B),[B]),Ne=v.useMemo(()=>Oi("ag-sticky-top",B),[B]),Ae=v.useMemo(()=>Oi("ag-sticky-bottom",S==="0px"?"ag-hidden":null,B),[B,S]),Qe=v.useMemo(()=>Oi("ag-floating-bottom",B),[B]),Je=v.useMemo(()=>({height:s,minHeight:s,display:R,overflowY:j}),[s,R,j]),ft=v.useMemo(()=>({height:l,top:f,width:g}),[l,f,g]),xt=v.useMemo(()=>({height:S,bottom:w,width:F}),[S,w,F]),We=v.useMemo(()=>({height:o,minHeight:o,display:D,overflowY:j}),[o,D,j]),le=ct=>De.createElement(pce,{name:ct,key:`${ct}-container`}),Ke=({section:ct,children:Nt,className:de,style:He})=>De.createElement("div",{ref:ct,className:de,role:"presentation",style:He},Nt.map(le));return De.createElement("div",{ref:J,className:oe,role:"treegrid"},De.createElement(Zle,null),Ke({section:Z,className:ne,style:Je,children:["topLeft","topCenter","topRight","topFullWidth"]}),De.createElement("div",{className:X,ref:z,role:"presentation"},Ke({section:N,className:ve,children:["left","center","right","fullWidth"]})),Ke({section:re,className:Ne,style:ft,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Ke({section:ue,className:Ae,style:xt,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Ke({section:O,className:Qe,style:We,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},mce=v.memo(gce),vce=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:s,gridCtrl:i,forceFocusOutWhenTabGuardsAreEmpty:o}=e,{context:a}=v.useContext(Bn),l=v.useRef(null),u=v.useRef(null),f=v.useRef(),p=w=>{const b=w==null?void 0:parseInt(w,10).toString();[l,u].forEach(F=>{var E,R;b===void 0?(E=F.current)==null||E.removeAttribute("tabindex"):(R=F.current)==null||R.setAttribute("tabindex",b)})};v.useImperativeHandle(t,()=>({forceFocusOutOfContainer(w){var b;(b=f.current)==null||b.forceFocusOutOfContainer(w)}}));const g=v.useCallback(()=>{const w=l.current,b=u.current;if(!w&&!b){f.current=a.destroyBean(f.current);return}if(w&&b){const F={setTabIndex:p};f.current=a.createBean(new m4({comp:F,eTopGuard:w,eBottomGuard:b,eFocusableElement:n,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:E=>i.focusInnerElement(E)}))}},[]),C=v.useCallback(w=>{l.current=w,g()},[g]),S=v.useCallback(w=>{u.current=w,g()},[g]),y=w=>{const b=w==="top"?zm.TAB_GUARD_TOP:zm.TAB_GUARD_BOTTOM;return De.createElement("div",{className:`${zm.TAB_GUARD} ${b}`,role:"presentation",ref:w==="top"?C:S})};return De.createElement(De.Fragment,null,y("top"),r,y("bottom"))},Cce=v.forwardRef(vce),yce=v.memo(Cce),Sce=({context:e})=>{const[t,r]=v.useState(""),[n,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(null),[u,f]=v.useState(null),[p,g]=v.useState(!1),[C,S]=v.useState(),y=v.useRef(),w=v.useRef(null),b=v.useRef(),[F,E]=v.useState(null),R=v.useRef(()=>{}),A=v.useRef(),D=v.useRef([]),M=v.useCallback(()=>{},[]),I=v.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Zl(" AG Grid ",w);const L=v.useCallback(Se=>{if(w.current=Se,y.current=Se?e.createBean(new Zne):e.destroyBean(y.current),!Se||e.isDestroyed())return;const Ee=y.current;R.current=Ee.focusInnerElement.bind(Ee);const xe={destroyGridUi:()=>{},setRtlClass:r,setGridThemeClass:s,forceFocusOutOfContainer:ae=>{var Z,re;if(!ae&&((Z=A.current)!=null&&Z.isDisplayed())){A.current.forceFocusOutOfContainer(ae);return}(re=b.current)==null||re.forceFocusOutOfContainer(ae)},updateLayoutClasses:o,getFocusableContainers:()=>{var re;const ae=[],Z=(re=w.current)==null?void 0:re.querySelector(".ag-root");return Z&&ae.push({getGui:()=>Z}),D.current.forEach(ue=>{ue.isDisplayed()&&ae.push(ue)}),ae},setCursor:l,setUserSelect:f};Ee.setComp(xe,Se,Se),g(!0)},[]);v.useEffect(()=>{const Se=y.current,Ee=w.current;if(!C||!I||!Se||!F||!Ee)return;const xe=[],{watermarkSelector:ae,paginationSelector:Z,sideBarSelector:re,statusBarSelector:ue,gridHeaderDropZonesSelector:z}=Se.getOptionalSelectors(),N=[];if(z){const H=e.createBean(new z.component),G=H.getGui();Ee.insertAdjacentElement("afterbegin",G),N.push(G),xe.push(H)}if(re){const H=e.createBean(new re.component),G=H.getGui(),J=F.querySelector(".ag-tab-guard-bottom");J&&(J.insertAdjacentElement("beforebegin",G),N.push(G)),xe.push(H),D.current.push(H)}const O=H=>{const G=e.createBean(new H),J=G.getGui();return Ee.insertAdjacentElement("beforeend",J),N.push(J),xe.push(G),G};if(ue&&O(ue.component),Z){const H=O(Z.component);A.current=H,D.current.push(H)}return ae&&O(ae.component),()=>{e.destroyBeans(xe),N.forEach(H=>{var G;(G=H.parentElement)==null||G.removeChild(H)})}},[C,F,I]);const j=v.useMemo(()=>Oi("ag-root-wrapper",t,n,i),[t,n,i]),W=v.useMemo(()=>Oi("ag-root-wrapper-body","ag-focus-managed",i),[i]),B=v.useMemo(()=>({userSelect:u??"",WebkitUserSelect:u??"",cursor:a??""}),[u,a]),ie=v.useCallback(Se=>{b.current=Se,S(Se!==null)},[]);return De.createElement("div",{ref:L,className:j,style:B,role:"presentation"},De.createElement("div",{className:W,ref:E,role:"presentation"},p&&F&&I&&De.createElement(Bn.Provider,{value:I},De.createElement(yce,{ref:ie,eFocusableElement:F,onTabKeyDown:M,gridCtrl:y.current,forceFocusOutWhenTabGuardsAreEmpty:!0},De.createElement(mce,null)))))},wce=v.memo(Sce),xce=class extends Re{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},B4=e=>{var w;const t=v.useRef(),r=v.useRef(null),n=v.useRef(null),s=v.useRef([]),i=v.useRef([]),o=v.useRef(e),a=v.useRef(),l=v.useRef(),u=v.useRef(!1),[f,p]=v.useState(void 0),[,g]=v.useState(0),C=v.useCallback(b=>{if(r.current=b,!b){s.current.forEach(W=>W()),s.current.length=0;return}const F=e.modules||[];n.current||(n.current=new Vle(()=>g(W=>W+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{var W;(W=n.current)==null||W.destroy(),n.current=null}));const E=PJ(e.gridOptions,e),R=()=>{if(u.current){const W=()=>{var ie;return(ie=a.current)!=null&&ie.shouldQueueUpdates()?void 0:i.current.shift()};let B=W();for(;B;)B(),B=W()}},A=new Fce(R);a.current=A;const D=new xce,M={providedBeanInstances:{frameworkComponentWrapper:new Rce(n.current,E.reactiveCustomComponents??Fae("reactiveCustomComponents")??!0),renderStatusService:D},modules:F,frameworkOverrides:A},I=W=>{p(W),W.createBean(D),s.current.push(()=>{W.destroy()}),W.getBean("ctrlsService").whenReady({addDestroyFunc:B=>{s.current.push(B)}},()=>{var ie;if(W.isDestroyed())return;const B=t.current;B&&((ie=e.setGridApi)==null||ie.call(e,B))})},L=W=>{W.getBean("ctrlsService").whenReady({addDestroyFunc:B=>{s.current.push(B)}},()=>{i.current.forEach(B=>B()),i.current.length=0,u.current=!0})},j=new Pae;E.gridId??(E.gridId=l.current),t.current=j.create(b,E,I,L,M),s.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),S=v.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),y=v.useCallback(b=>{var F;u.current&&!((F=a.current)!=null&&F.shouldQueueUpdates())?b():i.current.push(b)},[]);return v.useEffect(()=>{const b=bce(o.current,e);o.current=e,y(()=>{t.current&&AJ(b,t.current)})},[e]),De.createElement("div",{style:S,className:e.className,ref:C},f&&!f.isDestroyed()?De.createElement(wce,{context:f}):null,((w=n.current)==null?void 0:w.getPortals())??null)};function bce(e,t){const r={};return Object.keys(t).forEach(n=>{const s=t[n];e[n]!==s&&(r[n]=s)}),r}var Rce=class extends _ae{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const s=(i=>{switch(i){case"filter":return Ile;case"floatingFilterComponent":return kle;case"dateComponent":return Mle;case"dragAndDropImageComponent":return Nle;case"loadingOverlayComponent":return Lle;case"noRowsOverlayComponent":return jle;case"statusPanel":return Ble;case"toolPanel":return Gle;case"menuItem":return _le;case"cellRenderer":return Dle}})(t.propertyName);if(s)return new s(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":$b();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new _4(e,this.parent,t,r)}},Ece=v.forwardRef((e,t)=>{const{ctrlsFactory:r,context:n,gos:s,resizeObserverService:i,rowModel:o}=v.useContext(Bn),[a,l]=v.useState(()=>new di),[u,f]=v.useState(()=>new di),[p,g]=v.useState(),[C,S]=v.useState(),y=v.useRef(),w=v.useRef(null),b=v.useRef(),F=v.useMemo(()=>lo.__getGridRegisteredModules(e.api.getGridId()),[e]),E=v.useMemo(()=>a.toString()+" ag-details-row",[a]),R=v.useMemo(()=>u.toString()+" ag-details-grid",[u]);t&&v.useImperativeHandle(t,()=>({refresh(){var M;return((M=y.current)==null?void 0:M.refresh())??!1}})),e.template&&Te("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const A=v.useCallback(M=>{var j;if(w.current=M,!M){y.current=n.destroyBean(y.current),(j=b.current)==null||j.call(b);return}const I={addOrRemoveCssClass:(W,B)=>l(ie=>ie.setClass(W,B)),addOrRemoveDetailGridCssClass:(W,B)=>f(ie=>ie.setClass(W,B)),setDetailGrid:W=>g(W),setRowData:W=>S(W),getGui:()=>w.current},L=r.getInstance("detailCellRenderer");if(L&&(n.createBean(L),L.init(I,e),y.current=L,s.get("detailRowAutoHeight"))){const W=()=>{if(w.current==null)return;const B=w.current.clientHeight;B!=null&&B>0&&setTimeout(()=>{e.node.setRowHeight(B),(Sr(s)||So(s))&&o.onRowHeightChanged()},0)};b.current=i.observeResize(M,W),W()}},[]),D=v.useCallback(M=>{var I;(I=y.current)==null||I.registerDetailWithMaster(M)},[]);return De.createElement("div",{className:E,ref:A},p&&De.createElement(B4,{className:R,...p,modules:F,rowData:C,setGridApi:D}))}),Fce=class extends v4{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:KD,agGroupRowRenderer:KD,agDetailCellRenderer:Ece},this.wrapIncoming=(t,r)=>r==="ensureVisible"?Fle(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Ele()}},Tce=class extends v.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return De.createElement(B4,{...this.props,setGridApi:this.setGridApi})}};function Pce(e){return Xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zM160 224c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32zm128-64l0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160c0-17.7 14.3-32 32-32s32 14.3 32 32zm64 32c17.7 0 32 14.3 32 32l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96c0-17.7 14.3-32 32-32zM480 96l0 224c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-224c0-17.7 14.3-32 32-32s32 14.3 32 32z"},child:[]}]})(e)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Mv={};Mv.version="0.18.5";var G4=1252,Ace=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],H4=function(e){Ace.indexOf(e)!=-1&&(G4=e)};function Dce(){H4(1252)}var Kf=function(e){H4(e)};function Mce(){Kf(1200),Dce()}var Sm=function(t){return String.fromCharCode(t)},XD=function(t){return String.fromCharCode(t)},JD,tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function qf(e){for(var t="",r=0,n=0,s=0,i=0,o=0,a=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,s=e.charCodeAt(u++),a=(n&15)<<2|s>>6,l=s&63,isNaN(n)?a=l=64:isNaN(s)&&(l=64),t+=tl.charAt(i)+tl.charAt(o)+tl.charAt(a)+tl.charAt(l);return t}function ca(e){var t="",r=0,n=0,s=0,i=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=tl.indexOf(e.charAt(u++)),o=tl.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),a=tl.indexOf(e.charAt(u++)),n=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(n)),l=tl.indexOf(e.charAt(u++)),s=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(s));return t}var Jt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ha=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Dc(e){return Jt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ZD(e){return Jt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var _i=function(t){return Jt?ha(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function I0(e){if(typeof ArrayBuffer>"u")return _i(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Ap(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Nce(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var wn=Jt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ha(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Ice(e){for(var t=[],r=0,n=e.length+250,s=Dc(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|a>>6&15|(o&3)<<4,s[r++]=128|a&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(t.push(s.slice(0,r)),r=0,s=Dc(65535),n=65530)}return t.push(s.slice(0,r)),wn(t)}var Cf=/\u0000/g,wm=/[\u0001-\u0006]/g;function td(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Bi(e,t){var r=""+e;return r.length>=t?r:Lr("0",t-r.length)+r}function Kb(e,t){var r=""+e;return r.length>=t?r:Lr(" ",t-r.length)+r}function Nv(e,t){var r=""+e;return r.length>=t?r:r+Lr(" ",t-r.length)}function Oce(e,t){var r=""+Math.round(e);return r.length>=t?r:Lr("0",t-r.length)+r}function kce(e,t){var r=""+e;return r.length>=t?r:Lr("0",t-r.length)+r}var e2=Math.pow(2,32);function Du(e,t){if(e>e2||e<-e2)return Oce(e,t);var r=Math.round(e);return kce(r,t)}function Iv(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var t2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],jS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Lce(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Br={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},r2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},_ce={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ov(e,t,r){for(var n=e<0?-1:1,s=e*n,i=0,o=1,a=0,l=1,u=0,f=0,p=Math.floor(s);u<t&&(p=Math.floor(s),a=p*o+i,f=p*u+l,!(s-p<5e-8));)s=1/(s-p),i=o,o=a,l=u,u=f;if(f>t&&(u>t?(f=l,a=i):(f=u,a=o)),!r)return[0,n*a,f];var g=Math.floor(n*a/f);return[g,n*a-g*f,f]}function xm(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),i=0,o=[],a={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(n+=1462),a.u>.9999&&(a.u=0,++s==86400&&(a.T=s=0,++n,++a.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Uce(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=s%60,s=Math.floor(s/60),a.M=s%60,s=Math.floor(s/60),a.H=s,a.q=i,a}var V4=new Date(1899,11,31,0,0,0),jce=V4.getTime(),Bce=new Date(1900,2,1,0,0,0);function W4(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Bce&&(r+=24*60*60*1e3),(r-(jce+(e.getTimezoneOffset()-V4.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function qb(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Gce(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Hce(e){var t=e<0?12:11,r=qb(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Vce(e){var t=qb(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Wce(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Hce(e):t===10?r=e.toFixed(10).substr(0,12):r=Vce(e),qb(Gce(r.toUpperCase()))}function Cx(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Wce(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return fl(14,W4(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Uce(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function zce(e,t,r,n){var s="",i=0,o=0,a=r.y,l,u=0;switch(e){case 98:a=r.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,u=2;break;default:l=a%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return jS[r.m-1][1];case 5:return jS[r.m-1][0];default:return jS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return t2[r.q][0];default:return t2[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Bi(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=Bi(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=a,u=1;break}var f=u>0?Bi(l,u):"";return f}function rl(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var U4=/%/g;function $ce(e,t,r){var n=t.replace(U4,""),s=t.length-n.length;return Qo(e,n,r*Math.pow(10,2*s))+Lr("%",s)}function Kce(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Qo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function z4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+z4(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,f){return l+u+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var $4=/# (\?+)( ?)\/( ?)(\d+)/;function qce(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),i=Math.floor(s/n),o=s-i*n,a=n;return r+(i===0?"":""+i)+" "+(o===0?Lr(" ",e[1].length+1+e[4].length):Kb(o,e[1].length)+e[2]+"/"+e[3]+Bi(a,e[4].length))}function Yce(e,t,r){return r+(t===0?"":""+t)+Lr(" ",e[1].length+2+e[4].length)}var K4=/^#*0*\.([0#]+)/,q4=/\).*[0#]/,Y4=/\(###\) ###\\?-####/;function Kn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function n2(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function s2(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Qce(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Xce(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ai(e,t,r){if(e.charCodeAt(0)===40&&!t.match(q4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ai("n",n,r):"("+ai("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Kce(e,t,r);if(t.indexOf("%")!==-1)return $ce(e,t,r);if(t.indexOf("E")!==-1)return z4(t,r);if(t.charCodeAt(0)===36)return"$"+ai(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,a,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Du(l,t.length);if(t.match(/^[#?]+$/))return s=Du(r,0),s==="0"&&(s=""),s.length>t.length?s:Kn(t.substr(0,t.length-s.length))+s;if(i=t.match($4))return qce(i,l,u);if(t.match(/^#+0+$/))return u+Du(l,t.length-t.indexOf("0"));if(i=t.match(K4))return s=n2(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Kn(i[1])).replace(/\.$/,"."+Kn(i[1])).replace(/\.(\d*)$/,function(S,y){return"."+y+Lr("0",Kn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+n2(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+rl(Du(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ai(e,t,-r):rl(""+(Math.floor(r)+Qce(r,i[1].length)))+"."+Bi(s2(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ai(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=td(ai(e,t.replace(/[\\-]/g,""),r)),o=0,td(td(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<s.length?s.charAt(o++):S==="0"?"0":""}));if(t.match(Y4))return s=ai(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),a=Ov(l,Math.pow(10,o)-1,!1),s=""+u,f=Qo("n",i[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=Nv(a[2],o),f.length<i[4].length&&(f=Kn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),a=Ov(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?Kb(a[1],o)+i[2]+"/"+i[3]+Nv(a[2],o):Lr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Du(r,0),t.length<=s.length?s:Kn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=t.indexOf(".")-o,g=t.length-s.length-p;return Kn(t.substr(0,p)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=s2(r,i[1].length),r<0?"-"+ai(e,t,-r):rl(Xce(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Bi(0,3-S.length):"")+S})+"."+Bi(o,i[1].length);switch(t){case"###,##0.00":return ai(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var C=rl(Du(l,0));return C!=="0"?u+C:"";case"###,###.00":return ai(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ai(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Jce(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Qo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Zce(e,t,r){var n=t.replace(U4,""),s=t.length-n.length;return Qo(e,n,r*Math.pow(10,2*s))+Lr("%",s)}function Q4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Q4(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,u,f){return l+u+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function eo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(q4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?eo("n",n,r):"("+eo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Jce(e,t,r);if(t.indexOf("%")!==-1)return Zce(e,t,r);if(t.indexOf("E")!==-1)return Q4(t,r);if(t.charCodeAt(0)===36)return"$"+eo(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,a,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Bi(l,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Kn(t.substr(0,t.length-s.length))+s;if(i=t.match($4))return Yce(i,l,u);if(t.match(/^#+0+$/))return u+Bi(l,t.length-t.indexOf("0"));if(i=t.match(K4))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Kn(i[1])).replace(/\.$/,"."+Kn(i[1])),s=s.replace(/\.(\d*)$/,function(S,y){return"."+y+Lr("0",Kn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+rl(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+eo(e,t,-r):rl(""+r)+"."+Lr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return eo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=td(eo(e,t.replace(/[\\-]/g,""),r)),o=0,td(td(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<s.length?s.charAt(o++):S==="0"?"0":""}));if(t.match(Y4))return s=eo(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),a=Ov(l,Math.pow(10,o)-1,!1),s=""+u,f=Qo("n",i[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=Nv(a[2],o),f.length<i[4].length&&(f=Kn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),a=Ov(l,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?Kb(a[1],o)+i[2]+"/"+i[3]+Nv(a[2],o):Lr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Kn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=t.indexOf(".")-o,g=t.length-s.length-p;return Kn(t.substr(0,p)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+eo(e,t,-r):rl(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Bi(0,3-S.length):"")+S})+"."+Bi(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var C=rl(""+l);return C!=="0"?u+C:"";default:if(t.match(/\.[0#?]*$/))return eo(e,t.slice(0,t.lastIndexOf(".")),r)+Kn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Qo(e,t,r){return(r|0)===r?eo(e,t,r):ai(e,t,r)}function eue(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var X4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function J4(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Iv(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(X4))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function tue(e,t,r,n){for(var s=[],i="",o=0,a="",l="t",u,f,p,g="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!Iv(e,o))throw new Error("unrecognized character "+a+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(p=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++o;break;case"\\":var C=e.charAt(++o),S=C==="("||C===")"?C:"t";s[s.length]={t:S,v:C},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=xm(t,r,e.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=xm(t,r),u==null))return"";for(i=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)i+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=g),s[s.length]={t:a,v:i},l=a;break;case"A":case"a":case"上":var y={t:a,v:a};if(u==null&&(u=xm(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(y.v=u.H>=12?"下午":"上午"),y.t="T",o+=5,g="h"):(y.t="t",++o),u==null&&y.t==="T")return"";s[s.length]=y,l=a;break;case"[":for(i=a;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(X4)){if(u==null&&(u=xm(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",J4(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=a;++o<e.length&&(a=e.charAt(o))==="0";)i+=a;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)i+=a;s[s.length]={t:"n",v:i};break;case"?":for(i=a;e.charAt(++o)===a;)i+=a;s[s.length]={t:a,v:i},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:a,v:a},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);s[s.length]={t:"t",v:a},++o;break}var w=0,b=0,F;for(o=s.length-1,l="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=g,l="h",w<1&&(w=1);break;case"s":(F=s[o].v.match(/\.0+$/))&&(b=Math.max(b,F[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":l=s[o].t;break;case"m":l==="s"&&(s[o].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&s[o].v.match(/[Hh]/)&&(w=1),w<2&&s[o].v.match(/[Mm]/)&&(w=2),w<3&&s[o].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var E="",R;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=zce(s[o].t.charCodeAt(0),s[o].v,u,b),s[o].t="t";break;case"n":case"?":for(R=o+1;s[R]!=null&&((a=s[R].t)==="?"||a==="D"||(a===" "||a==="t")&&s[R+1]!=null&&(s[R+1].t==="?"||s[R+1].t==="t"&&s[R+1].v==="/")||s[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(s[R].v==="/"||s[R].v===" "&&s[R+1]!=null&&s[R+1].t=="?"));)s[o].v+=s[R].v,s[R]={v:"",t:";"},++R;E+=s[o].v,o=R-1;break;case"G":s[o].t="t",s[o].v=Cx(t,r);break}var A="",D,M;if(E.length>0){E.charCodeAt(0)==40?(D=t<0&&E.charCodeAt(0)===45?-t:t,M=Qo("n",E,D)):(D=t<0&&n>1?-t:t,M=Qo("n",E,D),D<0&&s[0]&&s[0].t=="t"&&(M=M.substr(1),s[0].v="-"+s[0].v)),R=M.length-1;var I=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){I=o;break}var L=s.length;if(I===s.length&&M.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(R>=s[o].v.length-1?(R-=s[o].v.length,s[o].v=M.substr(R+1,s[o].v.length)):R<0?s[o].v="":(s[o].v=M.substr(0,R+1),R=-1),s[o].t="t",L=o);R>=0&&L<s.length&&(s[L].v=M.substr(0,R+1)+s[L].v)}else if(I!==s.length&&M.indexOf("E")===-1){for(R=M.indexOf(".")-1,o=I;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===I?s[o].v.indexOf(".")-1:s[o].v.length-1,A=s[o].v.substr(f+1);f>=0;--f)R>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(A=M.charAt(R--)+A);s[o].v=A,s[o].t="t",L=o}for(R>=0&&L<s.length&&(s[L].v=M.substr(0,R+1)+s[L].v),R=M.indexOf(".")+1,o=I;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==I)){for(f=s[o].v.indexOf(".")>-1&&o===I?s[o].v.indexOf(".")+1:0,A=s[o].v.substr(0,f);f<s[o].v.length;++f)R<M.length&&(A+=M.charAt(R++));s[o].v=A,s[o].t="t",L=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(D=n>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=Qo(s[o].t,s[o].v,D),s[o].t="t");var j="";for(o=0;o!==s.length;++o)s[o]!=null&&(j+=s[o].v);return j}var i2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function o2(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function rue(e,t){var r=eue(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(i2),a=r[1].match(i2);return o2(t,o)?[n,r[0]]:o2(t,a)?[n,r[1]]:[n,r[o!=null&&a!=null?2:1]]}return[n,i]}function fl(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Br)[e],n==null&&(n=r.table&&r.table[r2[e]]||Br[r2[e]]),n==null&&(n=_ce[e]||"General");break}if(Iv(n,0))return Cx(t,r);t instanceof Date&&(t=W4(t,r.date1904));var s=rue(n,t);if(Iv(s[1]))return Cx(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return tue(s[1],t,r,s[0])}function Z4(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Br[r]==null){t<0&&(t=r);continue}if(Br[r]==e){t=r;break}}t<0&&(t=391)}return Br[t]=e,t}function O0(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Z4(e[t],t)}function k0(){Br=Lce()}var e3=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nue(e){var t=typeof e=="number"?Br[e]:e;return t=t.replace(e3,"(\\d+)"),new RegExp("^"+t+"$")}function sue(e,t,r){var n=-1,s=-1,i=-1,o=-1,a=-1,l=-1;(t.match(e3)||[]).forEach(function(p,g){var C=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=C;break;case"d":i=C;break;case"h":o=C;break;case"s":l=C;break;case"m":o>=0?a=C:s=C;break}}),l>=0&&a==-1&&s>=0&&(a=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?u:n==-1&&s==-1&&i==-1?f:u+"T"+f}var iue=function(){var e={};e.version="1.2.0";function t(){for(var M=0,I=new Array(256),L=0;L!=256;++L)M=L,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,I[L]=M;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function n(M){var I=0,L=0,j=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)W[j]=M[j];for(j=0;j!=256;++j)for(L=M[j],I=256+j;I<4096;I+=256)L=W[I]=L>>>8^M[L&255];var B=[];for(j=1;j!=16;++j)B[j-1]=typeof Int32Array<"u"?W.subarray(j*256,j*256+256):W.slice(j*256,j*256+256);return B}var s=n(r),i=s[0],o=s[1],a=s[2],l=s[3],u=s[4],f=s[5],p=s[6],g=s[7],C=s[8],S=s[9],y=s[10],w=s[11],b=s[12],F=s[13],E=s[14];function R(M,I){for(var L=I^-1,j=0,W=M.length;j<W;)L=L>>>8^r[(L^M.charCodeAt(j++))&255];return~L}function A(M,I){for(var L=I^-1,j=M.length-15,W=0;W<j;)L=E[M[W++]^L&255]^F[M[W++]^L>>8&255]^b[M[W++]^L>>16&255]^w[M[W++]^L>>>24]^y[M[W++]]^S[M[W++]]^C[M[W++]]^g[M[W++]]^p[M[W++]]^f[M[W++]]^u[M[W++]]^l[M[W++]]^a[M[W++]]^o[M[W++]]^i[M[W++]]^r[M[W++]];for(j+=15;W<j;)L=L>>>8^r[(L^M[W++])&255];return~L}function D(M,I){for(var L=I^-1,j=0,W=M.length,B=0,ie=0;j<W;)B=M.charCodeAt(j++),B<128?L=L>>>8^r[(L^B)&255]:B<2048?(L=L>>>8^r[(L^(192|B>>6&31))&255],L=L>>>8^r[(L^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,ie=M.charCodeAt(j++)&1023,L=L>>>8^r[(L^(240|B>>8&7))&255],L=L>>>8^r[(L^(128|B>>2&63))&255],L=L>>>8^r[(L^(128|ie>>6&15|(B&3)<<4))&255],L=L>>>8^r[(L^(128|ie&63))&255]):(L=L>>>8^r[(L^(224|B>>12&15))&255],L=L>>>8^r[(L^(128|B>>6&63))&255],L=L>>>8^r[(L^(128|B&63))&255]);return~L}return e.table=r,e.bstr=R,e.buf=A,e.str=D,e}(),lr=function(){var t={};t.version="1.2.1";function r(_,K){for(var V=_.split("/"),U=K.split("/"),q=0,Y=0,ge=Math.min(V.length,U.length);q<ge;++q){if(Y=V[q].length-U[q].length)return Y;if(V[q]!=U[q])return V[q]<U[q]?-1:1}return V.length-U.length}function n(_){if(_.charAt(_.length-1)=="/")return _.slice(0,-1).indexOf("/")===-1?_:n(_.slice(0,-1));var K=_.lastIndexOf("/");return K===-1?_:_.slice(0,K+1)}function s(_){if(_.charAt(_.length-1)=="/")return s(_.slice(0,-1));var K=_.lastIndexOf("/");return K===-1?_:_.slice(K+1)}function i(_,K){typeof K=="string"&&(K=new Date(K));var V=K.getHours();V=V<<6|K.getMinutes(),V=V<<5|K.getSeconds()>>>1,_.write_shift(2,V);var U=K.getFullYear()-1980;U=U<<4|K.getMonth()+1,U=U<<5|K.getDate(),_.write_shift(2,U)}function o(_){var K=_.read_shift(2)&65535,V=_.read_shift(2)&65535,U=new Date,q=V&31;V>>>=5;var Y=V&15;V>>>=4,U.setMilliseconds(0),U.setFullYear(V+1980),U.setMonth(Y-1),U.setDate(q);var ge=K&31;K>>>=5;var Pe=K&63;return K>>>=6,U.setHours(K),U.setMinutes(Pe),U.setSeconds(ge<<1),U}function a(_){Ls(_,0);for(var K={},V=0;_.l<=_.length-4;){var U=_.read_shift(2),q=_.read_shift(2),Y=_.l+q,ge={};switch(U){case 21589:V=_.read_shift(1),V&1&&(ge.mtime=_.read_shift(4)),q>5&&(V&2&&(ge.atime=_.read_shift(4)),V&4&&(ge.ctime=_.read_shift(4))),ge.mtime&&(ge.mt=new Date(ge.mtime*1e3));break}_.l=Y,K[U]=ge}return K}var l;function u(){return l||(l={})}function f(_,K){if(_[0]==80&&_[1]==75)return Si(_,K);if((_[0]|32)==109&&(_[1]|32)==105)return qp(_,K);if(_.length<512)throw new Error("CFB file size "+_.length+" < 512");var V=3,U=512,q=0,Y=0,ge=0,Pe=0,pe=0,Ce=[],ye=_.slice(0,512);Ls(ye,0);var Be=p(ye);switch(V=Be[0],V){case 3:U=512;break;case 4:U=4096;break;case 0:if(Be[1]==0)return Si(_,K);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}U!==512&&(ye=_.slice(0,U),Ls(ye,28));var Xe=_.slice(0,U);g(ye,V);var ot=ye.read_shift(4,"i");if(V===3&&ot!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ot);ye.l+=4,ge=ye.read_shift(4,"i"),ye.l+=4,ye.chk("00100000","Mini Stream Cutoff Size: "),Pe=ye.read_shift(4,"i"),q=ye.read_shift(4,"i"),pe=ye.read_shift(4,"i"),Y=ye.read_shift(4,"i");for(var ze=-1,Ve=0;Ve<109&&(ze=ye.read_shift(4,"i"),!(ze<0));++Ve)Ce[Ve]=ze;var Mt=C(_,U);w(pe,Y,Mt,U,Ce);var dr=F(Mt,ge,Ce,U);dr[ge].name="!Directory",q>0&&Pe!==ie&&(dr[Pe].name="!MiniFAT"),dr[Ce[0]].name="!FAT",dr.fat_addrs=Ce,dr.ssz=U;var fr={},Gr=[],Ml=[],pa=[];E(ge,dr,Mt,Gr,q,fr,Ml,Pe),S(Ml,pa,Gr),Gr.shift();var qi={FileIndex:Ml,FullPaths:pa};return K&&K.raw&&(qi.raw={header:Xe,sectors:Mt}),qi}function p(_){if(_[_.l]==80&&_[_.l+1]==75)return[0,0];_.chk(Se,"Header Signature: "),_.l+=16;var K=_.read_shift(2,"u");return[_.read_shift(2,"u"),K]}function g(_,K){var V=9;switch(_.l+=2,V=_.read_shift(2)){case 9:if(K!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(K!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}_.chk("0600","Mini Sector Shift: "),_.chk("000000000000","Reserved: ")}function C(_,K){for(var V=Math.ceil(_.length/K)-1,U=[],q=1;q<V;++q)U[q-1]=_.slice(q*K,(q+1)*K);return U[V-1]=_.slice(V*K),U}function S(_,K,V){for(var U=0,q=0,Y=0,ge=0,Pe=0,pe=V.length,Ce=[],ye=[];U<pe;++U)Ce[U]=ye[U]=U,K[U]=V[U];for(;Pe<ye.length;++Pe)U=ye[Pe],q=_[U].L,Y=_[U].R,ge=_[U].C,Ce[U]===U&&(q!==-1&&Ce[q]!==q&&(Ce[U]=Ce[q]),Y!==-1&&Ce[Y]!==Y&&(Ce[U]=Ce[Y])),ge!==-1&&(Ce[ge]=U),q!==-1&&U!=Ce[U]&&(Ce[q]=Ce[U],ye.lastIndexOf(q)<Pe&&ye.push(q)),Y!==-1&&U!=Ce[U]&&(Ce[Y]=Ce[U],ye.lastIndexOf(Y)<Pe&&ye.push(Y));for(U=1;U<pe;++U)Ce[U]===U&&(Y!==-1&&Ce[Y]!==Y?Ce[U]=Ce[Y]:q!==-1&&Ce[q]!==q&&(Ce[U]=Ce[q]));for(U=1;U<pe;++U)if(_[U].type!==0){if(Pe=U,Pe!=Ce[Pe])do Pe=Ce[Pe],K[U]=K[Pe]+"/"+K[U];while(Pe!==0&&Ce[Pe]!==-1&&Pe!=Ce[Pe]);Ce[U]=-1}for(K[0]+="/",U=1;U<pe;++U)_[U].type!==2&&(K[U]+="/")}function y(_,K,V){for(var U=_.start,q=_.size,Y=[],ge=U;V&&q>0&&ge>=0;)Y.push(K.slice(ge*B,ge*B+B)),q-=B,ge=ec(V,ge*4);return Y.length===0?Fe(0):wn(Y).slice(0,_.size)}function w(_,K,V,U,q){var Y=ie;if(_===ie){if(K!==0)throw new Error("DIFAT chain shorter than expected")}else if(_!==-1){var ge=V[_],Pe=(U>>>2)-1;if(!ge)return;for(var pe=0;pe<Pe&&(Y=ec(ge,pe*4))!==ie;++pe)q.push(Y);w(ec(ge,U-4),K-1,V,U,q)}}function b(_,K,V,U,q){var Y=[],ge=[];q||(q=[]);var Pe=U-1,pe=0,Ce=0;for(pe=K;pe>=0;){q[pe]=!0,Y[Y.length]=pe,ge.push(_[pe]);var ye=V[Math.floor(pe*4/U)];if(Ce=pe*4&Pe,U<4+Ce)throw new Error("FAT boundary crossed: "+pe+" 4 "+U);if(!_[ye])break;pe=ec(_[ye],Ce)}return{nodes:Y,data:p2([ge])}}function F(_,K,V,U){var q=_.length,Y=[],ge=[],Pe=[],pe=[],Ce=U-1,ye=0,Be=0,Xe=0,ot=0;for(ye=0;ye<q;++ye)if(Pe=[],Xe=ye+K,Xe>=q&&(Xe-=q),!ge[Xe]){pe=[];var ze=[];for(Be=Xe;Be>=0;){ze[Be]=!0,ge[Be]=!0,Pe[Pe.length]=Be,pe.push(_[Be]);var Ve=V[Math.floor(Be*4/U)];if(ot=Be*4&Ce,U<4+ot)throw new Error("FAT boundary crossed: "+Be+" 4 "+U);if(!_[Ve]||(Be=ec(_[Ve],ot),ze[Be]))break}Y[Xe]={nodes:Pe,data:p2([pe])}}return Y}function E(_,K,V,U,q,Y,ge,Pe){for(var pe=0,Ce=U.length?2:0,ye=K[_].data,Be=0,Xe=0,ot;Be<ye.length;Be+=128){var ze=ye.slice(Be,Be+128);Ls(ze,64),Xe=ze.read_shift(2),ot=Zb(ze,0,Xe-Ce),U.push(ot);var Ve={name:ot,type:ze.read_shift(1),color:ze.read_shift(1),L:ze.read_shift(4,"i"),R:ze.read_shift(4,"i"),C:ze.read_shift(4,"i"),clsid:ze.read_shift(16),state:ze.read_shift(4,"i"),start:0,size:0},Mt=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);Mt!==0&&(Ve.ct=R(ze,ze.l-8));var dr=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);dr!==0&&(Ve.mt=R(ze,ze.l-8)),Ve.start=ze.read_shift(4,"i"),Ve.size=ze.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=ie,Ve.name=""),Ve.type===5?(pe=Ve.start,q>0&&pe!==ie&&(K[pe].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",K[Ve.start]===void 0&&(K[Ve.start]=b(V,Ve.start,K.fat_addrs,K.ssz)),K[Ve.start].name=Ve.name,Ve.content=K[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:pe!==ie&&Ve.start!==ie&&K[pe]&&(Ve.content=y(Ve,K[pe].data,(K[Pe]||{}).data))),Ve.content&&Ls(Ve.content,0),Y[ot]=Ve,ge.push(Ve)}}function R(_,K){return new Date((Bs(_,K+4)/1e7*Math.pow(2,32)+Bs(_,K)/1e7-11644473600)*1e3)}function A(_,K){return u(),f(l.readFileSync(_),K)}function D(_,K){var V=K&&K.type;switch(V||Jt&&Buffer.isBuffer(_)&&(V="buffer"),V||"base64"){case"file":return A(_,K);case"base64":return f(_i(ca(_)),K);case"binary":return f(_i(_),K)}return f(_,K)}function M(_,K){var V=K||{},U=V.root||"Root Entry";if(_.FullPaths||(_.FullPaths=[]),_.FileIndex||(_.FileIndex=[]),_.FullPaths.length!==_.FileIndex.length)throw new Error("inconsistent CFB structure");_.FullPaths.length===0&&(_.FullPaths[0]=U+"/",_.FileIndex[0]={name:U,type:5}),V.CLSID&&(_.FileIndex[0].clsid=V.CLSID),I(_)}function I(_){var K="Sh33tJ5";if(!lr.find(_,"/"+K)){var V=Fe(4);V[0]=55,V[1]=V[3]=50,V[2]=54,_.FileIndex.push({name:K,type:2,content:V,size:4,L:69,R:69,C:69}),_.FullPaths.push(_.FullPaths[0]+K),L(_)}}function L(_,K){M(_);for(var V=!1,U=!1,q=_.FullPaths.length-1;q>=0;--q){var Y=_.FileIndex[q];switch(Y.type){case 0:U?V=!0:(_.FileIndex.pop(),_.FullPaths.pop());break;case 1:case 2:case 5:U=!0,isNaN(Y.R*Y.L*Y.C)&&(V=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!K)){var ge=new Date(1987,1,19),Pe=0,pe=Object.create?Object.create(null):{},Ce=[];for(q=0;q<_.FullPaths.length;++q)pe[_.FullPaths[q]]=!0,_.FileIndex[q].type!==0&&Ce.push([_.FullPaths[q],_.FileIndex[q]]);for(q=0;q<Ce.length;++q){var ye=n(Ce[q][0]);U=pe[ye],U||(Ce.push([ye,{name:s(ye).replace("/",""),type:1,clsid:xe,ct:ge,mt:ge,content:null}]),pe[ye]=!0)}for(Ce.sort(function(ot,ze){return r(ot[0],ze[0])}),_.FullPaths=[],_.FileIndex=[],q=0;q<Ce.length;++q)_.FullPaths[q]=Ce[q][0],_.FileIndex[q]=Ce[q][1];for(q=0;q<Ce.length;++q){var Be=_.FileIndex[q],Xe=_.FullPaths[q];if(Be.name=s(Xe).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||xe,q===0)Be.C=Ce.length>1?1:-1,Be.size=0,Be.type=5;else if(Xe.slice(-1)=="/"){for(Pe=q+1;Pe<Ce.length&&n(_.FullPaths[Pe])!=Xe;++Pe);for(Be.C=Pe>=Ce.length?-1:Pe,Pe=q+1;Pe<Ce.length&&n(_.FullPaths[Pe])!=n(Xe);++Pe);Be.R=Pe>=Ce.length?-1:Pe,Be.type=1}else n(_.FullPaths[q+1]||"")==n(Xe)&&(Be.R=q+1),Be.type=2}}}function j(_,K){var V=K||{};if(V.fileType=="mad")return Al(_,V);switch(L(_),V.fileType){case"zip":return As(_,V)}var U=function(ot){for(var ze=0,Ve=0,Mt=0;Mt<ot.FileIndex.length;++Mt){var dr=ot.FileIndex[Mt];if(dr.content){var fr=dr.content.length;fr>0&&(fr<4096?ze+=fr+63>>6:Ve+=fr+511>>9)}}for(var Gr=ot.FullPaths.length+3>>2,Ml=ze+7>>3,pa=ze+127>>7,qi=Ml+Ve+Gr+pa,sn=qi+127>>7,ih=sn<=109?0:Math.ceil((sn-109)/127);qi+sn+ih+127>>7>sn;)ih=++sn<=109?0:Math.ceil((sn-109)/127);var Hr=[1,ih,sn,pa,Gr,Ve,ze,0];return ot.FileIndex[0].size=ze<<6,Hr[7]=(ot.FileIndex[0].start=Hr[0]+Hr[1]+Hr[2]+Hr[3]+Hr[4]+Hr[5])+(Hr[6]+7>>3),Hr}(_),q=Fe(U[7]<<9),Y=0,ge=0;{for(Y=0;Y<8;++Y)q.write_shift(1,Ee[Y]);for(Y=0;Y<8;++Y)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),Y=0;Y<3;++Y)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,U[2]),q.write_shift(4,U[0]+U[1]+U[2]+U[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,U[3]?U[0]+U[1]+U[2]-1:ie),q.write_shift(4,U[3]),q.write_shift(-4,U[1]?U[0]-1:ie),q.write_shift(4,U[1]),Y=0;Y<109;++Y)q.write_shift(-4,Y<U[2]?U[1]+Y:-1)}if(U[1])for(ge=0;ge<U[1];++ge){for(;Y<236+ge*127;++Y)q.write_shift(-4,Y<U[2]?U[1]+Y:-1);q.write_shift(-4,ge===U[1]-1?ie:ge+1)}var Pe=function(ot){for(ge+=ot;Y<ge-1;++Y)q.write_shift(-4,Y+1);ot&&(++Y,q.write_shift(-4,ie))};for(ge=Y=0,ge+=U[1];Y<ge;++Y)q.write_shift(-4,ae.DIFSECT);for(ge+=U[2];Y<ge;++Y)q.write_shift(-4,ae.FATSECT);Pe(U[3]),Pe(U[4]);for(var pe=0,Ce=0,ye=_.FileIndex[0];pe<_.FileIndex.length;++pe)ye=_.FileIndex[pe],ye.content&&(Ce=ye.content.length,!(Ce<4096)&&(ye.start=ge,Pe(Ce+511>>9)));for(Pe(U[6]+7>>3);q.l&511;)q.write_shift(-4,ae.ENDOFCHAIN);for(ge=Y=0,pe=0;pe<_.FileIndex.length;++pe)ye=_.FileIndex[pe],ye.content&&(Ce=ye.content.length,!(!Ce||Ce>=4096)&&(ye.start=ge,Pe(Ce+63>>6)));for(;q.l&511;)q.write_shift(-4,ae.ENDOFCHAIN);for(Y=0;Y<U[4]<<2;++Y){var Be=_.FullPaths[Y];if(!Be||Be.length===0){for(pe=0;pe<17;++pe)q.write_shift(4,0);for(pe=0;pe<3;++pe)q.write_shift(4,-1);for(pe=0;pe<12;++pe)q.write_shift(4,0);continue}ye=_.FileIndex[Y],Y===0&&(ye.start=ye.size?ye.start-1:ie);var Xe=Y===0&&V.root||ye.name;if(Ce=2*(Xe.length+1),q.write_shift(64,Xe,"utf16le"),q.write_shift(2,Ce),q.write_shift(1,ye.type),q.write_shift(1,ye.color),q.write_shift(-4,ye.L),q.write_shift(-4,ye.R),q.write_shift(-4,ye.C),ye.clsid)q.write_shift(16,ye.clsid,"hex");else for(pe=0;pe<4;++pe)q.write_shift(4,0);q.write_shift(4,ye.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,ye.start),q.write_shift(4,ye.size),q.write_shift(4,0)}for(Y=1;Y<_.FileIndex.length;++Y)if(ye=_.FileIndex[Y],ye.size>=4096)if(q.l=ye.start+1<<9,Jt&&Buffer.isBuffer(ye.content))ye.content.copy(q,q.l,0,ye.size),q.l+=ye.size+511&-512;else{for(pe=0;pe<ye.size;++pe)q.write_shift(1,ye.content[pe]);for(;pe&511;++pe)q.write_shift(1,0)}for(Y=1;Y<_.FileIndex.length;++Y)if(ye=_.FileIndex[Y],ye.size>0&&ye.size<4096)if(Jt&&Buffer.isBuffer(ye.content))ye.content.copy(q,q.l,0,ye.size),q.l+=ye.size+63&-64;else{for(pe=0;pe<ye.size;++pe)q.write_shift(1,ye.content[pe]);for(;pe&63;++pe)q.write_shift(1,0)}if(Jt)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function W(_,K){var V=_.FullPaths.map(function(pe){return pe.toUpperCase()}),U=V.map(function(pe){var Ce=pe.split("/");return Ce[Ce.length-(pe.slice(-1)=="/"?2:1)]}),q=!1;K.charCodeAt(0)===47?(q=!0,K=V[0].slice(0,-1)+K):q=K.indexOf("/")!==-1;var Y=K.toUpperCase(),ge=q===!0?V.indexOf(Y):U.indexOf(Y);if(ge!==-1)return _.FileIndex[ge];var Pe=!Y.match(wm);for(Y=Y.replace(Cf,""),Pe&&(Y=Y.replace(wm,"!")),ge=0;ge<V.length;++ge)if((Pe?V[ge].replace(wm,"!"):V[ge]).replace(Cf,"")==Y||(Pe?U[ge].replace(wm,"!"):U[ge]).replace(Cf,"")==Y)return _.FileIndex[ge];return null}var B=64,ie=-2,Se="d0cf11e0a1b11ae1",Ee=[208,207,17,224,161,177,26,225],xe="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ie,FREESECT:-1,HEADER_SIGNATURE:Se,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:xe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(_,K,V){u();var U=j(_,V);l.writeFileSync(K,U)}function re(_){for(var K=new Array(_.length),V=0;V<_.length;++V)K[V]=String.fromCharCode(_[V]);return K.join("")}function ue(_,K){var V=j(_,K);switch(K&&K.type||"buffer"){case"file":return u(),l.writeFileSync(K.filename,V),V;case"binary":return typeof V=="string"?V:re(V);case"base64":return qf(typeof V=="string"?V:re(V));case"buffer":if(Jt)return Buffer.isBuffer(V)?V:ha(V);case"array":return typeof V=="string"?_i(V):V}return V}var z;function N(_){try{var K=_.InflateRaw,V=new K;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)z=_;else throw new Error("zlib does not expose bytesRead")}catch(U){console.error("cannot use native zlib: "+(U.message||U))}}function O(_,K){if(!z)return gn(_,K);var V=z.InflateRaw,U=new V,q=U._processChunk(_.slice(_.l),U._finishFlushFlag);return _.l+=U.bytesRead,q}function H(_){return z?z.deflateRawSync(_):Oe(_)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(_){var K=(_<<1|_<<11)&139536|(_<<5|_<<15)&558144;return(K>>16|K>>8|K)&255}for(var X=typeof Uint8Array<"u",ne=X?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)ne[Ne]=ve(Ne);function Ae(_,K){var V=ne[_&255];return K<=8?V>>>8-K:(V=V<<8|ne[_>>8&255],K<=16?V>>>16-K:(V=V<<8|ne[_>>16&255],V>>>24-K))}function Qe(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=6?0:_[U+1]<<8))>>>V&3}function Je(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=5?0:_[U+1]<<8))>>>V&7}function ft(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=4?0:_[U+1]<<8))>>>V&15}function xt(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=3?0:_[U+1]<<8))>>>V&31}function We(_,K){var V=K&7,U=K>>>3;return(_[U]|(V<=1?0:_[U+1]<<8))>>>V&127}function le(_,K,V){var U=K&7,q=K>>>3,Y=(1<<V)-1,ge=_[q]>>>U;return V<8-U||(ge|=_[q+1]<<8-U,V<16-U)||(ge|=_[q+2]<<16-U,V<24-U)||(ge|=_[q+3]<<24-U),ge&Y}function Ke(_,K,V){var U=K&7,q=K>>>3;return U<=5?_[q]|=(V&7)<<U:(_[q]|=V<<U&255,_[q+1]=(V&7)>>8-U),K+3}function ct(_,K,V){var U=K&7,q=K>>>3;return V=(V&1)<<U,_[q]|=V,K+1}function Nt(_,K,V){var U=K&7,q=K>>>3;return V<<=U,_[q]|=V&255,V>>>=8,_[q+1]=V,K+8}function de(_,K,V){var U=K&7,q=K>>>3;return V<<=U,_[q]|=V&255,V>>>=8,_[q+1]=V&255,_[q+2]=V>>>8,K+16}function He(_,K){var V=_.length,U=2*V>K?2*V:K+5,q=0;if(V>=K)return _;if(Jt){var Y=ZD(U);if(_.copy)_.copy(Y);else for(;q<_.length;++q)Y[q]=_[q];return Y}else if(X){var ge=new Uint8Array(U);if(ge.set)ge.set(_);else for(;q<V;++q)ge[q]=_[q];return ge}return _.length=U,_}function Ue(_){for(var K=new Array(_),V=0;V<_;++V)K[V]=0;return K}function tt(_,K,V){var U=1,q=0,Y=0,ge=0,Pe=0,pe=_.length,Ce=X?new Uint16Array(32):Ue(32);for(Y=0;Y<32;++Y)Ce[Y]=0;for(Y=pe;Y<V;++Y)_[Y]=0;pe=_.length;var ye=X?new Uint16Array(pe):Ue(pe);for(Y=0;Y<pe;++Y)Ce[q=_[Y]]++,U<q&&(U=q),ye[Y]=0;for(Ce[0]=0,Y=1;Y<=U;++Y)Ce[Y+16]=Pe=Pe+Ce[Y-1]<<1;for(Y=0;Y<pe;++Y)Pe=_[Y],Pe!=0&&(ye[Y]=Ce[Pe+16]++);var Be=0;for(Y=0;Y<pe;++Y)if(Be=_[Y],Be!=0)for(Pe=Ae(ye[Y],U)>>U-Be,ge=(1<<U+4-Be)-1;ge>=0;--ge)K[Pe|ge<<Be]=Be&15|Y<<4;return U}var rt=X?new Uint16Array(512):Ue(512),gt=X?new Uint16Array(32):Ue(32);if(!X){for(var Vt=0;Vt<512;++Vt)rt[Vt]=0;for(Vt=0;Vt<32;++Vt)gt[Vt]=0}(function(){for(var _=[],K=0;K<32;K++)_.push(5);tt(_,gt,32);var V=[];for(K=0;K<=143;K++)V.push(8);for(;K<=255;K++)V.push(9);for(;K<=279;K++)V.push(7);for(;K<=287;K++)V.push(8);tt(V,rt,288)})();var zr=function(){for(var K=X?new Uint8Array(32768):[],V=0,U=0;V<oe.length-1;++V)for(;U<oe[V+1];++U)K[U]=V;for(;U<32768;++U)K[U]=29;var q=X?new Uint8Array(259):[];for(V=0,U=0;V<J.length-1;++V)for(;U<J[V+1];++U)q[U]=V;function Y(Pe,pe){for(var Ce=0;Ce<Pe.length;){var ye=Math.min(65535,Pe.length-Ce),Be=Ce+ye==Pe.length;for(pe.write_shift(1,+Be),pe.write_shift(2,ye),pe.write_shift(2,~ye&65535);ye-- >0;)pe[pe.l++]=Pe[Ce++]}return pe.l}function ge(Pe,pe){for(var Ce=0,ye=0,Be=X?new Uint16Array(32768):[];ye<Pe.length;){var Xe=Math.min(65535,Pe.length-ye);if(Xe<10){for(Ce=Ke(pe,Ce,+(ye+Xe==Pe.length)),Ce&7&&(Ce+=8-(Ce&7)),pe.l=Ce/8|0,pe.write_shift(2,Xe),pe.write_shift(2,~Xe&65535);Xe-- >0;)pe[pe.l++]=Pe[ye++];Ce=pe.l*8;continue}Ce=Ke(pe,Ce,+(ye+Xe==Pe.length)+2);for(var ot=0;Xe-- >0;){var ze=Pe[ye];ot=(ot<<5^ze)&32767;var Ve=-1,Mt=0;if((Ve=Be[ot])&&(Ve|=ye&-32768,Ve>ye&&(Ve-=32768),Ve<ye))for(;Pe[Ve+Mt]==Pe[ye+Mt]&&Mt<250;)++Mt;if(Mt>2){ze=q[Mt],ze<=22?Ce=Nt(pe,Ce,ne[ze+1]>>1)-1:(Nt(pe,Ce,3),Ce+=5,Nt(pe,Ce,ne[ze-23]>>5),Ce+=3);var dr=ze<8?0:ze-4>>2;dr>0&&(de(pe,Ce,Mt-J[ze]),Ce+=dr),ze=K[ye-Ve],Ce=Nt(pe,Ce,ne[ze]>>3),Ce-=3;var fr=ze<4?0:ze-2>>1;fr>0&&(de(pe,Ce,ye-Ve-oe[ze]),Ce+=fr);for(var Gr=0;Gr<Mt;++Gr)Be[ot]=ye&32767,ot=(ot<<5^Pe[ye])&32767,++ye;Xe-=Mt-1}else ze<=143?ze=ze+48:Ce=ct(pe,Ce,1),Ce=Nt(pe,Ce,ne[ze]),Be[ot]=ye&32767,++ye}Ce=Nt(pe,Ce,0)-1}return pe.l=(Ce+7)/8|0,pe.l}return function(pe,Ce){return pe.length<8?Y(pe,Ce):ge(pe,Ce)}}();function Oe(_){var K=Fe(50+Math.floor(_.length*1.1)),V=zr(_,K);return K.slice(0,V)}var vt=X?new Uint16Array(32768):Ue(32768),ur=X?new Uint16Array(32768):Ue(32768),nn=X?new Uint16Array(128):Ue(128),Qs=1,Me=1;function bt(_,K){var V=xt(_,K)+257;K+=5;var U=xt(_,K)+1;K+=5;var q=ft(_,K)+4;K+=4;for(var Y=0,ge=X?new Uint8Array(19):Ue(19),Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pe=1,Ce=X?new Uint8Array(8):Ue(8),ye=X?new Uint8Array(8):Ue(8),Be=ge.length,Xe=0;Xe<q;++Xe)ge[G[Xe]]=Y=Je(_,K),pe<Y&&(pe=Y),Ce[Y]++,K+=3;var ot=0;for(Ce[0]=0,Xe=1;Xe<=pe;++Xe)ye[Xe]=ot=ot+Ce[Xe-1]<<1;for(Xe=0;Xe<Be;++Xe)(ot=ge[Xe])!=0&&(Pe[Xe]=ye[ot]++);var ze=0;for(Xe=0;Xe<Be;++Xe)if(ze=ge[Xe],ze!=0){ot=ne[Pe[Xe]]>>8-ze;for(var Ve=(1<<7-ze)-1;Ve>=0;--Ve)nn[ot|Ve<<ze]=ze&7|Xe<<3}var Mt=[];for(pe=1;Mt.length<V+U;)switch(ot=nn[We(_,K)],K+=ot&7,ot>>>=3){case 16:for(Y=3+Qe(_,K),K+=2,ot=Mt[Mt.length-1];Y-- >0;)Mt.push(ot);break;case 17:for(Y=3+Je(_,K),K+=3;Y-- >0;)Mt.push(0);break;case 18:for(Y=11+We(_,K),K+=7;Y-- >0;)Mt.push(0);break;default:Mt.push(ot),pe<ot&&(pe=ot);break}var dr=Mt.slice(0,V),fr=Mt.slice(V);for(Xe=V;Xe<286;++Xe)dr[Xe]=0;for(Xe=U;Xe<30;++Xe)fr[Xe]=0;return Qs=tt(dr,vt,286),Me=tt(fr,ur,30),K}function Wt(_,K){if(_[0]==3&&!(_[1]&3))return[Dc(K),2];for(var V=0,U=0,q=ZD(K||1<<18),Y=0,ge=q.length>>>0,Pe=0,pe=0;(U&1)==0;){if(U=Je(_,V),V+=3,U>>>1)U>>1==1?(Pe=9,pe=5):(V=bt(_,V),Pe=Qs,pe=Me);else{V&7&&(V+=8-(V&7));var Ce=_[V>>>3]|_[(V>>>3)+1]<<8;if(V+=32,Ce>0)for(!K&&ge<Y+Ce&&(q=He(q,Y+Ce),ge=q.length);Ce-- >0;)q[Y++]=_[V>>>3],V+=8;continue}for(;;){!K&&ge<Y+32767&&(q=He(q,Y+32767),ge=q.length);var ye=le(_,V,Pe),Be=U>>>1==1?rt[ye]:vt[ye];if(V+=Be&15,Be>>>=4,(Be>>>8&255)===0)q[Y++]=Be;else{if(Be==256)break;Be-=257;var Xe=Be<8?0:Be-4>>2;Xe>5&&(Xe=0);var ot=Y+J[Be];Xe>0&&(ot+=le(_,V,Xe),V+=Xe),ye=le(_,V,pe),Be=U>>>1==1?gt[ye]:ur[ye],V+=Be&15,Be>>>=4;var ze=Be<4?0:Be-2>>1,Ve=oe[Be];for(ze>0&&(Ve+=le(_,V,ze),V+=ze),!K&&ge<ot&&(q=He(q,ot+100),ge=q.length);Y<ot;)q[Y]=q[Y-Ve],++Y}}}return K?[q,V+7>>>3]:[q.slice(0,Y),V+7>>>3]}function gn(_,K){var V=_.slice(_.l||0),U=Wt(V,K);return _.l+=U[1],U[0]}function yi(_,K){if(_)typeof console<"u"&&console.error(K);else throw new Error(K)}function Si(_,K){var V=_;Ls(V,0);var U=[],q=[],Y={FileIndex:U,FullPaths:q};M(Y,{root:K.root});for(var ge=V.length-4;(V[ge]!=80||V[ge+1]!=75||V[ge+2]!=5||V[ge+3]!=6)&&ge>=0;)--ge;V.l=ge+4,V.l+=4;var Pe=V.read_shift(2);V.l+=6;var pe=V.read_shift(4);for(V.l=pe,ge=0;ge<Pe;++ge){V.l+=20;var Ce=V.read_shift(4),ye=V.read_shift(4),Be=V.read_shift(2),Xe=V.read_shift(2),ot=V.read_shift(2);V.l+=8;var ze=V.read_shift(4),Ve=a(V.slice(V.l+Be,V.l+Be+Xe));V.l+=Be+Xe+ot;var Mt=V.l;V.l=ze+4,Xs(V,Ce,ye,Y,Ve),V.l=Mt}return Y}function Xs(_,K,V,U,q){_.l+=2;var Y=_.read_shift(2),ge=_.read_shift(2),Pe=o(_);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var pe=_.read_shift(4),Ce=_.read_shift(4),ye=_.read_shift(4),Be=_.read_shift(2),Xe=_.read_shift(2),ot="",ze=0;ze<Be;++ze)ot+=String.fromCharCode(_[_.l++]);if(Xe){var Ve=a(_.slice(_.l,_.l+Xe));(Ve[21589]||{}).mt&&(Pe=Ve[21589].mt),((q||{})[21589]||{}).mt&&(Pe=q[21589].mt)}_.l+=Xe;var Mt=_.slice(_.l,_.l+Ce);switch(ge){case 8:Mt=O(_,ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ge)}var dr=!1;Y&8&&(pe=_.read_shift(4),pe==134695760&&(pe=_.read_shift(4),dr=!0),Ce=_.read_shift(4),ye=_.read_shift(4)),Ce!=K&&yi(dr,"Bad compressed size: "+K+" != "+Ce),ye!=V&&yi(dr,"Bad uncompressed size: "+V+" != "+ye),Fo(U,ot,Mt,{unsafe:!0,mt:Pe})}function As(_,K){var V=K||{},U=[],q=[],Y=Fe(1),ge=V.compression?8:0,Pe=0,pe=0,Ce=0,ye=0,Be=0,Xe=_.FullPaths[0],ot=Xe,ze=_.FileIndex[0],Ve=[],Mt=0;for(pe=1;pe<_.FullPaths.length;++pe)if(ot=_.FullPaths[pe].slice(Xe.length),ze=_.FileIndex[pe],!(!ze.size||!ze.content||ot=="Sh33tJ5")){var dr=ye,fr=Fe(ot.length);for(Ce=0;Ce<ot.length;++Ce)fr.write_shift(1,ot.charCodeAt(Ce)&127);fr=fr.slice(0,fr.l),Ve[Be]=iue.buf(ze.content,0);var Gr=ze.content;ge==8&&(Gr=H(Gr)),Y=Fe(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Pe),Y.write_shift(2,ge),ze.mt?i(Y,ze.mt):Y.write_shift(4,0),Y.write_shift(-4,Ve[Be]),Y.write_shift(4,Gr.length),Y.write_shift(4,ze.content.length),Y.write_shift(2,fr.length),Y.write_shift(2,0),ye+=Y.length,U.push(Y),ye+=fr.length,U.push(fr),ye+=Gr.length,U.push(Gr),Y=Fe(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Pe),Y.write_shift(2,ge),Y.write_shift(4,0),Y.write_shift(-4,Ve[Be]),Y.write_shift(4,Gr.length),Y.write_shift(4,ze.content.length),Y.write_shift(2,fr.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,dr),Mt+=Y.l,q.push(Y),Mt+=fr.length,q.push(fr),++Be}return Y=Fe(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Be),Y.write_shift(2,Be),Y.write_shift(4,Mt),Y.write_shift(4,ye),Y.write_shift(2,0),wn([wn(U),wn(q),Y])}var Eo={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Up(_,K){if(_.ctype)return _.ctype;var V=_.name||"",U=V.match(/\.([^\.]+)$/);return U&&Eo[U[1]]||K&&(U=(V=K).match(/[\.\\]([^\.\\])+$/),U&&Eo[U[1]])?Eo[U[1]]:"application/octet-stream"}function zp(_){for(var K=qf(_),V=[],U=0;U<K.length;U+=76)V.push(K.slice(U,U+76));return V.join(`\r
`)+`\r
`}function $p(_){var K=_.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var ye=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(ye.length==1?"0"+ye:ye)});K=K.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),K.charAt(0)==`
`&&(K="=0D"+K.slice(1)),K=K.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],U=K.split(`\r
`),q=0;q<U.length;++q){var Y=U[q];if(Y.length==0){V.push("");continue}for(var ge=0;ge<Y.length;){var Pe=76,pe=Y.slice(ge,ge+Pe);pe.charAt(Pe-1)=="="?Pe--:pe.charAt(Pe-2)=="="?Pe-=2:pe.charAt(Pe-3)=="="&&(Pe-=3),pe=Y.slice(ge,ge+Pe),ge+=Pe,ge<Y.length&&(pe+="="),V.push(pe)}}return V.join(`\r
`)}function Kp(_){for(var K=[],V=0;V<_.length;++V){for(var U=_[V];V<=_.length&&U.charAt(U.length-1)=="=";)U=U.slice(0,U.length-1)+_[++V];K.push(U)}for(var q=0;q<K.length;++q)K[q]=K[q].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return _i(K.join(`\r
`))}function nh(_,K,V){for(var U="",q="",Y="",ge,Pe=0;Pe<10;++Pe){var pe=K[Pe];if(!pe||pe.match(/^\s*$/))break;var Ce=pe.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":U=Ce[2].trim();break;case"content-type":Y=Ce[2].trim();break;case"content-transfer-encoding":q=Ce[2].trim();break}}switch(++Pe,q.toLowerCase()){case"base64":ge=_i(ca(K.slice(Pe).join("")));break;case"quoted-printable":ge=Kp(K.slice(Pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var ye=Fo(_,U.slice(V.length),ge,{unsafe:!0});Y&&(ye.ctype=Y)}function qp(_,K){if(re(_.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=K&&K.root||"",U=(Jt&&Buffer.isBuffer(_)?_.toString("binary"):re(_)).split(`\r
`),q=0,Y="";for(q=0;q<U.length;++q)if(Y=U[q],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),V||(V=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),Y.slice(0,V.length)!=V););var ge=(U[1]||"").match(/boundary="(.*?)"/);if(!ge)throw new Error("MAD cannot find boundary");var Pe="--"+(ge[1]||""),pe=[],Ce=[],ye={FileIndex:pe,FullPaths:Ce};M(ye);var Be,Xe=0;for(q=0;q<U.length;++q){var ot=U[q];ot!==Pe&&ot!==Pe+"--"||(Xe++&&nh(ye,U.slice(Be,q),V),Be=q)}return ye}function Al(_,K){var V=K||{},U=V.boundary||"SheetJS";U="------="+U;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+U.slice(2)+'"',"","",""],Y=_.FullPaths[0],ge=Y,Pe=_.FileIndex[0],pe=1;pe<_.FullPaths.length;++pe)if(ge=_.FullPaths[pe].slice(Y.length),Pe=_.FileIndex[pe],!(!Pe.size||!Pe.content||ge=="Sh33tJ5")){ge=ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Mt){return"_x"+Mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Mt){return"_u"+Mt.charCodeAt(0).toString(16)+"_"});for(var Ce=Pe.content,ye=Jt&&Buffer.isBuffer(Ce)?Ce.toString("binary"):re(Ce),Be=0,Xe=Math.min(1024,ye.length),ot=0,ze=0;ze<=Xe;++ze)(ot=ye.charCodeAt(ze))>=32&&ot<128&&++Be;var Ve=Be>=Xe*4/5;q.push(U),q.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+ge),q.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),q.push("Content-Type: "+Up(Pe,ge)),q.push(""),q.push(Ve?$p(ye):zp(ye))}return q.push(U+`--\r
`),q.join(`\r
`)}function sh(_){var K={};return M(K,_),K}function Fo(_,K,V,U){var q=U&&U.unsafe;q||M(_);var Y=!q&&lr.find(_,K);if(!Y){var ge=_.FullPaths[0];K.slice(0,ge.length)==ge?ge=K:(ge.slice(-1)!="/"&&(ge+="/"),ge=(ge+K).replace("//","/")),Y={name:s(K),type:2},_.FileIndex.push(Y),_.FullPaths.push(ge),q||lr.utils.cfb_gc(_)}return Y.content=V,Y.size=V?V.length:0,U&&(U.CLSID&&(Y.clsid=U.CLSID),U.mt&&(Y.mt=U.mt),U.ct&&(Y.ct=U.ct)),Y}function nC(_,K){M(_);var V=lr.find(_,K);if(V){for(var U=0;U<_.FileIndex.length;++U)if(_.FileIndex[U]==V)return _.FileIndex.splice(U,1),_.FullPaths.splice(U,1),!0}return!1}function Dl(_,K,V){M(_);var U=lr.find(_,K);if(U){for(var q=0;q<_.FileIndex.length;++q)if(_.FileIndex[q]==U)return _.FileIndex[q].name=s(V),_.FullPaths[q]=V,!0}return!1}function nu(_){L(_,!0)}return t.find=W,t.read=D,t.parse=f,t.write=ue,t.writeFile=Z,t.utils={cfb_new:sh,cfb_add:Fo,cfb_del:nC,cfb_mov:Dl,cfb_gc:nu,ReadShift:Sf,CheckField:C3,prep_blob:Ls,bconcat:wn,use_zlib:N,_deflateRaw:Oe,_inflateRaw:gn,consts:ae},t}();function oue(e){return typeof e=="string"?I0(e):Array.isArray(e)?Nce(e):e}function Dp(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=I0(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Qf(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([oue(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Ap(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function En(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function a2(e,t){for(var r=[],n=En(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function Yb(e){for(var t=[],r=En(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function L0(e){for(var t=[],r=En(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function aue(e){for(var t=[],r=En(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var kv=new Date(1899,11,30,0,0,0);function Es(e,t){var r=e.getTime(),n=kv.getTime()+(e.getTimezoneOffset()-kv.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var t3=new Date,lue=kv.getTime()+(t3.getTimezoneOffset()-kv.getTimezoneOffset())*6e4,l2=t3.getTimezoneOffset();function r3(e){var t=new Date;return t.setTime(e*24*60*60*1e3+lue),t.getTimezoneOffset()!==l2&&t.setTime(t.getTime()+(t.getTimezoneOffset()-l2)*6e4),t}var c2=new Date("2017-02-19T19:06:09.000Z"),n3=isNaN(c2.getFullYear())?new Date("2/19/17"):c2,cue=n3.getFullYear()==2017;function as(e,t){var r=new Date(e);if(cue)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(n3.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function _0(e,t){if(Jt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function Fs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Fs(e[r]));return t}function Lr(e,t){for(var r="";r.length<t;)r+=e;return r}function Xo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var uue=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yf(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&uue.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Lt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Jt?n=ha(r):n=Ice(r),lr.utils.cfb_add(e,t,n)}lr.utils.cfb_add(e,t,r)}else e.file(t,r)}function Qb(){return lr.utils.cfb_new()}var Jr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,due={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Xb=Yb(due),Jb=/[&<>'"]/g,hue=/[\u0000-\u0008\u000b-\u001f]/g;function or(e){var t=e+"";return t.replace(Jb,function(r){return Xb[r]}).replace(hue,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function u2(e){return or(e).replace(/ /g,"_x0020_")}var s3=/[\u0000-\u001f]/g;function fue(e){var t=e+"";return t.replace(Jb,function(r){return Xb[r]}).replace(/\n/g,"<br/>").replace(s3,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function pue(e){var t=e+"";return t.replace(Jb,function(r){return Xb[r]}).replace(s3,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function gue(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function mue(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function BS(e){for(var t="",r=0,n=0,s=0,i=0,o=0,a=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),a=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function d2(e){var t=Dc(2*e.length),r,n,s=1,i=0,o=0,a;for(n=0;n<e.length;n+=s)s=1,(a=e.charCodeAt(n))<128?r=a:a<224?(r=(a&31)*64+(e.charCodeAt(n+1)&63),s=2):a<240?(r=(a&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(a&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function h2(e){return ha(e,"binary").toString("utf8")}var bm="foo bar bazâð£",yf=Jt&&(h2(bm)==BS(bm)&&h2||d2(bm)==BS(bm)&&d2)||BS,Qf=Jt?function(e){return ha(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},vue=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}}(),i3=/(^\s|\s$|\n)/;function xn(e,t){return"<"+e+(t.match(i3)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Xf(e){return En(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function qe(e,t,r){return"<"+e+(r!=null?Xf(r):"")+(t!=null?(t.match(i3)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function yx(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Cue(e,t){switch(typeof e){case"string":var r=qe("vt:lpwstr",or(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return qe((e|0)==e?"vt:i4":"vt:r8",or(String(e)));case"boolean":return qe("vt:bool",e?"true":"false")}if(e instanceof Date)return qe("vt:filetime",yx(e));throw new Error("Unable to serialize "+e)}var dn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],js={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function yue(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function Sue(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=n?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var a=0;a<=5;++a,i/=256)e[r+a]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|n}var f2=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,i=e[0][n].length;s<i;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},p2=Jt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ha(t)})):f2(e)}:f2,g2=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(of(e,s)));return n.join("").replace(Cf,"")},Zb=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Cf,""):g2(e,t,r)}:g2,m2=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},o3=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):m2(e,t,r)}:m2,v2=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(ku(e,s)));return n.join("")},Mp=Jt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):v2(t,r,n)}:v2,a3=function(e,t){var r=Bs(e,t);return r>0?Mp(e,t+4,t+4+r-1):""},l3=a3,c3=function(e,t){var r=Bs(e,t);return r>0?Mp(e,t+4,t+4+r-1):""},u3=c3,d3=function(e,t){var r=2*Bs(e,t);return r>0?Mp(e,t+4,t+4+r-1):""},h3=d3,f3=function(t,r){var n=Bs(t,r);return n>0?Zb(t,r+4,r+4+n):""},p3=f3,g3=function(e,t){var r=Bs(e,t);return r>0?Mp(e,t+4,t+4+r):""},m3=g3,v3=function(e,t){return yue(e,t)},Lv=v3,eR=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Jt&&(l3=function(t,r){if(!Buffer.isBuffer(t))return a3(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},u3=function(t,r){if(!Buffer.isBuffer(t))return c3(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},h3=function(t,r){if(!Buffer.isBuffer(t))return d3(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},p3=function(t,r){if(!Buffer.isBuffer(t))return f3(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},m3=function(t,r){if(!Buffer.isBuffer(t))return g3(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Lv=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):v3(t,r)},eR=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ku=function(e,t){return e[t]},of=function(e,t){return e[t+1]*256+e[t]},wue=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Bs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ec=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},xue=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Sf(e,t){var r="",n,s,i=[],o,a,l,u;switch(t){case"dbcs":if(u=this.l,Jt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(of(this,u)),u+=2;e*=2;break;case"utf8":r=Mp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Zb(this,this.l,this.l+e);break;case"wstr":return Sf.call(this,e,"dbcs");case"lpstr-ansi":r=l3(this,this.l),e=4+Bs(this,this.l);break;case"lpstr-cp":r=u3(this,this.l),e=4+Bs(this,this.l);break;case"lpwstr":r=h3(this,this.l),e=4+2*Bs(this,this.l);break;case"lpp4":e=4+Bs(this,this.l),r=p3(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Bs(this,this.l),r=m3(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=ku(this,this.l+e++))!==0;)i.push(Sm(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=of(this,this.l+e))!==0;)i.push(Sm(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ku(this,u),this.l=u+1,a=Sf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+a;i.push(Sm(of(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ku(this,u),this.l=u+1,a=Sf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+a;i.push(Sm(ku(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=ku(this,this.l),this.l++,n;case 2:return n=(t==="i"?wue:of)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?ec:xue)(this,this.l),this.l+=4,n):(s=Bs(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=Lv(this,this.l):s=Lv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=o3(this,this.l,e);break}}return this.l+=e,r}var bue=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Rue=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Eue=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Fue(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)Eue(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,bue(this,t,this.l);break;case 8:if(n=8,r==="f"){Sue(this,t,this.l);break}case 16:break;case-4:n=4,Rue(this,t,this.l);break}return this.l+=n,this}function C3(e,t){var r=o3(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ls(e,t){e.l=t,e.read_shift=Sf,e.chk=C3,e.write_shift=Fue}function mo(e,t){e.l+=t}function Fe(e){var t=Dc(e);return Ls(t,0),t}function Rs(){var e=[],t=Jt?256:2048,r=function(u){var f=Fe(u);return Ls(f,0),f},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,t)))},o=function(){return s(),wn(e)},a=function(u){s(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:a,end:o,_bufs:e}}function Ie(e,t,r,n){var s=+t,i;if(!isNaN(s)){n||(n=yme[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var a=0;a!=4;++a)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&eR(r)&&e.push(r)}}function wf(e,t,r){var n=Fs(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function C2(e,t,r){var n=Fs(e);return n.s=wf(n.s,t.s,r),n.e=wf(n.e,t.s,r),n}function xf(e,t){if(e.cRel&&e.c<0)for(e=Fs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Fs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ar(e);return!e.cRel&&e.cRel!=null&&(r=Aue(r)),!e.rRel&&e.rRel!=null&&(r=Tue(r)),r}function GS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ln(e.s.c)+":"+(e.e.cRel?"":"$")+Ln(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Rn(e.s.r)+":"+(e.e.rRel?"":"$")+Rn(e.e.r):xf(e.s,t.biff)+":"+xf(e.e,t.biff)}function tR(e){return parseInt(Pue(e),10)-1}function Rn(e){return""+(e+1)}function Tue(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Pue(e){return e.replace(/\$(\d+)$/,"$1")}function rR(e){for(var t=Due(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ln(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Aue(e){return e.replace(/^([A-Z])/,"$$$1")}function Due(e){return e.replace(/^\$([A-Z])/,"$1")}function Mue(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function hn(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function ar(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ys(e){var t=e.indexOf(":");return t==-1?{s:hn(e),e:hn(e)}:{s:hn(e.slice(0,t)),e:hn(e.slice(t+1))}}function qr(e,t){return typeof t>"u"||typeof t=="number"?qr(e.s,e.e):(typeof e!="string"&&(e=ar(e)),typeof t!="string"&&(t=ar(t)),e==t?e:e+":"+t)}function xr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=e.length;for(r=0;n<i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function y2(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=fl(e.z,r?Es(t):t)}catch{}try{return e.w=fl((e.XF||{}).numFmtId||(r?14:0),r?Es(t):t)}catch{return""+t}}function ua(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Np[e.v]||e.v:t==null?y2(e,e.v):y2(e,t))}function Kc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function y3(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,i=e||(s?[]:{}),o=0,a=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?hn(n.origin):n.origin;o=l.r,a=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=xr(i["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var C={v:t[p][g]},S=o+p,y=a+g;if(u.s.r>S&&(u.s.r=S),u.s.c>y&&(u.s.c=y),u.e.r<S&&(u.e.r=S),u.e.c<y&&(u.e.c=y),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))C=t[p][g];else if(Array.isArray(C.v)&&(C.f=t[p][g][1],C.v=C.v[0]),C.v===null)if(C.f)C.t="n";else if(n.nullError)C.t="e",C.v=0;else if(n.sheetStubs)C.t="z";else continue;else typeof C.v=="number"?C.t="n":typeof C.v=="boolean"?C.t="b":C.v instanceof Date?(C.z=n.dateNF||Br[14],n.cellDates?(C.t="d",C.w=fl(C.z,Es(C.v))):(C.t="n",C.v=Es(C.v),C.w=fl(C.z,C.v))):C.t="s";if(s)i[S]||(i[S]=[]),i[S][y]&&i[S][y].z&&(C.z=i[S][y].z),i[S][y]=C;else{var w=ar({c:y,r:S});i[w]&&i[w].z&&(C.z=i[w].z),i[w]=C}}}return u.s.c<1e7&&(i["!ref"]=qr(u)),i}function Qd(e,t){return y3(null,e,t)}function Nue(e){return e.read_shift(4,"i")}function Hi(e,t){return t||(t=Fe(4)),t.write_shift(4,e),t}function _n(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function fn(e,t){var r=!1;return t==null&&(r=!0,t=Fe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Iue(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Oue(e,t){return t||(t=Fe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function nR(e,t){var r=e.l,n=e.read_shift(1),s=_n(e),i=[],o={t:s,h:s};if((n&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)i.push(Iue(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function kue(e,t){var r=!1;return t==null&&(r=!0,t=Fe(15+4*e.t.length)),t.write_shift(1,0),fn(e.t,t),r?t.slice(0,t.l):t}var Lue=nR;function _ue(e,t){var r=!1;return t==null&&(r=!0,t=Fe(23+4*e.t.length)),t.write_shift(1,1),fn(e.t,t),t.write_shift(4,1),Oue({},t),r?t.slice(0,t.l):t}function vi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function qc(e,t){return t==null&&(t=Fe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Yc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Qc(e,t){return t==null&&(t=Fe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var jue=_n,S3=fn;function sR(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function _v(e,t){var r=!1;return t==null&&(r=!0,t=Fe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Bue=_n,Sx=sR,iR=_v;function w3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?Lv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):ec(t,0)>>2;return r?s/100:s}function x3(e,t){t==null&&(t=Fe(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function b3(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Gue(e,t){return t||(t=Fe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Xc=b3,Xd=Gue;function Jd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Mc(e,t){return(t||Fe(8)).write_shift(8,e,"f")}function Hue(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var u=Que[s];u&&(t.rgb=D2(u));break;case 2:t.rgb=D2([o,a,l]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function jv(e,t){if(t||(t=Fe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Vue(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Wue(e,t){t||(t=Fe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var R3=2,ks=3,Rm=11,Bv=19,Em=64,Uue=65,zue=71,$ue=4108,Kue=4126,Sn=80,S2={1:{n:"CodePage",t:R3},2:{n:"Category",t:Sn},3:{n:"PresentationFormat",t:Sn},4:{n:"ByteCount",t:ks},5:{n:"LineCount",t:ks},6:{n:"ParagraphCount",t:ks},7:{n:"SlideCount",t:ks},8:{n:"NoteCount",t:ks},9:{n:"HiddenCount",t:ks},10:{n:"MultimediaClipCount",t:ks},11:{n:"ScaleCrop",t:Rm},12:{n:"HeadingPairs",t:$ue},13:{n:"TitlesOfParts",t:Kue},14:{n:"Manager",t:Sn},15:{n:"Company",t:Sn},16:{n:"LinksUpToDate",t:Rm},17:{n:"CharacterCount",t:ks},19:{n:"SharedDoc",t:Rm},22:{n:"HyperlinksChanged",t:Rm},23:{n:"AppVersion",t:ks,p:"version"},24:{n:"DigSig",t:Uue},26:{n:"ContentType",t:Sn},27:{n:"ContentStatus",t:Sn},28:{n:"Language",t:Sn},29:{n:"Version",t:Sn},255:{},2147483648:{n:"Locale",t:Bv},2147483651:{n:"Behavior",t:Bv},1919054434:{}},w2={1:{n:"CodePage",t:R3},2:{n:"Title",t:Sn},3:{n:"Subject",t:Sn},4:{n:"Author",t:Sn},5:{n:"Keywords",t:Sn},6:{n:"Comments",t:Sn},7:{n:"Template",t:Sn},8:{n:"LastAuthor",t:Sn},9:{n:"RevNumber",t:Sn},10:{n:"EditTime",t:Em},11:{n:"LastPrinted",t:Em},12:{n:"CreatedDate",t:Em},13:{n:"ModifiedDate",t:Em},14:{n:"PageCount",t:ks},15:{n:"WordCount",t:ks},16:{n:"CharCount",t:ks},17:{n:"Thumbnail",t:zue},18:{n:"Application",t:Sn},19:{n:"DocSecurity",t:ks},255:{},2147483648:{n:"Locale",t:Bv},2147483651:{n:"Behavior",t:Bv},1919054434:{}};function que(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Yue=que([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Que=Fs(Yue),Np={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Xue={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Fm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function E3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function F3(e,t){var r=aue(Xue),n=[],s;n[n.length]=Jr,n[n.length]=qe("Types",null,{xmlns:dn.CT,"xmlns:xsd":dn.xsd,"xmlns:xsi":dn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return qe("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(s=e[l][0],n[n.length]=qe("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Fm[l][t.bookType]||Fm[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Fm[l][t.bookType]||Fm[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(u){n[n.length]=qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return i("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Yt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function T3(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function rd(e){var t=[Jr,qe("Relationships",null,{xmlns:dn.RELS})];return En(e["!id"]).forEach(function(r){t[t.length]=qe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ir(e,t,r,n,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[Yt.HLINK,Yt.XPATH,Yt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function Jue(e){var t=[Jr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function x2(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Zue(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function ede(e){var t=[Jr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(x2(e[r][0],e[r][1])),t.push(Zue("",e[r][0]));return t.push(x2("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function P3(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Mv.version+"</meta:generator></office:meta></office:document-meta>"}var yc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function HS(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=or(t),n[n.length]=r?qe(e,t,r):xn(e,t))}function A3(e,t){var r=t||{},n=[Jr,qe("cp:coreProperties",null,{"xmlns:cp":dn.CORE_PROPS,"xmlns:dc":dn.dc,"xmlns:dcterms":dn.dcterms,"xmlns:dcmitype":dn.dcmitype,"xmlns:xsi":dn.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&HS("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:yx(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&HS("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:yx(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=yc.length;++i){var o=yc[i],a=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&HS(o[0],a,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var nd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],D3=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function M3(e){var t=[],r=qe;return e||(e={}),e.Application="SheetJS",t[t.length]=Jr,t[t.length]=qe("Properties",null,{xmlns:dn.EXT_PROPS,"xmlns:vt":dn.vt}),nd.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=or(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+or(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function N3(e){var t=[Jr,qe("Properties",null,{xmlns:dn.CUST_PROPS,"xmlns:vt":dn.vt})];if(!e)return t.join("");var r=1;return En(e).forEach(function(s){++r,t[t.length]=qe("property",Cue(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:or(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var b2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function tde(e,t){var r=[];return En(b2).map(function(n){for(var s=0;s<yc.length;++s)if(yc[s][1]==n)return yc[s];for(s=0;s<nd.length;++s)if(nd[s][1]==n)return nd[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(xn(b2[n[1]]||n[1],s))}}),qe("DocumentProperties",r.join(""),{xmlns:js.o})}function rde(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&En(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<yc.length;++o)if(i==yc[o][1])return;for(o=0;o<nd.length;++o)if(i==nd[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var a=e[i],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),s.push(qe(u2(i),a,{"dt:dt":l}))}}),t&&En(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),s.push(qe(u2(i),o,{"dt:dt":a}))}}),"<"+n+' xmlns="'+js.o+'">'+s.join("")+"</"+n+">"}function nde(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=Fe(8);return o.write_shift(4,n),o.write_shift(4,s),o}function R2(e,t){var r=Fe(4),n=Fe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Fe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=nde(t);break;case 31:case 80:for(n=Fe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return wn([r,n])}var I3=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function sde(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function E2(e,t,r){var n=Fe(8),s=[],i=[],o=8,a=0,l=Fe(8),u=Fe(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),s.push(u),o+=8+l.length,!t){u=Fe(8),u.write_shift(4,0),s.unshift(u);var f=[Fe(4)];for(f[0].write_shift(4,e.length),a=0;a<e.length;++a){var p=e[a][0];for(l=Fe(8+2*(p.length+1)+(p.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,p.length+1),l.write_shift(0,p,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=wn(f),i.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(I3.indexOf(e[a][0])>-1||D3.indexOf(e[a][0])>-1)&&e[a][1]!=null){var g=e[a][1],C=0;if(t){C=+t[e[a][0]];var S=r[C];if(S.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}l=R2(S.t,g)}else{var w=sde(g);w==-1&&(w=31,g=String(g)),l=R2(w,g)}i.push(l),u=Fe(8),u.write_shift(4,t?C:2+a),s.push(u),o+=8+l.length}var b=8*(i.length+1);for(a=0;a<i.length;++a)s[a].write_shift(4,b),b+=i[a].length;return n.write_shift(4,o),n.write_shift(4,i.length),wn([n].concat(s).concat(i))}function F2(e,t,r,n,s,i){var o=Fe(s?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,lr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var l=E2(e,r,n);if(a.push(l),s){var u=E2(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),a.push(u)}return wn(a)}function ide(e,t){t||(t=Fe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function ode(e,t){return e.read_shift(t)===1}function qn(e,t){return t||(t=Fe(2)),t.write_shift(2,+!!e),t}function O3(e){return e.read_shift(2,"u")}function ui(e,t){return t||(t=Fe(2)),t.write_shift(2,e),t}function k3(e,t,r){return r||(r=Fe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function L3(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?e.read_shift(n,s):"";return o}function ade(e){var t=e.t||"",r=Fe(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Fe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return wn(s)}function lde(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function cde(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):lde(e,n,r)}function ude(e,t,r){if(r.biff>5)return cde(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function _3(e,t,r){return r||(r=Fe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function T2(e,t){t||(t=Fe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function dde(e){var t=Fe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),T2(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var a=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(a.length+1)),r=0;r<a.length;++r)t.write_shift(2,a.charCodeAt(r));t.write_shift(2,0),i&8&&T2(s>-1?n.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Nc(e,t,r,n){return n||(n=Fe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function hde(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[s,i,o]}function fde(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function j3(e,t){return t||(t=Fe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function oR(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Fe(s);return i.write_shift(2,n),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function pde(e,t){var r=!t||t.biff==8,n=Fe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function gde(e,t){var r=!t||t.biff>=8?2:1,n=Fe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function mde(e,t){var r=Fe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=ade(e[s]);var i=wn([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function vde(){var e=Fe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Cde(e){var t=Fe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function yde(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,i=Fe(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Sde(e,t,r,n){var s=Fe(10);return Nc(e,t,n,s),s.write_shift(4,r),s}function wde(e,t,r,n,s){var i=!s||s.biff==8,o=Fe(8+ +i+(1+i)*r.length);return Nc(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function xde(e,t,r,n){var s=r&&r.biff==5;n||(n=Fe(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function bde(e,t){var r=t.biff==8||!t.biff?4:2,n=Fe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function P2(e,t,r,n){var s=r&&r.biff==5;n||(n=Fe(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function Rde(e){var t=Fe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Ede(e,t,r,n,s,i){var o=Fe(8);return Nc(e,t,n,o),k3(r,i,o),o}function Fde(e,t,r,n){var s=Fe(14);return Nc(e,t,n,s),Mc(r,s),s}function Tde(e,t,r){if(r.biff<8)return Pde(e,t,r);for(var n=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(hde(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function Pde(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=L3(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Ade(e){var t=Fe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)j3(e[r],t);return t}function Dde(e){var t=Fe(24),r=hn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return wn([t,dde(e[1])])}function Mde(e){var t=e[1].Tooltip,r=Fe(10+2*(t.length+1));r.write_shift(2,2048);var n=hn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function Nde(e){return e||(e=Fe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Ide(e,t,r){if(!r.cellStyles)return mo(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s,e:i,w:o,ixfe:a,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function Ode(e,t){var r=Fe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function kde(e){for(var t=Fe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Lde(e,t,r){var n=Fe(15);return Op(n,e,t),n.write_shift(8,r,"f"),n}function _de(e,t,r){var n=Fe(9);return Op(n,e,t),n.write_shift(2,r),n}var jde=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Yb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(a,l){var u=[],f=Dc(1);switch(l.type){case"base64":f=_i(ca(a));break;case"binary":f=_i(a);break;case"buffer":case"array":f=a;break}Ls(f,0);var p=f.read_shift(1),g=!!(p&136),C=!1,S=!1;switch(p){case 2:break;case 3:break;case 48:C=!0,g=!0;break;case 49:C=!0,g=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var y=0,w=521;p==2&&(y=f.read_shift(2)),f.l+=3,p!=2&&(y=f.read_shift(4)),y>1048576&&(y=1e6),p!=2&&(w=f.read_shift(2));var b=f.read_shift(2),F=l.codepage||1252;p!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(F=e[f[f.l]]),f.l+=1,f.l+=2),S&&(f.l+=36);for(var E=[],R={},A=Math.min(f.length,p==2?521:w-10-(C?264:0)),D=S?32:11;f.l<A&&f[f.l]!=13;)switch(R={},R.name=JD.utils.decode(F,f.slice(f.l,f.l+D)).replace(/[\u0000\r\n].*$/g,""),f.l+=D,R.type=String.fromCharCode(f.read_shift(1)),p!=2&&!S&&(R.offset=f.read_shift(4)),R.len=f.read_shift(1),p==2&&(R.offset=f.read_shift(2)),R.dec=f.read_shift(1),R.name.length&&E.push(R),p!=2&&(f.l+=S?13:14),R.type){case"B":(!C||R.len!=8)&&l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(f[f.l]!==13&&(f.l=w-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=w;var M=0,I=0;for(u[0]=[],I=0;I!=E.length;++I)u[0][I]=E[I].name;for(;y-- >0;){if(f[f.l]===42){f.l+=b;continue}for(++f.l,u[++M]=[],I=0,I=0;I!=E.length;++I){var L=f.slice(f.l,f.l+E[I].len);f.l+=E[I].len,Ls(L,0);var j=JD.utils.decode(F,L);switch(E[I].type){case"C":j.trim().length&&(u[M][I]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[M][I]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[M][I]=j;break;case"F":u[M][I]=parseFloat(j.trim());break;case"+":case"I":u[M][I]=S?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[M][I]=!0;break;case"N":case"F":u[M][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[M][I]="##MEMO##"+(S?parseInt(j.trim(),10):L.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[M][I]=+j||0);break;case"@":u[M][I]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":u[M][I]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":u[M][I]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[M][I]=-L.read_shift(-8,"f");break;case"B":if(C&&E[I].len==8){u[M][I]=L.read_shift(8,"f");break}case"G":case"P":L.l+=E[I].len;break;case"0":if(E[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[I].type)}}}if(p!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=E,u}function n(a,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var f=Qd(r(a,u),u);return f["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,f}function s(a,l){try{return Kc(n(a,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var u=l||{};if(+u.codepage>=0&&Kf(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Rs(),p=Uv(a,{header:1,raw:!0,cellDates:!0}),g=p[0],C=p.slice(1),S=a["!cols"]||[],y=0,w=0,b=0,F=1;for(y=0;y<g.length;++y){if(((S[y]||{}).DBF||{}).name){g[y]=S[y].DBF.name,++b;continue}if(g[y]!=null){if(++b,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(w=0;w<1024;++w)if(g.indexOf(g[y]+"_"+w)==-1){g[y]+="_"+w;break}}}}var E=xr(a["!ref"]),R=[],A=[],D=[];for(y=0;y<=E.e.c-E.s.c;++y){var M="",I="",L=0,j=[];for(w=0;w<C.length;++w)C[w][y]!=null&&j.push(C[w][y]);if(j.length==0||g[y]==null){R[y]="?";continue}for(w=0;w<j.length;++w){switch(typeof j[w]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=j[w]instanceof Date?"D":"C";break;default:I="C"}L=Math.max(L,String(j[w]).length),M=M&&M!=I?"C":I}L>250&&(L=250),I=((S[y]||{}).DBF||{}).type,I=="C"&&S[y].DBF.len>L&&(L=S[y].DBF.len),M=="B"&&I=="N"&&(M="N",D[y]=S[y].DBF.dec,L=S[y].DBF.len),A[y]=M=="C"||I=="N"?L:i[M]||0,F+=A[y],R[y]=M}var W=f.next(32);for(W.write_shift(4,318902576),W.write_shift(4,C.length),W.write_shift(2,296+32*b),W.write_shift(2,F),y=0;y<4;++y)W.write_shift(4,0);for(W.write_shift(4,0|(+t[G4]||3)<<8),y=0,w=0;y<g.length;++y)if(g[y]!=null){var B=f.next(32),ie=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,ie,"sbcs"),B.write_shift(1,R[y]=="?"?"C":R[y],"sbcs"),B.write_shift(4,w),B.write_shift(1,A[y]||i[R[y]]||0),B.write_shift(1,D[y]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),w+=A[y]||i[R[y]]||0}var Se=f.next(264);for(Se.write_shift(4,13),y=0;y<65;++y)Se.write_shift(4,0);for(y=0;y<C.length;++y){var Ee=f.next(F);for(Ee.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(R[w]){case"L":Ee.write_shift(1,C[y][w]==null?63:C[y][w]?84:70);break;case"B":Ee.write_shift(8,C[y][w]||0,"f");break;case"N":var xe="0";for(typeof C[y][w]=="number"&&(xe=C[y][w].toFixed(D[w]||0)),b=0;b<A[w]-xe.length;++b)Ee.write_shift(1,32);Ee.write_shift(1,xe,"sbcs");break;case"D":C[y][w]?(Ee.write_shift(4,("0000"+C[y][w].getFullYear()).slice(-4),"sbcs"),Ee.write_shift(2,("00"+(C[y][w].getMonth()+1)).slice(-2),"sbcs"),Ee.write_shift(2,("00"+C[y][w].getDate()).slice(-2),"sbcs")):Ee.write_shift(8,"00000000","sbcs");break;case"C":var ae=String(C[y][w]!=null?C[y][w]:"").slice(0,A[w]);for(Ee.write_shift(1,ae,"sbcs"),b=0;b<A[w]-ae.length;++b)Ee.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}}(),Bde=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+En(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,C){var S=e[C];return typeof S=="number"?XD(S):S},n=function(g,C,S){var y=C.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return y==59?g:XD(y)};e["|"]=254;function s(g,C){switch(C.type){case"base64":return i(ca(g),C);case"binary":return i(g,C);case"buffer":return i(Jt&&Buffer.isBuffer(g)?g.toString("binary"):Ap(g),C);case"array":return i(_0(g),C)}throw new Error("Unrecognized type "+C.type)}function i(g,C){var S=g.split(/[\n\r]+/),y=-1,w=-1,b=0,F=0,E=[],R=[],A=null,D={},M=[],I=[],L=[],j=0,W;for(+C.codepage>=0&&Kf(+C.codepage);b!==S.length;++b){j=0;var B=S[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),ie=B.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),Se=ie[0],Ee;if(B.length>0)switch(Se){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ie[1].charAt(0)=="P"&&R.push(B.slice(3).replace(/;;/g,";"));break;case"C":var xe=!1,ae=!1,Z=!1,re=!1,ue=-1,z=-1;for(F=1;F<ie.length;++F)switch(ie[F].charAt(0)){case"A":break;case"X":w=parseInt(ie[F].slice(1))-1,ae=!0;break;case"Y":for(y=parseInt(ie[F].slice(1))-1,ae||(w=0),W=E.length;W<=y;++W)E[W]=[];break;case"K":Ee=ie[F].slice(1),Ee.charAt(0)==='"'?Ee=Ee.slice(1,Ee.length-1):Ee==="TRUE"?Ee=!0:Ee==="FALSE"?Ee=!1:isNaN(Xo(Ee))?isNaN(Yf(Ee).getDate())||(Ee=as(Ee)):(Ee=Xo(Ee),A!==null&&J4(A)&&(Ee=r3(Ee))),xe=!0;break;case"E":re=!0;var N=_he(ie[F].slice(1),{r:y,c:w});E[y][w]=[E[y][w],N];break;case"S":Z=!0,E[y][w]=[E[y][w],"S5S"];break;case"G":break;case"R":ue=parseInt(ie[F].slice(1))-1;break;case"C":z=parseInt(ie[F].slice(1))-1;break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+B)}if(xe&&(E[y][w]&&E[y][w].length==2?E[y][w][0]=Ee:E[y][w]=Ee,A=null),Z){if(re)throw new Error("SYLK shared formula cannot have own formula");var O=ue>-1&&E[ue][z];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");E[y][w][1]=jhe(O[1],{r:y-ue,c:w-z})}break;case"F":var H=0;for(F=1;F<ie.length;++F)switch(ie[F].charAt(0)){case"X":w=parseInt(ie[F].slice(1))-1,++H;break;case"Y":for(y=parseInt(ie[F].slice(1))-1,W=E.length;W<=y;++W)E[W]=[];break;case"M":j=parseInt(ie[F].slice(1))/20;break;case"F":break;case"G":break;case"P":A=R[parseInt(ie[F].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=ie[F].slice(1).split(" "),W=parseInt(L[0],10);W<=parseInt(L[1],10);++W)j=parseInt(L[2],10),I[W-1]=j===0?{hidden:!0}:{wch:j},aR(I[W-1]);break;case"C":w=parseInt(ie[F].slice(1))-1,I[w]||(I[w]={});break;case"R":y=parseInt(ie[F].slice(1))-1,M[y]||(M[y]={}),j>0?(M[y].hpt=j,M[y].hpx=W3(j)):j===0&&(M[y].hidden=!0);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+B)}H<1&&(A=null);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+B)}}return M.length>0&&(D["!rows"]=M),I.length>0&&(D["!cols"]=I),C&&C.sheetRows&&(E=E.slice(0,C.sheetRows)),[E,D]}function o(g,C){var S=s(g,C),y=S[0],w=S[1],b=Qd(y,C);return En(w).forEach(function(F){b[F]=w[F]}),b}function a(g,C){return Kc(o(g,C),C)}function l(g,C,S,y){var w="C;Y"+(S+1)+";X"+(y+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+cR(g.f,{r:S,c:y}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function u(g,C){C.forEach(function(S,y){var w="F;W"+(y+1)+" "+(y+1)+" ";S.hidden?w+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Gv(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=Hv(S.wpx)),typeof S.wch=="number"&&(w+=Math.round(S.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function f(g,C){C.forEach(function(S,y){var w="F;";S.hidden?w+="M0;":S.hpt?w+="M"+20*S.hpt+";":S.hpx&&(w+="M"+20*Vv(S.hpx)+";"),w.length>2&&g.push(w+"R"+(y+1))})}function p(g,C){var S=["ID;PWXL;N;E"],y=[],w=xr(g["!ref"]),b,F=Array.isArray(g),E=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),g["!cols"]&&u(S,g["!cols"]),g["!rows"]&&f(S,g["!rows"]),S.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var R=w.s.r;R<=w.e.r;++R)for(var A=w.s.c;A<=w.e.c;++A){var D=ar({r:R,c:A});b=F?(g[R]||[])[A]:g[D],!(!b||b.v==null&&(!b.f||b.F))&&y.push(l(b,g,R,A))}return S.join(E)+E+y.join(E)+E+"E"+E}return{to_workbook:a,to_sheet:o,from_sheet:p}}(),Gde=function(){function e(i,o){switch(o.type){case"base64":return t(ca(i),o);case"binary":return t(i,o);case"buffer":return t(Jt&&Buffer.isBuffer(i)?i.toString("binary"):Ap(i),o);case"array":return t(_0(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var a=i.split(`
`),l=-1,u=-1,f=0,p=[];f!==a.length;++f){if(a[f].trim()==="BOT"){p[++l]=[],u=0;continue}if(!(l<0)){var g=a[f].trim().split(","),C=g[0],S=g[1];++f;for(var y=a[f]||"";(y.match(/["]/g)||[]).length&1&&f<a.length-1;)y+=`
`+a[++f];switch(y=y.trim(),+C){case-1:if(y==="BOT"){p[++l]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?p[l][u]=!0:y==="FALSE"?p[l][u]=!1:isNaN(Xo(S))?isNaN(Yf(S).getDate())?p[l][u]=S:p[l][u]=as(S):p[l][u]=Xo(S),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),p[l][u++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(i,o){return Qd(e(i,o),o)}function n(i,o){return Kc(r(i,o),o)}var s=function(){var i=function(l,u,f,p,g){l.push(u),l.push(f+","+p),l.push('"'+g.replace(/"/g,'""')+'"')},o=function(l,u,f,p){l.push(u+","+f),l.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(l){var u=[],f=xr(l["!ref"]),p,g=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,f.e.r-f.s.r+1,""),i(u,"TUPLES",0,f.e.c-f.s.c+1,""),i(u,"DATA",0,0,"");for(var C=f.s.r;C<=f.e.r;++C){o(u,-1,0,"BOT");for(var S=f.s.c;S<=f.e.c;++S){var y=ar({r:C,c:S});if(p=g?(l[C]||[])[S]:l[y],!p){o(u,1,0,"");continue}switch(p.t){case"n":var w=p.w;!w&&p.v!=null&&(w=p.v),w==null?p.f&&!p.F?o(u,1,0,"="+p.f):o(u,1,0,""):o(u,0,w,"V");break;case"b":o(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=fl(p.z||Br[14],Es(as(p.v)))),o(u,0,p.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,F=u.join(b);return F}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),B3=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var C=p.split(`
`),S=-1,y=-1,w=0,b=[];w!==C.length;++w){var F=C[w].trim().split(":");if(F[0]==="cell"){var E=hn(F[1]);if(b.length<=E.r)for(S=b.length;S<=E.r;++S)b[S]||(b[S]=[]);switch(S=E.r,y=E.c,F[2]){case"t":b[S][y]=e(F[3]);break;case"v":b[S][y]=+F[3];break;case"vtf":var R=F[F.length-1];case"vtc":switch(F[3]){case"nl":b[S][y]=!!+F[4];break;default:b[S][y]=+F[4];break}F[2]=="vtf"&&(b[S][y]=[b[S][y],R])}}}return g&&g.sheetRows&&(b=b.slice(0,g.sheetRows)),b}function n(p,g){return Qd(r(p,g),g)}function s(p,g){return Kc(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],C=[],S,y="",w=Ys(p["!ref"]),b=Array.isArray(p),F=w.s.r;F<=w.e.r;++F)for(var E=w.s.c;E<=w.e.c;++E)if(y=ar({r:F,c:E}),S=b?(p[F]||[])[E]:p[y],!(!S||S.v==null||S.t==="z")){switch(C=["cell",y,"t"],S.t){case"s":case"str":C.push(t(S.v));break;case"n":S.f?(C[2]="vtf",C[3]="n",C[4]=S.v,C[5]=t(S.f)):(C[2]="v",C[3]=S.v);break;case"b":C[2]="vt"+(S.f?"f":"c"),C[3]="nl",C[4]=S.v?"1":"0",C[5]=t(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var R=Es(as(S.v));C[2]="vtc",C[3]="nd",C[4]=""+R,C[5]=S.w||fl(S.z||Br[14],R);break;case"e":continue}g.push(C.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(p){return[i,o,a,o,u(p),l].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:f}}(),Hde=function(){function e(f,p,g,C,S){S.raw?p[g][C]=f:f===""||(f==="TRUE"?p[g][C]=!0:f==="FALSE"?p[g][C]=!1:isNaN(Xo(f))?isNaN(Yf(f).getDate())?p[g][C]=f:p[g][C]=as(f):p[g][C]=Xo(f))}function t(f,p){var g=p||{},C=[];if(!f||f.length===0)return C;for(var S=f.split(/[\r\n]/),y=S.length-1;y>=0&&S[y].length===0;)--y;for(var w=10,b=0,F=0;F<=y;++F)b=S[F].indexOf(" "),b==-1?b=S[F].length:b++,w=Math.max(w,b);for(F=0;F<=y;++F){C[F]=[];var E=0;for(e(S[F].slice(0,w).trim(),C,F,E,g),E=1;E<=(S[F].length-w)/10+1;++E)e(S[F].slice(w+(E-1)*10,w+E*10).trim(),C,F,E,g)}return g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(f){for(var p={},g=!1,C=0,S=0;C<f.length;++C)(S=f.charCodeAt(C))==34?g=!g:!g&&S in r&&(p[S]=(p[S]||0)+1);S=[];for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&S.push([p[C],C]);if(!S.length){p=n;for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&S.push([p[C],C])}return S.sort(function(y,w){return y[0]-w[0]||n[y[1]]-n[w[1]]}),r[S.pop()[1]]||44}function i(f,p){var g=p||{},C="",S=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(C=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(C=f.charAt(4),f=f.slice(6)):C=s(f.slice(0,1024)):g&&g.FS?C=g.FS:C=s(f.slice(0,1024));var w=0,b=0,F=0,E=0,R=0,A=C.charCodeAt(0),D=!1,M=0,I=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var L=g.dateNF!=null?nue(g.dateNF):null;function j(){var W=f.slice(E,R),B={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)B.t="z";else if(g.raw)B.t="s",B.v=W;else if(W.trim().length===0)B.t="s",B.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(B.t="s",B.v=W.slice(2,-1).replace(/""/g,'"')):Bhe(W)?(B.t="n",B.f=W.slice(1)):(B.t="s",B.v=W);else if(W=="TRUE")B.t="b",B.v=!0;else if(W=="FALSE")B.t="b",B.v=!1;else if(!isNaN(F=Xo(W)))B.t="n",g.cellText!==!1&&(B.w=W),B.v=F;else if(!isNaN(Yf(W).getDate())||L&&W.match(L)){B.z=g.dateNF||Br[14];var ie=0;L&&W.match(L)&&(W=sue(W,g.dateNF,W.match(L)||[]),ie=1),g.cellDates?(B.t="d",B.v=as(W,ie)):(B.t="n",B.v=Es(as(W,ie))),g.cellText!==!1&&(B.w=fl(B.z,B.v instanceof Date?Es(B.v):B.v)),g.cellNF||delete B.z}else B.t="s",B.v=W;if(B.t=="z"||(g.dense?(S[w]||(S[w]=[]),S[w][b]=B):S[ar({c:b,r:w})]=B),E=R+1,I=f.charCodeAt(E),y.e.c<b&&(y.e.c=b),y.e.r<w&&(y.e.r=w),M==A)++b;else if(b=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;R<f.length;++R)switch(M=f.charCodeAt(R)){case 34:I===34&&(D=!D);break;case A:case 10:case 13:if(!D&&j())break e;break}return R-E>0&&j(),S["!ref"]=qr(y),S}function o(f,p){return!(p&&p.PRN)||p.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,p):Qd(t(f,p),p)}function a(f,p){var g="",C=p.type=="string"?[0,0,0,0]:Zme(f,p);switch(p.type){case"base64":g=ca(f);break;case"binary":g=f;break;case"buffer":p.codepage==65001?g=f.toString("utf8"):(p.codepage,g=Jt&&Buffer.isBuffer(f)?f.toString("binary"):Ap(f));break;case"array":g=_0(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+p.type)}return C[0]==239&&C[1]==187&&C[2]==191?g=yf(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=yf(g):p.type=="binary",g.slice(0,19)=="socialcalc:version:"?B3.to_sheet(p.type=="string"?g:yf(g),p):o(g,p)}function l(f,p){return Kc(a(f,p),p)}function u(f){for(var p=[],g=xr(f["!ref"]),C,S=Array.isArray(f),y=g.s.r;y<=g.e.r;++y){for(var w=[],b=g.s.c;b<=g.e.c;++b){var F=ar({r:y,c:b});if(C=S?(f[y]||[])[b]:f[F],!C||C.v==null){w.push("          ");continue}for(var E=(C.w||(ua(C),C.w)||"").slice(0,10);E.length<10;)E+=" ";w.push(E+(b===0?" ":""))}p.push(w.join(""))}return p.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:u}}(),A2=function(){function e(N,O,H){if(N){Ls(N,N.l||0);for(var G=H.Enum||ue;N.l<N.length;){var J=N.read_shift(2),oe=G[J]||G[65535],ve=N.read_shift(2),X=N.l+ve,ne=oe.f&&oe.f(N,ve,H);if(N.l=X,O(ne,oe,J))return}}}function t(N,O){switch(O.type){case"base64":return r(_i(ca(N)),O);case"binary":return r(_i(N),O);case"buffer":case"array":return r(N,O)}throw"Unsupported type "+O.type}function r(N,O){if(!N)return N;var H=O||{},G=H.dense?[]:{},J="Sheet1",oe="",ve=0,X={},ne=[],Ne=[],Ae={s:{r:0,c:0},e:{r:0,c:0}},Qe=H.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)H.Enum=ue,e(N,function(We,le,Ke){switch(Ke){case 0:H.vers=We,We>=4096&&(H.qpro=!0);break;case 6:Ae=We;break;case 204:We&&(oe=We);break;case 222:oe=We;break;case 15:case 51:H.qpro||(We[1].v=We[1].v.slice(1));case 13:case 14:case 16:Ke==14&&(We[2]&112)==112&&(We[2]&15)>1&&(We[2]&15)<15&&(We[1].z=H.dateNF||Br[14],H.cellDates&&(We[1].t="d",We[1].v=r3(We[1].v))),H.qpro&&We[3]>ve&&(G["!ref"]=qr(Ae),X[J]=G,ne.push(J),G=H.dense?[]:{},Ae={s:{r:0,c:0},e:{r:0,c:0}},ve=We[3],J=oe||"Sheet"+(ve+1),oe="");var ct=H.dense?(G[We[0].r]||[])[We[0].c]:G[ar(We[0])];if(ct){ct.t=We[1].t,ct.v=We[1].v,We[1].z!=null&&(ct.z=We[1].z),We[1].f!=null&&(ct.f=We[1].f);break}H.dense?(G[We[0].r]||(G[We[0].r]=[]),G[We[0].r][We[0].c]=We[1]):G[ar(We[0])]=We[1];break}},H);else if(N[2]==26||N[2]==14)H.Enum=z,N[2]==14&&(H.qpro=!0,N.l=0),e(N,function(We,le,Ke){switch(Ke){case 204:J=We;break;case 22:We[1].v=We[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(We[3]>ve&&(G["!ref"]=qr(Ae),X[J]=G,ne.push(J),G=H.dense?[]:{},Ae={s:{r:0,c:0},e:{r:0,c:0}},ve=We[3],J="Sheet"+(ve+1)),Qe>0&&We[0].r>=Qe)break;H.dense?(G[We[0].r]||(G[We[0].r]=[]),G[We[0].r][We[0].c]=We[1]):G[ar(We[0])]=We[1],Ae.e.c<We[0].c&&(Ae.e.c=We[0].c),Ae.e.r<We[0].r&&(Ae.e.r=We[0].r);break;case 27:We[14e3]&&(Ne[We[14e3][0]]=We[14e3][1]);break;case 1537:Ne[We[0]]=We[1],We[0]==ve&&(J=We[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(G["!ref"]=qr(Ae),X[oe||J]=G,ne.push(oe||J),!Ne.length)return{SheetNames:ne,Sheets:X};for(var Je={},ft=[],xt=0;xt<Ne.length;++xt)X[ne[xt]]?(ft.push(Ne[xt]||ne[xt]),Je[Ne[xt]]=X[Ne[xt]]||X[ne[xt]]):(ft.push(Ne[xt]),Je[Ne[xt]]={"!ref":"A1"});return{SheetNames:ft,Sheets:Je}}function n(N,O){var H=O||{};if(+H.codepage>=0&&Kf(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var G=Rs(),J=xr(N["!ref"]),oe=Array.isArray(N),ve=[];Ye(G,0,i(1030)),Ye(G,6,l(J));for(var X=Math.min(J.e.r,8191),ne=J.s.r;ne<=X;++ne)for(var Ne=Rn(ne),Ae=J.s.c;Ae<=J.e.c;++Ae){ne===J.s.r&&(ve[Ae]=Ln(Ae));var Qe=ve[Ae]+Ne,Je=oe?(N[ne]||[])[Ae]:N[Qe];if(!(!Je||Je.t=="z"))if(Je.t=="n")(Je.v|0)==Je.v&&Je.v>=-32768&&Je.v<=32767?Ye(G,13,C(ne,Ae,Je.v)):Ye(G,14,y(ne,Ae,Je.v));else{var ft=ua(Je);Ye(G,15,p(ne,Ae,ft.slice(0,239)))}}return Ye(G,1),G.end()}function s(N,O){var H=O||{};if(+H.codepage>=0&&Kf(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var G=Rs();Ye(G,0,o(N));for(var J=0,oe=0;J<N.SheetNames.length;++J)(N.Sheets[N.SheetNames[J]]||{})["!ref"]&&Ye(G,27,re(N.SheetNames[J],oe++));var ve=0;for(J=0;J<N.SheetNames.length;++J){var X=N.Sheets[N.SheetNames[J]];if(!(!X||!X["!ref"])){for(var ne=xr(X["!ref"]),Ne=Array.isArray(X),Ae=[],Qe=Math.min(ne.e.r,8191),Je=ne.s.r;Je<=Qe;++Je)for(var ft=Rn(Je),xt=ne.s.c;xt<=ne.e.c;++xt){Je===ne.s.r&&(Ae[xt]=Ln(xt));var We=Ae[xt]+ft,le=Ne?(X[Je]||[])[xt]:X[We];if(!(!le||le.t=="z"))if(le.t=="n")Ye(G,23,j(Je,xt,ve,le.v));else{var Ke=ua(le);Ye(G,22,M(Je,xt,ve,Ke.slice(0,239)))}}++ve}}return Ye(G,1),G.end()}function i(N){var O=Fe(2);return O.write_shift(2,N),O}function o(N){var O=Fe(26);O.write_shift(2,4096),O.write_shift(2,4),O.write_shift(4,0);for(var H=0,G=0,J=0,oe=0;oe<N.SheetNames.length;++oe){var ve=N.SheetNames[oe],X=N.Sheets[ve];if(!(!X||!X["!ref"])){++J;var ne=Ys(X["!ref"]);H<ne.e.r&&(H=ne.e.r),G<ne.e.c&&(G=ne.e.c)}}return H>8191&&(H=8191),O.write_shift(2,H),O.write_shift(1,J),O.write_shift(1,G),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(1,1),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(4,0),O}function a(N,O,H){var G={s:{c:0,r:0},e:{c:0,r:0}};return O==8&&H.qpro?(G.s.c=N.read_shift(1),N.l++,G.s.r=N.read_shift(2),G.e.c=N.read_shift(1),N.l++,G.e.r=N.read_shift(2),G):(G.s.c=N.read_shift(2),G.s.r=N.read_shift(2),O==12&&H.qpro&&(N.l+=2),G.e.c=N.read_shift(2),G.e.r=N.read_shift(2),O==12&&H.qpro&&(N.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(N){var O=Fe(8);return O.write_shift(2,N.s.c),O.write_shift(2,N.s.r),O.write_shift(2,N.e.c),O.write_shift(2,N.e.r),O}function u(N,O,H){var G=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(G[0].c=N.read_shift(1),G[3]=N.read_shift(1),G[0].r=N.read_shift(2),N.l+=2):(G[2]=N.read_shift(1),G[0].c=N.read_shift(2),G[0].r=N.read_shift(2)),G}function f(N,O,H){var G=N.l+O,J=u(N,O,H);if(J[1].t="s",H.vers==20768){N.l++;var oe=N.read_shift(1);return J[1].v=N.read_shift(oe,"utf8"),J}return H.qpro&&N.l++,J[1].v=N.read_shift(G-N.l,"cstr"),J}function p(N,O,H){var G=Fe(7+H.length);G.write_shift(1,255),G.write_shift(2,O),G.write_shift(2,N),G.write_shift(1,39);for(var J=0;J<G.length;++J){var oe=H.charCodeAt(J);G.write_shift(1,oe>=128?95:oe)}return G.write_shift(1,0),G}function g(N,O,H){var G=u(N,O,H);return G[1].v=N.read_shift(2,"i"),G}function C(N,O,H){var G=Fe(7);return G.write_shift(1,255),G.write_shift(2,O),G.write_shift(2,N),G.write_shift(2,H,"i"),G}function S(N,O,H){var G=u(N,O,H);return G[1].v=N.read_shift(8,"f"),G}function y(N,O,H){var G=Fe(13);return G.write_shift(1,255),G.write_shift(2,O),G.write_shift(2,N),G.write_shift(8,H,"f"),G}function w(N,O,H){var G=N.l+O,J=u(N,O,H);if(J[1].v=N.read_shift(8,"f"),H.qpro)N.l=G;else{var oe=N.read_shift(2);R(N.slice(N.l,N.l+oe),J),N.l+=oe}return J}function b(N,O,H){var G=O&32768;return O&=-32769,O=(G?N:0)+(O>=8192?O-16384:O),(G?"":"$")+(H?Ln(O):Rn(O))}var F={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(N,O){Ls(N,0);for(var H=[],G=0,J="",oe="",ve="",X="";N.l<N.length;){var ne=N[N.l++];switch(ne){case 0:H.push(N.read_shift(8,"f"));break;case 1:oe=b(O[0].c,N.read_shift(2),!0),J=b(O[0].r,N.read_shift(2),!1),H.push(oe+J);break;case 2:{var Ne=b(O[0].c,N.read_shift(2),!0),Ae=b(O[0].r,N.read_shift(2),!1);oe=b(O[0].c,N.read_shift(2),!0),J=b(O[0].r,N.read_shift(2),!1),H.push(Ne+Ae+":"+oe+J)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(N.read_shift(2));break;case 6:{for(var Qe="";ne=N[N.l++];)Qe+=String.fromCharCode(ne);H.push('"'+Qe.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:X=H.pop(),ve=H.pop(),H.push(["AND","OR"][ne-20]+"("+ve+","+X+")");break;default:if(ne<32&&E[ne])X=H.pop(),ve=H.pop(),H.push(ve+E[ne]+X);else if(F[ne]){if(G=F[ne][1],G==69&&(G=N[N.l++]),G>H.length){console.error("WK1 bad formula parse 0x"+ne.toString(16)+":|"+H.join("|")+"|");return}var Je=H.slice(-G);H.length-=G,H.push(F[ne][0]+"("+Je.join(",")+")")}else return ne<=7?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=24?console.error("WK1 unsupported op "+ne.toString(16)):ne<=30?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=115?console.error("WK1 unsupported function opcode "+ne.toString(16)):console.error("WK1 unrecognized opcode "+ne.toString(16))}}H.length==1?O[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function A(N){var O=[{c:0,r:0},{t:"n",v:0},0];return O[0].r=N.read_shift(2),O[3]=N[N.l++],O[0].c=N[N.l++],O}function D(N,O){var H=A(N);return H[1].t="s",H[1].v=N.read_shift(O-4,"cstr"),H}function M(N,O,H,G){var J=Fe(6+G.length);J.write_shift(2,N),J.write_shift(1,H),J.write_shift(1,O),J.write_shift(1,39);for(var oe=0;oe<G.length;++oe){var ve=G.charCodeAt(oe);J.write_shift(1,ve>=128?95:ve)}return J.write_shift(1,0),J}function I(N,O){var H=A(N);H[1].v=N.read_shift(2);var G=H[1].v>>1;if(H[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return H[1].v=G,H}function L(N,O){var H=A(N),G=N.read_shift(4),J=N.read_shift(4),oe=N.read_shift(2);if(oe==65535)return G===0&&J===3221225472?(H[1].t="e",H[1].v=15):G===0&&J===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var ve=oe&32768;return oe=(oe&32767)-16446,H[1].v=(1-ve*2)*(J*Math.pow(2,oe+32)+G*Math.pow(2,oe)),H}function j(N,O,H,G){var J=Fe(14);if(J.write_shift(2,N),J.write_shift(1,H),J.write_shift(1,O),G==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var oe=0,ve=0,X=0,ne=0;return G<0&&(oe=1,G=-G),ve=Math.log2(G)|0,G/=Math.pow(2,ve-31),ne=G>>>0,(ne&2147483648)==0&&(G/=2,++ve,ne=G>>>0),G-=ne,ne|=2147483648,ne>>>=0,G*=Math.pow(2,32),X=G>>>0,J.write_shift(4,X),J.write_shift(4,ne),ve+=16383+(oe?32768:0),J.write_shift(2,ve),J}function W(N,O){var H=L(N);return N.l+=O-14,H}function B(N,O){var H=A(N),G=N.read_shift(4);return H[1].v=G>>6,H}function ie(N,O){var H=A(N),G=N.read_shift(8,"f");return H[1].v=G,H}function Se(N,O){var H=ie(N);return N.l+=O-10,H}function Ee(N,O){return N[N.l+O-1]==0?N.read_shift(O,"cstr"):""}function xe(N,O){var H=N[N.l++];H>O-1&&(H=O-1);for(var G="";G.length<H;)G+=String.fromCharCode(N[N.l++]);return G}function ae(N,O,H){if(!(!H.qpro||O<21)){var G=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var J=N.read_shift(O-21,"cstr");return[G,J]}}function Z(N,O){for(var H={},G=N.l+O;N.l<G;){var J=N.read_shift(2);if(J==14e3){for(H[J]=[0,""],H[J][0]=N.read_shift(2);N[N.l];)H[J][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return H}function re(N,O){var H=Fe(5+N.length);H.write_shift(2,14e3),H.write_shift(2,O);for(var G=0;G<N.length;++G){var J=N.charCodeAt(G);H[H.l++]=J>127?95:J}return H[H.l++]=0,H}var ue={0:{n:"BOF",f:O3},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:S},15:{n:"LABEL",f},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ee},222:{n:"SHEETNAMELP",f:xe},65535:{n:""}},z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:ie},40:{n:"FORMULA28",f:Se},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}}(),Vde=/^\s|\s$|[\t\n\r]/;function G3(e,t){if(!t.bookSST)return"";var r=[Jr];r[r.length]=qe("sst",null,{xmlns:Yd[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(Vde)&&(i+=' xml:space="preserve"'),i+=">"+or(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Wde(e){return[e.read_shift(4),e.read_shift(4)]}function Ude(e,t){return t||(t=Fe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var zde=kue;function $de(e){var t=Rs();Ie(t,159,Ude(e));for(var r=0;r<e.length;++r)Ie(t,19,zde(e[r]));return Ie(t,160),t.end()}function Kde(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function H3(e){var t=0,r,n=Kde(e),s=n.length+1,i,o,a,l,u;for(r=Dc(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],a=(t&16384)===0?0:1,l=t<<1&32767,u=a|l,t=u^o;return t^52811}var qde=function(){function e(s,i){switch(i.type){case"base64":return t(ca(s),i);case"binary":return t(s,i);case"buffer":return t(Jt&&Buffer.isBuffer(s)?s.toString("binary"):Ap(s),i);case"array":return t(_0(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},a=o.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,p){Array.isArray(a)&&(a[p]=[]);for(var g=/\\\w+\b/g,C=0,S,y=-1;S=g.exec(f);){switch(S[0]){case"\\cell":var w=f.slice(C,g.lastIndex-S[0].length);if(w[0]==" "&&(w=w.slice(1)),++y,w.length){var b={v:w,t:"s"};Array.isArray(a)?a[p][y]=b:a[ar({r:p,c:y})]=b}break}C=g.lastIndex}y>u.e.c&&(u.e.c=y)}),a["!ref"]=qr(u),a}function r(s,i){return Kc(e(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=xr(s["!ref"]),a,l=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var p=ar({r:u,c:f});a=l?(s[u]||[])[f]:s[p],!(!a||a.v==null&&(!a.f||a.F))&&(i.push(" "+(a.w||(ua(a),a.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function D2(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Yde=6,Jo=Yde;function Gv(e){return Math.floor((e+Math.round(128/Jo)/256)*Jo)}function Hv(e){return Math.floor((e-5)/Jo*100+.5)/100}function wx(e){return Math.round((e*Jo+5)/Jo*256)/256}function aR(e){e.width?(e.wpx=Gv(e.width),e.wch=Hv(e.wpx),e.MDW=Jo):e.wpx?(e.wch=Hv(e.wpx),e.width=wx(e.wch),e.MDW=Jo):typeof e.wch=="number"&&(e.width=wx(e.wch),e.wpx=Gv(e.width),e.MDW=Jo),e.customWidth&&delete e.customWidth}var Qde=96,V3=Qde;function Vv(e){return e*96/V3}function W3(e){return e*V3/96}function Xde(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=qe("numFmt",null,{numFmtId:n,formatCode:or(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=qe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Jde(e){var t=[];return t[t.length]=qe("cellXfs",null),e.forEach(function(r){t[t.length]=qe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=qe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function U3(e,t){var r=[Jr,qe("styleSheet",null,{xmlns:Yd[0],"xmlns:vt":dn.vt})],n;return e.SSF&&(n=Xde(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Jde(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Zde(e,t){var r=e.read_shift(2),n=_n(e);return[r,n]}function ehe(e,t,r){r||(r=Fe(6+4*t.length)),r.write_shift(2,e),fn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function the(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=Vue(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var a=e.read_shift(1);a>0&&(n.family=a);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Hue(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=_n(e),n}function rhe(e,t){t||(t=Fe(25+4*32)),t.write_shift(2,e.sz*20),Wue(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),jv(e.color,t);var n=0;return n=2,t.write_shift(1,n),fn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var nhe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],VS,she=mo;function M2(e,t){t||(t=Fe(4*3+8*7+16*1)),VS||(VS=Yb(nhe));var r=VS[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(jv({auto:1},t),jv({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function ihe(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function z3(e,t,r){r||(r=Fe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Yh(e,t){return t||(t=Fe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var ohe=mo;function ahe(e,t){return t||(t=Fe(51)),t.write_shift(1,0),Yh(null,t),Yh(null,t),Yh(null,t),Yh(null,t),Yh(null,t),t.length>t.l?t.slice(0,t.l):t}function lhe(e,t){return t||(t=Fe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),_v(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function che(e,t,r){var n=Fe(2052);return n.write_shift(4,e),_v(t,n),_v(r,n),n.length>n.l?n.slice(0,n.l):n}function uhe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(Ie(e,615,Hi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Ie(e,44,ehe(s,t[s]))}),Ie(e,616))}}function dhe(e){var t=1;Ie(e,611,Hi(t)),Ie(e,43,rhe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ie(e,612)}function hhe(e){var t=2;Ie(e,603,Hi(t)),Ie(e,45,M2({patternType:"none"})),Ie(e,45,M2({patternType:"gray125"})),Ie(e,604)}function fhe(e){var t=1;Ie(e,613,Hi(t)),Ie(e,46,ahe()),Ie(e,614)}function phe(e){var t=1;Ie(e,626,Hi(t)),Ie(e,47,z3({numFmtId:0},65535)),Ie(e,627)}function ghe(e,t){Ie(e,617,Hi(t.length)),t.forEach(function(r){Ie(e,47,z3(r,0))}),Ie(e,618)}function mhe(e){var t=1;Ie(e,619,Hi(t)),Ie(e,48,lhe({xfId:0,name:"Normal"})),Ie(e,620)}function vhe(e){var t=0;Ie(e,505,Hi(t)),Ie(e,506)}function Che(e){var t=0;Ie(e,508,che(t,"TableStyleMedium9","PivotStyleMedium4")),Ie(e,509)}function yhe(e,t){var r=Rs();return Ie(r,278),uhe(r,e.SSF),dhe(r),hhe(r),fhe(r),phe(r),ghe(r,t.cellXfs),mhe(r),vhe(r),Che(r),Ie(r,279),r.end()}function $3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Jr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function She(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:_n(e)}}function whe(e){var t=Fe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),fn(e.name,t),t.slice(0,t.l)}function xhe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function bhe(e){var t=Fe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Rhe(e,t){var r=Fe(8+2*t.length);return r.write_shift(4,e),fn(t,r),r.slice(0,r.l)}function Ehe(e){return e.l+=4,e.read_shift(4)!=0}function Fhe(e,t){var r=Fe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function The(){var e=Rs();return Ie(e,332),Ie(e,334,Hi(1)),Ie(e,335,whe({name:"XLDAPR",version:12e4,flags:3496657072})),Ie(e,336),Ie(e,339,Rhe(1,"XLDAPR")),Ie(e,52),Ie(e,35,Hi(514)),Ie(e,4096,Hi(0)),Ie(e,4097,ui(1)),Ie(e,36),Ie(e,53),Ie(e,340),Ie(e,337,Fhe(1)),Ie(e,51,bhe([[1,0]])),Ie(e,338),Ie(e,333),e.end()}function K3(){var e=[Jr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Phe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ar(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var zu=1024;function q3(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[qe("xml",null,{"xmlns:v":js.v,"xmlns:o":js.o,"xmlns:x":js.x,"xmlns:mv":js.mv}).replace(/\/>/,">"),qe("o:shapelayout",qe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),qe("v:shapetype",[qe("v:stroke",null,{joinstyle:"miter"}),qe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];zu<e*1e3;)zu+=1e3;return t.forEach(function(i){var o=hn(i[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?qe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=qe("v:fill",l,a),f={on:"t",obscured:"t"};++zu,s=s.concat(["<v:shape"+Xf({id:"_x0000_s"+zu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,qe("v:shadow",null,f),qe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",xn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),xn("x:AutoFill","False"),xn("x:Row",String(o.r)),xn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function Y3(e){var t=[Jr,qe("comments",null,{xmlns:Yd[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var i=or(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(s=r.indexOf(or(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(xn("t",or(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,a=1;a<i.length;++a)o+=`Reply:
    `+i[a]+`
`;t.push(xn("t",or(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Ahe(e,t,r){var n=[Jr,qe("ThreadedComments",null,{xmlns:dn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};a==0?i=l.id:l.parentId=i,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(qe("threadedComment",xn("text",o.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Dhe(e){var t=[Jr,qe("personList",null,{xmlns:dn.TCMNT,"xmlns:x":Yd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(qe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Mhe(e){var t={};t.iauthor=e.read_shift(4);var r=Xc(e);return t.rfx=r.s,t.ref=ar(r.s),e.l+=16,t}function Nhe(e,t){return t==null&&(t=Fe(36)),t.write_shift(4,e[1].iauthor),Xd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Ihe=_n;function Ohe(e){return fn(e.slice(0,54))}function khe(e){var t=Rs(),r=[];return Ie(t,628),Ie(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Ie(t,632,Ohe(s.a)))})}),Ie(t,631),Ie(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:hn(n[0]),e:hn(n[0])};Ie(t,635,Nhe([i,s])),s.t&&s.t.length>0&&Ie(t,637,_ue(s)),Ie(t,636),delete s.iauthor})}),Ie(t,634),Ie(t,629),t.end()}function Lhe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&lr.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var Q3=["xlsb","xlsm","xlam","biff8","xla"],_he=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,i,o){var a=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return a?f+=t.c:--f,l?u+=t.r:--u,s+(a?"":"$")+Ln(f)+(l?"":"$")+Rn(u)}return function(s,i){return t=i,s.replace(e,r)}}(),lR=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cR=function(){return function(t,r){return t.replace(lR,function(n,s,i,o,a,l){var u=rR(o)-(i?0:r.c),f=tR(l)-(a?0:r.r),p=f==0?"":a?f+1:"["+f+"]",g=u==0?"":i?u+1:"["+u+"]";return s+"R"+p+"C"+g})}}();function jhe(e,t){return e.replace(lR,function(r,n,s,i,o,a){return n+(s=="$"?s+i:Ln(rR(i)+t.c))+(o=="$"?o+a:Rn(tR(a)+t.r))})}function Bhe(e){return e.length!=1}function Kr(e){e.l+=1}function pl(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function X3(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return J3(e);r.biff==12&&(n=4)}var s=e.read_shift(n),i=e.read_shift(n),o=pl(e),a=pl(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function J3(e){var t=pl(e),r=pl(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function Ghe(e,t,r){if(r.biff<8)return J3(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=pl(e),o=pl(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function Z3(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Hhe(e);var n=e.read_shift(r&&r.biff==12?4:2),s=pl(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Hhe(e){var t=pl(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Vhe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Whe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Uhe(e);var s=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,a=(i&32768)>>15;if(i&=16383,a==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:a}}function Uhe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function zhe(e,t,r){var n=(e[e.l++]&96)>>5,s=X3(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function $he(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=X3(e,i,r);return[n,s,o]}function Khe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function qhe(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,s]}function Yhe(e,t,r){var n=(e[e.l++]&96)>>5,s=Ghe(e,t-1,r);return[n,s]}function Qhe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function N2(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Xhe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Jhe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Zhe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function efe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function tfe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function ej(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function rfe(e){return e.read_shift(2),ej(e)}function nfe(e){return e.read_shift(2),ej(e)}function sfe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=Z3(e,0,r);return[n,s]}function ife(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=Whe(e,0,r);return[n,s]}function ofe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Z3(e,0,r);return[n,s,i]}function afe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[ape[s],nj[s],n]}function lfe(e,t,r){var n=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:cfe(e);return[s,(i[0]===0?nj:ope)[i[1]]]}function cfe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function ufe(e,t,r){e.l+=r&&r.biff==2?3:4}function dfe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function hfe(e){return e.l++,Np[e.read_shift(1)]}function ffe(e){return e.l++,e.read_shift(2)}function pfe(e){return e.l++,e.read_shift(1)!==0}function gfe(e){return e.l++,Jd(e)}function mfe(e,t,r){return e.l++,L3(e,t-1,r)}function vfe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ode(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Np[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Jd(e);break;case 2:r[1]=ude(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Cfe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?Xc:fde)(e));return s}function yfe(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var a=0;a!=s;++a)o[i][a]=vfe(e,r.biff);return o}function Sfe(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function wfe(e,t,r){if(r.biff==5)return xfe(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[n,s,i]}function xfe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function bfe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Rfe(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Efe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Ffe(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,s]}var Tfe=mo,Pfe=mo,Afe=mo;function Ip(e,t,r){return e.l+=2,[Vhe(e)]}function uR(e){return e.l+=6,[]}var Dfe=Ip,Mfe=uR,Nfe=uR,Ife=Ip;function tj(e){return e.l+=2,[O3(e),e.read_shift(2)&1]}var Ofe=Ip,kfe=tj,Lfe=uR,_fe=Ip,jfe=Ip,Bfe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Gfe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=Bfe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:s,C:i}}function Hfe(e){return e.l+=2,[e.read_shift(4)]}function Vfe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Wfe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Ufe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function zfe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function $fe(e){return e.l+=4,[0,0]}var I2={1:{n:"PtgExp",f:dfe},2:{n:"PtgTbl",f:Afe},3:{n:"PtgAdd",f:Kr},4:{n:"PtgSub",f:Kr},5:{n:"PtgMul",f:Kr},6:{n:"PtgDiv",f:Kr},7:{n:"PtgPower",f:Kr},8:{n:"PtgConcat",f:Kr},9:{n:"PtgLt",f:Kr},10:{n:"PtgLe",f:Kr},11:{n:"PtgEq",f:Kr},12:{n:"PtgGe",f:Kr},13:{n:"PtgGt",f:Kr},14:{n:"PtgNe",f:Kr},15:{n:"PtgIsect",f:Kr},16:{n:"PtgUnion",f:Kr},17:{n:"PtgRange",f:Kr},18:{n:"PtgUplus",f:Kr},19:{n:"PtgUminus",f:Kr},20:{n:"PtgPercent",f:Kr},21:{n:"PtgParen",f:Kr},22:{n:"PtgMissArg",f:Kr},23:{n:"PtgStr",f:mfe},26:{n:"PtgSheet",f:Vfe},27:{n:"PtgEndSheet",f:Wfe},28:{n:"PtgErr",f:hfe},29:{n:"PtgBool",f:pfe},30:{n:"PtgInt",f:ffe},31:{n:"PtgNum",f:gfe},32:{n:"PtgArray",f:Qhe},33:{n:"PtgFunc",f:afe},34:{n:"PtgFuncVar",f:lfe},35:{n:"PtgName",f:Sfe},36:{n:"PtgRef",f:sfe},37:{n:"PtgArea",f:zhe},38:{n:"PtgMemArea",f:bfe},39:{n:"PtgMemErr",f:Tfe},40:{n:"PtgMemNoMem",f:Pfe},41:{n:"PtgMemFunc",f:Rfe},42:{n:"PtgRefErr",f:Efe},43:{n:"PtgAreaErr",f:Khe},44:{n:"PtgRefN",f:ife},45:{n:"PtgAreaN",f:Yhe},46:{n:"PtgMemAreaN",f:Ufe},47:{n:"PtgMemNoMemN",f:zfe},57:{n:"PtgNameX",f:wfe},58:{n:"PtgRef3d",f:ofe},59:{n:"PtgArea3d",f:$he},60:{n:"PtgRefErr3d",f:Ffe},61:{n:"PtgAreaErr3d",f:qhe},255:{}},Kfe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qfe={1:{n:"PtgElfLel",f:tj},2:{n:"PtgElfRw",f:_fe},3:{n:"PtgElfCol",f:Dfe},6:{n:"PtgElfRwV",f:jfe},7:{n:"PtgElfColV",f:Ife},10:{n:"PtgElfRadical",f:Ofe},11:{n:"PtgElfRadicalS",f:Lfe},13:{n:"PtgElfColS",f:Mfe},15:{n:"PtgElfColSV",f:Nfe},16:{n:"PtgElfRadicalLel",f:kfe},25:{n:"PtgList",f:Gfe},29:{n:"PtgSxName",f:Hfe},255:{}},Yfe={0:{n:"PtgAttrNoop",f:$fe},1:{n:"PtgAttrSemi",f:tfe},2:{n:"PtgAttrIf",f:Zhe},4:{n:"PtgAttrChoose",f:Xhe},8:{n:"PtgAttrGoto",f:Jhe},16:{n:"PtgAttrSum",f:ufe},32:{n:"PtgAttrBaxcel",f:N2},33:{n:"PtgAttrBaxcel",f:N2},64:{n:"PtgAttrSpace",f:rfe},65:{n:"PtgAttrSpaceSemi",f:nfe},128:{n:"PtgAttrIfError",f:efe},255:{}};function Qfe(e,t,r,n){if(n.biff<8)return mo(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=yfe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Cfe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(mo(e,t)),i}function Xfe(e,t,r){for(var n=e.l+t,s,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],s=I2[i]||I2[Kfe[i]],(i===24||i===25)&&(s=(i===24?qfe:Yfe)[e[e.l+1]]),!s||!s.f?mo(e,t):o.push([s.n,s.f(e,t,r)]);return o}function Jfe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var Zfe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function epe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function rj(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function O2(e,t,r){var n=rj(e,t,r);return n=="#REF"?n:epe(n,r)}function Td(e,t,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},a=[],l,u,f,p=0,g=0,C,S="";if(!e[0]||!e[0][0])return"";for(var y=-1,w="",b=0,F=e[0].length;b<F;++b){var E=e[0][b];switch(E[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),u=a.pop(),y>=0){switch(e[0][y][1][0]){case 0:w=Lr(" ",e[0][y][1][1]);break;case 1:w=Lr("\r",e[0][y][1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}u=u+w,y=-1}a.push(u+Zfe[E[0]]+l);break;case"PtgIsect":l=a.pop(),u=a.pop(),a.push(u+" "+l);break;case"PtgUnion":l=a.pop(),u=a.pop(),a.push(u+","+l);break;case"PtgRange":l=a.pop(),u=a.pop(),a.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=wf(E[1][1],o,s),a.push(xf(f,i));break;case"PtgRefN":f=r?wf(E[1][1],r,s):E[1][1],a.push(xf(f,i));break;case"PtgRef3d":p=E[1][1],f=wf(E[1][2],o,s),S=O2(n,p,s),a.push(S+"!"+xf(f,i));break;case"PtgFunc":case"PtgFuncVar":var R=E[1][0],A=E[1][1];R||(R=0),R&=127;var D=R==0?[]:a.slice(-R);a.length-=R,A==="User"&&(A=D.shift()),a.push(A+"("+D.join(",")+")");break;case"PtgBool":a.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(E[1]);break;case"PtgNum":a.push(String(E[1]));break;case"PtgStr":a.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(E[1]);break;case"PtgAreaN":C=C2(E[1][1],r?{s:r}:o,s),a.push(GS(C,s));break;case"PtgArea":C=C2(E[1][1],o,s),a.push(GS(C,s));break;case"PtgArea3d":p=E[1][1],C=E[1][2],S=O2(n,p,s),a.push(S+"!"+GS(C,s));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=E[1][2];var M=(n.names||[])[g-1]||(n[0]||[])[g],I=M?M.Name:"SH33TJSNAME"+String(g);I&&I.slice(0,6)=="_xlfn."&&!s.xlfn&&(I=I.slice(6)),a.push(I);break;case"PtgNameX":var L=E[1][1];g=E[1][2];var j;if(s.biff<=5)L<0&&(L=-L),n[L]&&(j=n[L][g]);else{var W="";if(((n[L]||[])[0]||[])[0]==14849||(((n[L]||[])[0]||[])[0]==1025?n[L][g]&&n[L][g].itab>0&&(W=n.SheetNames[n[L][g].itab-1]+"!"):W=n.SheetNames[g-1]+"!"),n[L]&&n[L][g])W+=n[L][g].Name;else if(n[0]&&n[0][g])W+=n[0][g].Name;else{var B=(rj(n,L,s)||"").split(";;");B[g-1]?W=B[g-1]:W+="SH33TJSERRX"}a.push(W);break}j||(j={Name:"SH33TJSERRY"}),a.push(j.Name);break;case"PtgParen":var ie="(",Se=")";if(y>=0){switch(w="",e[0][y][1][0]){case 2:ie=Lr(" ",e[0][y][1][1])+ie;break;case 3:ie=Lr("\r",e[0][y][1][1])+ie;break;case 4:Se=Lr(" ",e[0][y][1][1])+Se;break;case 5:Se=Lr("\r",e[0][y][1][1])+Se;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}a.push(ie+a.pop()+Se);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":f={c:E[1][1],r:E[1][0]};var Ee={c:r.c,r:r.r};if(n.sharedf[ar(f)]){var xe=n.sharedf[ar(f)];a.push(Td(xe,o,Ee,n,s))}else{var ae=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){a.push(Td(u[1],o,Ee,n,s)),ae=!0;break}ae||a.push(E[1])}break;case"PtgArray":a.push("{"+Jfe(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&Z.indexOf(e[0][b][0])==-1){E=e[0][y];var re=!0;switch(E[1][0]){case 4:re=!1;case 0:w=Lr(" ",E[1][1]);break;case 5:re=!1;case 1:w=Lr("\r",E[1][1]);break;default:if(w="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}a.push((re?w:"")+a.pop()+(re?"":w)),y=-1}}if(a.length>1&&s.WTF)throw new Error("bad formula stack");return a[0]}function tpe(e){if(e==null){var t=Fe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Mc(e);return Mc(0)}function rpe(e,t,r,n,s){var i=Nc(t,r,s),o=tpe(e.v),a=Fe(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var u=Fe(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var p=wn([i,o,a,u]);return p}function j0(e,t,r){var n=e.read_shift(4),s=Xfe(e,n,r),i=e.read_shift(4),o=i>0?Qfe(e,i,s,r):null;return[s,o]}var npe=j0,B0=j0,spe=j0,ipe=j0,ope={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},nj={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ape={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function lpe(e){var t="of:="+e.replace(lR,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function cpe(e){return e.replace(/\./,"!")}var bf=typeof Map<"u";function dR(e,t,r){var n=0,s=e.length;if(r){if(bf?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=bf?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(bf?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function G0(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Jo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Hv(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=wx(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function sj(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Rl(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){Z4(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===n)return s;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function upe(e,t,r){if(e&&e["!ref"]){var n=xr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function dpe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+qr(e[r])+'"/>';return t+"</mergeCells>"}function hpe(e,t,r,n,s){var i=!1,o={},a=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,o.codeName=Qf(or(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),a=(a||"")+qe("outlinePr",null,u)}!i&&!a||(s[s.length]=qe("sheetPr",a,o))}var fpe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ppe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function gpe(e){var t={sheet:1};return fpe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),ppe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=H3(e.password).toString(16).toUpperCase()),qe("sheetProtection",null,t)}function mpe(e){return sj(e),qe("pageMargins",null,e)}function vpe(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=qe("col",null,G0(s,n)));return r[r.length]="</cols>",r.join("")}function Cpe(e,t,r,n){var s=typeof e.ref=="string"?e.ref:qr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ys(s);o.s.r==o.e.r&&(o.e.r=Ys(t["!ref"]).e.r,s=qr(o));for(var a=0;a<i.length;++a){var l=i[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return a==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),qe("autoFilter",null,{ref:s})}function ype(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),qe("sheetViews",qe("sheetView",null,s),{})}function Spe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Np[e.v];break;case"d":n&&n.cellDates?s=as(e.v,-1).toISOString():(e=Fs(e),e.t="n",s=""+(e.v=Es(as(e.v)))),typeof e.z>"u"&&(e.z=Br[14]);break;default:s=e.v;break}var a=xn("v",or(s)),l={r:t},u=Rl(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){a=xn("v",""+dR(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=qe("f",or(e.f),f)+(e.v!=null?a:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),qe("c",a,l)}function wpe(e,t,r,n){var s=[],i=[],o=xr(e["!ref"]),a="",l,u="",f=[],p=0,g=0,C=e["!rows"],S=Array.isArray(e),y={r:u},w,b=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=Ln(g);for(p=o.s.r;p<=o.e.r;++p){for(i=[],u=Rn(p),g=o.s.c;g<=o.e.c;++g){l=f[g]+u;var F=S?(e[p]||[])[g]:e[l];F!==void 0&&(a=Spe(F,l,e,t))!=null&&i.push(a)}(i.length>0||C&&C[p])&&(y={r:u},C&&C[p]&&(w=C[p],w.hidden&&(y.hidden=1),b=-1,w.hpx?b=Vv(w.hpx):w.hpt&&(b=w.hpt),b>-1&&(y.ht=b,y.customHeight=1),w.level&&(y.outlineLevel=w.level)),s[s.length]=qe("row",i.join(""),y))}if(C)for(;p<C.length;++p)C&&C[p]&&(y={r:p+1},w=C[p],w.hidden&&(y.hidden=1),b=-1,w.hpx?b=Vv(w.hpx):w.hpt&&(b=w.hpt),b>-1&&(y.ht=b,y.customHeight=1),w.level&&(y.outlineLevel=w.level),s[s.length]=qe("row","",y));return s.join("")}function ij(e,t,r,n){var s=[Jr,qe("worksheet",null,{xmlns:Yd[0],"xmlns:r":dn.r})],i=r.SheetNames[e],o=0,a="",l=r.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",f=xr(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=qr(f)}n||(n={}),l["!comments"]=[];var p=[];hpe(l,r,e,t,s),s[s.length]=qe("dimension",null,{ref:u}),s[s.length]=ype(l,t,e,r),t.sheetFormat&&(s[s.length]=qe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(s[s.length]=vpe(l,l["!cols"])),s[o=s.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=wpe(l,t),a.length>0&&(s[s.length]=a)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),l["!protect"]&&(s[s.length]=gpe(l["!protect"])),l["!autofilter"]!=null&&(s[s.length]=Cpe(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(s[s.length]=dpe(l["!merges"]));var g=-1,C,S=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(y){y[1].Target&&(C={ref:y[0]},y[1].Target.charAt(0)!="#"&&(S=ir(n,-1,or(y[1].Target).replace(/#.*$/,""),Yt.HLINK),C["r:id"]="rId"+S),(g=y[1].Target.indexOf("#"))>-1&&(C.location=or(y[1].Target.slice(g+1))),y[1].Tooltip&&(C.tooltip=or(y[1].Tooltip)),s[s.length]=qe("hyperlink",null,C))}),s[s.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(s[s.length]=mpe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=xn("ignoredErrors",qe("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(S=ir(n,-1,"../drawings/drawing"+(e+1)+".xml",Yt.DRAW),s[s.length]=qe("drawing",null,{"r:id":"rId"+S}),l["!drawing"]=p),l["!comments"].length>0&&(S=ir(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Yt.VML),s[s.length]=qe("legacyDrawing",null,{"r:id":"rId"+S}),l["!legacy"]=S),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function xpe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function bpe(e,t,r){var n=Fe(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;s.hpx?i=Vv(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var a=0,l=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var p=-1,g=-1,C=f<<10;C<f+1<<10;++C){u.c=C;var S=Array.isArray(r)?(r[u.r]||[])[u.c]:r[ar(u)];S&&(p<0&&(p=C),g=C)}p<0||(++a,n.write_shift(4,p),n.write_shift(4,g))}var y=n.l;return n.l=l,n.write_shift(4,a),n.l=y,n.length>n.l?n.slice(0,n.l):n}function Rpe(e,t,r,n){var s=bpe(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&Ie(e,0,s)}var Epe=Xc,Fpe=Xd;function Tpe(){}function Ppe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=jue(e),r}function Ape(e,t,r){r==null&&(r=Fe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return jv({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),S3(e,r),r.slice(0,r.l)}function Dpe(e){var t=vi(e);return[t]}function Mpe(e,t,r){return r==null&&(r=Fe(8)),qc(t,r)}function Npe(e){var t=Yc(e);return[t]}function Ipe(e,t,r){return r==null&&(r=Fe(4)),Qc(t,r)}function Ope(e){var t=vi(e),r=e.read_shift(1);return[t,r,"b"]}function kpe(e,t,r){return r==null&&(r=Fe(9)),qc(t,r),r.write_shift(1,e.v?1:0),r}function Lpe(e){var t=Yc(e),r=e.read_shift(1);return[t,r,"b"]}function _pe(e,t,r){return r==null&&(r=Fe(5)),Qc(t,r),r.write_shift(1,e.v?1:0),r}function jpe(e){var t=vi(e),r=e.read_shift(1);return[t,r,"e"]}function Bpe(e,t,r){return r==null&&(r=Fe(9)),qc(t,r),r.write_shift(1,e.v),r}function Gpe(e){var t=Yc(e),r=e.read_shift(1);return[t,r,"e"]}function Hpe(e,t,r){return r==null&&(r=Fe(8)),Qc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Vpe(e){var t=vi(e),r=e.read_shift(4);return[t,r,"s"]}function Wpe(e,t,r){return r==null&&(r=Fe(12)),qc(t,r),r.write_shift(4,t.v),r}function Upe(e){var t=Yc(e),r=e.read_shift(4);return[t,r,"s"]}function zpe(e,t,r){return r==null&&(r=Fe(8)),Qc(t,r),r.write_shift(4,t.v),r}function $pe(e){var t=vi(e),r=Jd(e);return[t,r,"n"]}function Kpe(e,t,r){return r==null&&(r=Fe(16)),qc(t,r),Mc(e.v,r),r}function qpe(e){var t=Yc(e),r=Jd(e);return[t,r,"n"]}function Ype(e,t,r){return r==null&&(r=Fe(12)),Qc(t,r),Mc(e.v,r),r}function Qpe(e){var t=vi(e),r=w3(e);return[t,r,"n"]}function Xpe(e,t,r){return r==null&&(r=Fe(12)),qc(t,r),x3(e.v,r),r}function Jpe(e){var t=Yc(e),r=w3(e);return[t,r,"n"]}function Zpe(e,t,r){return r==null&&(r=Fe(8)),Qc(t,r),x3(e.v,r),r}function ege(e){var t=vi(e),r=nR(e);return[t,r,"is"]}function tge(e){var t=vi(e),r=_n(e);return[t,r,"str"]}function rge(e,t,r){return r==null&&(r=Fe(12+4*e.v.length)),qc(t,r),fn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function nge(e){var t=Yc(e),r=_n(e);return[t,r,"str"]}function sge(e,t,r){return r==null&&(r=Fe(8+4*e.v.length)),Qc(t,r),fn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ige(e,t,r){var n=e.l+t,s=vi(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var a=B0(e,n-e.l,r);o[3]=Td(a,null,s,r.supbooks,r)}else e.l=n;return o}function oge(e,t,r){var n=e.l+t,s=vi(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var a=B0(e,n-e.l,r);o[3]=Td(a,null,s,r.supbooks,r)}else e.l=n;return o}function age(e,t,r){var n=e.l+t,s=vi(e);s.r=r["!row"];var i=Jd(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var a=B0(e,n-e.l,r);o[3]=Td(a,null,s,r.supbooks,r)}else e.l=n;return o}function lge(e,t,r){var n=e.l+t,s=vi(e);s.r=r["!row"];var i=_n(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var a=B0(e,n-e.l,r);o[3]=Td(a,null,s,r.supbooks,r)}else e.l=n;return o}var cge=Xc,uge=Xd;function dge(e,t){return t==null&&(t=Fe(4)),t.write_shift(4,e),t}function hge(e,t){var r=e.l+t,n=Xc(e),s=sR(e),i=_n(e),o=_n(e),a=_n(e);e.l=r;var l={rfx:n,relId:s,loc:i,display:a};return o&&(l.Tooltip=o),l}function fge(e,t){var r=Fe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Xd({s:hn(e[0]),e:hn(e[0])},r),iR("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return fn(s||"",r),fn(e[1].Tooltip||"",r),fn("",r),r.slice(0,r.l)}function pge(){}function gge(e,t,r){var n=e.l+t,s=b3(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var a=npe(e,n-e.l,r);o[1]=a}else e.l=n;return o}function mge(e,t,r){var n=e.l+t,s=Xc(e),i=[s];if(r.cellFormula){var o=ipe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function vge(e,t,r){r==null&&(r=Fe(18));var n=G0(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var oj=["left","right","top","bottom","header","footer"];function Cge(e){var t={};return oj.forEach(function(r){t[r]=Jd(e)}),t}function yge(e,t){return t==null&&(t=Fe(6*8)),sj(e),oj.forEach(function(r){Mc(e[r],t)}),t}function Sge(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function wge(e,t,r){r==null&&(r=Fe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function xge(e){var t=Fe(24);return t.write_shift(4,4),t.write_shift(4,1),Xd(e,t),t}function bge(e,t){return t==null&&(t=Fe(16*4+2)),t.write_shift(2,e.password?H3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Rge(){}function Ege(){}function Fge(e,t,r,n,s,i,o){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=Fs(t),t.z=t.z||Br[14],t.v=Es(as(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r,c:n};switch(l.s=Rl(s.cellXfs,t,s),t.l&&i["!links"].push([ar(l),t.l]),t.c&&i["!comments"].push([ar(l),t.c]),t.t){case"s":case"str":return s.bookSST?(a=dR(s.Strings,t.v,s.revStrings),l.t="s",l.v=a,o?Ie(e,18,zpe(t,l)):Ie(e,7,Wpe(t,l))):(l.t="str",o?Ie(e,17,sge(t,l)):Ie(e,6,rge(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ie(e,13,Zpe(t,l)):Ie(e,2,Xpe(t,l)):o?Ie(e,16,Ype(t,l)):Ie(e,5,Kpe(t,l)),!0;case"b":return l.t="b",o?Ie(e,15,_pe(t,l)):Ie(e,4,kpe(t,l)),!0;case"e":return l.t="e",o?Ie(e,14,Hpe(t,l)):Ie(e,3,Bpe(t,l)),!0}return o?Ie(e,12,Ipe(t,l)):Ie(e,1,Mpe(t,l)),!0}function Tge(e,t,r,n){var s=xr(t["!ref"]||"A1"),i,o="",a=[];Ie(e,145);var l=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var f=s.s.r;f<=u;++f){o=Rn(f),Rpe(e,t,s,f);var p=!1;if(f<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){f===s.s.r&&(a[g]=Ln(g)),i=a[g]+o;var C=l?(t[f]||[])[g]:t[i];if(!C){p=!1;continue}p=Fge(e,C,f,g,n,t,p)}}Ie(e,146)}function Pge(e,t){!t||!t["!merges"]||(Ie(e,177,dge(t["!merges"].length)),t["!merges"].forEach(function(r){Ie(e,176,uge(r))}),Ie(e,178))}function Age(e,t){!t||!t["!cols"]||(Ie(e,390),t["!cols"].forEach(function(r,n){r&&Ie(e,60,vge(n,r))}),Ie(e,391))}function Dge(e,t){!t||!t["!ref"]||(Ie(e,648),Ie(e,649,xge(xr(t["!ref"]))),Ie(e,650))}function Mge(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=ir(r,-1,n[1].Target.replace(/#.*$/,""),Yt.HLINK);Ie(e,494,fge(n,s))}}),delete t["!links"]}function Nge(e,t,r,n){if(t["!comments"].length>0){var s=ir(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Yt.VML);Ie(e,551,iR("rId"+s)),t["!legacy"]=s}}function Ige(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:qr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,a=Ys(i);a.s.r==a.e.r&&(a.e.r=Ys(t["!ref"]).e.r,i=qr(a));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ie(e,161,Xd(xr(i))),Ie(e,162)}}function Oge(e,t,r){Ie(e,133),Ie(e,137,wge(t,r)),Ie(e,138),Ie(e,134)}function kge(e,t){t["!protect"]&&Ie(e,535,bge(t["!protect"]))}function Lge(e,t,r,n){var s=Rs(),i=r.SheetNames[e],o=r.Sheets[i]||{},a=i;try{r&&r.Workbook&&(a=r.Workbook.Sheets[e].CodeName||a)}catch{}var l=xr(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ie(s,129),(r.vbaraw||o["!outline"])&&Ie(s,147,Ape(a,o["!outline"])),Ie(s,148,Fpe(l)),Oge(s,o,r.Workbook),Age(s,o),Tge(s,o,e,t),kge(s,o),Ige(s,o,r,e),Pge(s,o),Mge(s,o,n),o["!margins"]&&Ie(s,476,yge(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Dge(s,o),Nge(s,o,e,n),Ie(s,130),s.end()}function _ge(e,t){e.l+=10;var r=_n(e);return{name:r}}var jge=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Bge(e){return!e.Workbook||!e.Workbook.WBProps?"false":mue(e.Workbook.WBProps.date1904)?"true":"false"}var Gge="][*?/\\".split("");function aj(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Gge.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Hge(e,t,r){e.forEach(function(n,s){aj(n);for(var i=0;i<s;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[s]&&t[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Vge(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Hge(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)upe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function lj(e){var t=[Jr];t[t.length]=qe("workbook",null,{xmlns:Yd[0],"xmlns:r":dn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(jge.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(n[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=qe("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:or(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=qe("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=qe("definedName",or(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Wge(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Sx(e),r.name=_n(e),r}function Uge(e,t){return t||(t=Fe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),iR(e.strRelID,t),fn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function zge(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?_n(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function $ge(e,t){t||(t=Fe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),S3(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Kge(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=Bue(e),o=spe(e,0,r),a=sR(e);e.l=n;var l={Name:i,Ptg:o};return s<268435455&&(l.Sheet=s),a&&(l.Comment=a),l}function qge(e,t){Ie(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ie(e,156,Uge(s))}Ie(e,144)}function Yge(e,t){t||(t=Fe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return fn("SheetJS",t),fn(Mv.version,t),fn(Mv.version,t),fn("7262",t),t.length>t.l?t.slice(0,t.l):t}function Qge(e,t){t||(t=Fe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Xge(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Ie(e,135),Ie(e,158,Qge(s)),Ie(e,136))}}function Jge(e,t){var r=Rs();return Ie(r,131),Ie(r,128,Yge()),Ie(r,153,$ge(e.Workbook&&e.Workbook.WBProps||null)),Xge(r,e),qge(r,e),Ie(r,132),r.end()}function Zge(e,t,r){return(t.slice(-4)===".bin"?Jge:lj)(e)}function eme(e,t,r,n,s){return(t.slice(-4)===".bin"?Lge:ij)(e,r,n,s)}function tme(e,t,r){return(t.slice(-4)===".bin"?yhe:U3)(e,r)}function rme(e,t,r){return(t.slice(-4)===".bin"?$de:G3)(e,r)}function nme(e,t,r){return(t.slice(-4)===".bin"?khe:Y3)(e)}function sme(e){return(e.slice(-4)===".bin"?The:K3)()}function ime(e,t){var r=[];return e.Props&&r.push(tde(e.Props,t)),e.Custprops&&r.push(rde(e.Props,e.Custprops)),r.join("")}function ome(){return""}function ame(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var i=[];i.push(qe("NumberFormat",null,{"ss:Format":or(Br[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(qe("Style",i.join(""),o))}),qe("Styles",r.join(""))}function cj(e){return qe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+cR(e.Ref,{r:0,c:0})})}function lme(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(cj(s)))}return qe("Names",r.join(""))}function cme(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var a=s[o];a.Sheet==r&&(a.Name.match(/^_xlfn\./)||i.push(cj(a)))}return i.join("")}function ume(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(qe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(qe("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(qe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(qe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(xn("ProtectContents","True")),e["!protect"].objects&&s.push(xn("ProtectObjects","True")),e["!protect"].scenarios&&s.push(xn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(xn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(xn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":qe("WorksheetOptions",s.join(""),{xmlns:js.x})}function dme(e){return e.map(function(t){var r=gue(t.t||""),n=qe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return qe("Comment",n,{"ss:Author":t.a})}).join("")}function hme(e,t,r,n,s,i,o){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+or(cR(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=hn(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=or(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=or(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(a["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(a["ss:MergeDown"]=u[f].e.r-u[f].s.r));var p="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=Np[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Br[14]);break;case"s":p="String",g=pue(e.v||"");break}var C=Rl(n.cellXfs,e,n);a["ss:StyleID"]="s"+(21+C),a["ss:Index"]=o.c+1;var S=e.v!=null?g:"",y=e.t=="z"?"":'<Data ss:Type="'+p+'">'+S+"</Data>";return(e.c||[]).length>0&&(y+=dme(e.c)),qe("Cell",y,a)}function fme(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=W3(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function pme(e,t,r,n){if(!e["!ref"])return"";var s=xr(e["!ref"]),i=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(w,b){aR(w);var F=!!w.width,E=G0(b,w),R={"ss:Index":b+1};F&&(R["ss:Width"]=Gv(E.width)),w.hidden&&(R["ss:Hidden"]="1"),a.push(qe("Column",null,R))});for(var l=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var f=[fme(u,(e["!rows"]||[])[u])],p=s.s.c;p<=s.e.c;++p){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>p)&&!(i[o].s.r>u)&&!(i[o].e.c<p)&&!(i[o].e.r<u)){(i[o].s.c!=p||i[o].s.r!=u)&&(g=!0);break}if(!g){var C={r:u,c:p},S=ar(C),y=l?(e[u]||[])[p]:e[S];f.push(hme(y,S,e,t,r,n,C))}}f.push("</Row>"),f.length>2&&a.push(f.join(""))}return a.join("")}function gme(e,t,r){var n=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?cme(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?pme(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(ume(i,t,e,r)),n.join("")}function mme(e,t){t||(t={}),e.SSF||(e.SSF=Fs(Br)),e.SSF&&(k0(),O0(e.SSF),t.revssf=L0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Rl(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ime(e,t)),r.push(ome()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(qe("Worksheet",gme(n,t,e),{"ss:Name":or(e.SheetNames[n])}));return r[2]=ame(e,t),r[3]=lme(e),Jr+qe("Workbook",r.join(""),{xmlns:js.ss,"xmlns:o":js.o,"xmlns:x":js.x,"xmlns:ss":js.ss,"xmlns:dt":js.dt,"xmlns:html":js.html})}var WS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function vme(e,t){var r=[],n=[],s=[],i=0,o,a=a2(S2,"n"),l=a2(w2,"n");if(e.Props)for(o=En(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(a,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=En(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(a,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:s).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<s.length;++i)I3.indexOf(s[i][0])>-1||D3.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);n.length&&lr.utils.cfb_add(t,"/SummaryInformation",F2(n,WS.SI,l,w2)),(r.length||u.length)&&lr.utils.cfb_add(t,"/DocumentSummaryInformation",F2(r,WS.DSI,a,S2,u.length?u:null,WS.UDI))}function Cme(e,t){var r=t||{},n=lr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return lr.utils.cfb_add(n,s,uj(e,r)),r.biff==8&&(e.Props||e.Custprops)&&vme(e,n),r.biff==8&&e.vbaraw&&Lhe(n,lr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var yme={0:{f:xpe},1:{f:Dpe},2:{f:Qpe},3:{f:jpe},4:{f:Ope},5:{f:$pe},6:{f:tge},7:{f:Vpe},8:{f:lge},9:{f:age},10:{f:ige},11:{f:oge},12:{f:Npe},13:{f:Jpe},14:{f:Gpe},15:{f:Lpe},16:{f:qpe},17:{f:nge},18:{f:Upe},19:{f:nR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Kge},40:{},42:{},43:{f:the},44:{f:Zde},45:{f:she},46:{f:ohe},47:{f:ihe},48:{},49:{f:Nue},50:{},51:{f:xhe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Ide},62:{f:ege},63:{f:Phe},64:{f:Rge},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:mo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Sge},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Ppe},148:{f:Epe,p:16},151:{f:pge},152:{},153:{f:zge},154:{},155:{},156:{f:Wge},157:{},158:{},159:{T:1,f:Wde},160:{T:-1},161:{T:1,f:Xc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:cge},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:She},336:{T:-1},337:{f:Ehe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Sx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Tde},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:gge},427:{f:mge},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Cge},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Tpe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:hge},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Sx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ihe},633:{T:1},634:{T:-1},635:{T:1,f:Mhe},636:{T:-1},637:{f:Lue},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:_ge},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ege},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ye(e,t,r,n){var s=t;if(!isNaN(s)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&eR(r)&&e.push(r)}}function Sme(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return Ye(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],a=0,l=0,u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<s;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;f.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function Op(e,t,r){return e||(e=Fe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function wme(e,t,r,n){var s=Fe(9);return Op(s,e,t),k3(r,n||"b",s),s}function xme(e,t,r){var n=Fe(8+2*r.length);return Op(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function bme(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Es(as(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Ye(e,2,_de(r,n,s)):Ye(e,3,Lde(r,n,s));return;case"b":case"e":Ye(e,5,wme(r,n,t.v,t.t));return;case"s":case"str":Ye(e,4,xme(r,n,(t.v||"").slice(0,255)));return}Ye(e,1,Op(null,r,n))}function Rme(e,t,r,n){var s=Array.isArray(t),i=xr(t["!ref"]||"A1"),o,a="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=qr(i)}for(var u=i.s.r;u<=i.e.r;++u){a=Rn(u);for(var f=i.s.c;f<=i.e.c;++f){u===i.s.r&&(l[f]=Ln(f)),o=l[f]+a;var p=s?(t[u]||[])[f]:t[o];p&&bme(e,p,u,f)}}}function Eme(e,t){for(var r=t||{},n=Rs(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ye(n,r.biff==4?1033:r.biff==3?521:9,oR(e,16,r)),Rme(n,e.Sheets[e.SheetNames[s]],s,r),Ye(n,10),n.end()}function Fme(e,t,r){Ye(e,49,yde({sz:12,name:"Arial"},r))}function Tme(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Ye(e,1054,xde(s,t[s],r))})}function Pme(e,t){var r=Fe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ye(e,2151,r),r=Fe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),j3(xr(t["!ref"]||"A1"),r),r.write_shift(4,4),Ye(e,2152,r)}function Ame(e,t){for(var r=0;r<16;++r)Ye(e,224,P2({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ye(e,224,P2(n,0,t))})}function Dme(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ye(e,440,Dde(n)),n[1].Tooltip&&Ye(e,2048,Mde(n))}delete t["!links"]}function Mme(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&Ye(e,125,Ode(G0(s,n),s))})}}function Nme(e,t,r,n,s){var i=16+Rl(s.cellXfs,t,s);if(t.v==null&&!t.bf){Ye(e,513,Nc(r,n,i));return}if(t.bf)Ye(e,6,rpe(t,r,n,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Es(as(t.v)):t.v;Ye(e,515,Fde(r,n,o,i));break;case"b":case"e":Ye(e,517,Ede(r,n,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var a=dR(s.Strings,t.v,s.revStrings);Ye(e,253,Sde(r,n,a,i))}else Ye(e,516,wde(r,n,(t.v||"").slice(0,255),i,s));break;default:Ye(e,513,Nc(r,n,i))}}function Ime(e,t,r){var n=Rs(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},a=(o.Sheets||[])[e]||{},l=Array.isArray(i),u=t.biff==8,f,p="",g=[],C=xr(i["!ref"]||"A1"),S=u?65536:16384;if(C.e.c>255||C.e.r>=S){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");C.e.c=Math.min(C.e.c,255),C.e.r=Math.min(C.e.c,S-1)}Ye(n,2057,oR(r,16,t)),Ye(n,13,ui(1)),Ye(n,12,ui(100)),Ye(n,15,qn(!0)),Ye(n,17,qn(!1)),Ye(n,16,Mc(.001)),Ye(n,95,qn(!0)),Ye(n,42,qn(!1)),Ye(n,43,qn(!1)),Ye(n,130,ui(1)),Ye(n,128,Rde()),Ye(n,131,qn(!1)),Ye(n,132,qn(!1)),u&&Mme(n,i["!cols"]),Ye(n,512,bde(C,t)),u&&(i["!links"]=[]);for(var y=C.s.r;y<=C.e.r;++y){p=Rn(y);for(var w=C.s.c;w<=C.e.c;++w){y===C.s.r&&(g[w]=Ln(w)),f=g[w]+p;var b=l?(i[y]||[])[w]:i[f];b&&(Nme(n,b,y,w,t),u&&b.l&&i["!links"].push([f,b.l]))}}var F=a.CodeName||a.name||s;return u&&Ye(n,574,Cde((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Ye(n,229,Ade(i["!merges"])),u&&Dme(n,i),Ye(n,442,_3(F)),u&&Pme(n,i),Ye(n,10),n.end()}function Ome(e,t,r){var n=Rs(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},a=r.biff==8,l=r.biff==5;if(Ye(n,2057,oR(e,5,r)),r.bookType=="xla"&&Ye(n,135),Ye(n,225,a?ui(1200):null),Ye(n,193,ide(2)),l&&Ye(n,191),l&&Ye(n,192),Ye(n,226),Ye(n,92,pde("SheetJS",r)),Ye(n,66,ui(a?1200:1252)),a&&Ye(n,353,ui(0)),a&&Ye(n,448),Ye(n,317,kde(e.SheetNames.length)),a&&e.vbaraw&&Ye(n,211),a&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Ye(n,442,_3(u))}Ye(n,156,ui(17)),Ye(n,25,qn(!1)),Ye(n,18,qn(!1)),Ye(n,19,ui(0)),a&&Ye(n,431,qn(!1)),a&&Ye(n,444,ui(0)),Ye(n,61,vde()),Ye(n,64,qn(!1)),Ye(n,141,ui(0)),Ye(n,34,qn(Bge(e)=="true")),Ye(n,14,qn(!0)),a&&Ye(n,439,qn(!1)),Ye(n,218,ui(0)),Fme(n,e,r),Tme(n,e.SSF,r),Ame(n,r),a&&Ye(n,352,qn(!1));var f=n.end(),p=Rs();a&&Ye(p,140,Nde()),a&&r.Strings&&Sme(p,252,mde(r.Strings)),Ye(p,10);var g=p.end(),C=Rs(),S=0,y=0;for(y=0;y<e.SheetNames.length;++y)S+=(a?12:11)+(a?2:1)*e.SheetNames[y].length;var w=f.length+S+g.length;for(y=0;y<e.SheetNames.length;++y){var b=i[y]||{};Ye(C,133,gde({pos:w,hs:b.Hidden||0,dt:0,name:e.SheetNames[y]},r)),w+=t[y].length}var F=C.end();if(S!=F.length)throw new Error("BS8 "+S+" != "+F.length);var E=[];return f.length&&E.push(f),F.length&&E.push(F),g.length&&E.push(g),wn(E)}function kme(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Fs(Br)),e&&e.SSF&&(k0(),O0(e.SSF),r.revssf=L0(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,hR(r),r.cellXfs=[],Rl(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=Ime(s,r,e);return n.unshift(Ome(e,n,r)),wn(n)}function uj(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Ys(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return kme(e,t);case 4:case 3:case 2:return Eme(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Lme(e,t,r,n){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){a=-1;break}a=s[u].e.r-s[u].s.r+1,l=s[u].e.c-s[u].s.c+1;break}if(!(a<0)){var f=ar({r,c:o}),p=n.dense?(e[r]||[])[o]:e[f],g=p&&p.v!=null&&(p.h||fue(p.w||(ua(p),p.w)||""))||"",C={};a>1&&(C.rowspan=a),l>1&&(C.colspan=l),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(C["data-t"]=p&&p.t||"z",p.v!=null&&(C["data-v"]=p.v),p.z!=null&&(C["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),C.id=(n.id||"sjs")+"-"+f,i.push(qe("td",g,C))}}var S="<tr>";return S+i.join("")+"</tr>"}var _me='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',jme="</body></html>";function Bme(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function dj(e,t){var r=t||{},n=r.header!=null?r.header:_me,s=r.footer!=null?r.footer:jme,i=[n],o=Ys(e["!ref"]);r.dense=Array.isArray(e),i.push(Bme(e,o,r));for(var a=o.s.r;a<=o.e.r;++a)i.push(Lme(e,o,a,r));return i.push("</table>"+s),i.join("")}function hj(e,t,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?hn(n.origin):n.origin;s=o.r,i=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var f=Ys(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),s==-1&&(u.e.r=s=f.e.r+1)}var p=[],g=0,C=e["!rows"]||(e["!rows"]=[]),S=0,y=0,w=0,b=0,F=0,E=0;for(e["!cols"]||(e["!cols"]=[]);S<a.length&&y<l;++S){var R=a[S];if(k2(R)){if(n.display)continue;C[y]={hidden:!0}}var A=R.children;for(w=b=0;w<A.length;++w){var D=A[w];if(!(n.display&&k2(D))){var M=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):vue(D.innerHTML),I=D.getAttribute("data-z")||D.getAttribute("z");for(g=0;g<p.length;++g){var L=p[g];L.s.c==b+i&&L.s.r<y+s&&y+s<=L.e.r&&(b=L.e.c+1-i,g=-1)}E=+D.getAttribute("colspan")||1,((F=+D.getAttribute("rowspan")||1)>1||E>1)&&p.push({s:{r:y+s,c:b+i},e:{r:y+s+(F||1)-1,c:b+i+(E||1)-1}});var j={t:"s",v:M},W=D.getAttribute("data-t")||D.getAttribute("t")||"";M!=null&&(M.length==0?j.t=W||"z":n.raw||M.trim().length==0||W=="s"||(M==="TRUE"?j={t:"b",v:!0}:M==="FALSE"?j={t:"b",v:!1}:isNaN(Xo(M))?isNaN(Yf(M).getDate())||(j={t:"d",v:as(M)},n.cellDates||(j={t:"n",v:Es(j.v)}),j.z=n.dateNF||Br[14]):j={t:"n",v:Xo(M)})),j.z===void 0&&I!=null&&(j.z=I);var B="",ie=D.getElementsByTagName("A");if(ie&&ie.length)for(var Se=0;Se<ie.length&&!(ie[Se].hasAttribute("href")&&(B=ie[Se].getAttribute("href"),B.charAt(0)!="#"));++Se);B&&B.charAt(0)!="#"&&(j.l={Target:B}),n.dense?(e[y+s]||(e[y+s]=[]),e[y+s][b+i]=j):e[ar({c:b+i,r:y+s})]=j,u.e.c<b+i&&(u.e.c=b+i),b+=E}}++y}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,y-1+s),e["!ref"]=qr(u),y>=l&&(e["!fullref"]=qr((u.e.r=a.length-S+y-1+s,u))),e}function fj(e,t){var r=t||{},n=r.dense?[]:{};return hj(n,e,t)}function Gme(e,t){return Kc(fj(e,t),t)}function k2(e){var t="",r=Hme(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Hme(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Vme=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Xf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Jr+t}}(),L2=function(){var e=function(i){return or(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,a){var l=[];l.push('      <table:table table:name="'+or(o.SheetNames[a])+`" table:style-name="ta1">
`);var u=0,f=0,p=Ys(i["!ref"]||"A1"),g=i["!merges"]||[],C=0,S=Array.isArray(i);if(i["!cols"])for(f=0;f<=p.e.c;++f)l.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var y="",w=i["!rows"]||[];for(u=0;u<p.s.r;++u)y=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+y+`></table:table-row>
`);for(;u<=p.e.r;++u){for(y=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+y+`>
`),f=0;f<p.s.c;++f)l.push(t);for(;f<=p.e.c;++f){var b=!1,F={},E="";for(C=0;C!=g.length;++C)if(!(g[C].s.c>f)&&!(g[C].s.r>u)&&!(g[C].e.c<f)&&!(g[C].e.r<u)){(g[C].s.c!=f||g[C].s.r!=u)&&(b=!0),F["table:number-columns-spanned"]=g[C].e.c-g[C].s.c+1,F["table:number-rows-spanned"]=g[C].e.r-g[C].s.r+1;break}if(b){l.push(r);continue}var R=ar({r:u,c:f}),A=S?(i[u]||[])[f]:i[R];if(A&&A.f&&(F["table:formula"]=or(lpe(A.f)),A.F&&A.F.slice(0,R.length)==R)){var D=Ys(A.F);F["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,F["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!A){l.push(t);continue}switch(A.t){case"b":E=A.v?"TRUE":"FALSE",F["office:value-type"]="boolean",F["office:boolean-value"]=A.v?"true":"false";break;case"n":E=A.w||String(A.v||0),F["office:value-type"]="float",F["office:value"]=A.v||0;break;case"s":case"str":E=A.v==null?"":A.v,F["office:value-type"]="string";break;case"d":E=A.w||as(A.v).toISOString(),F["office:value-type"]="date",F["office:date-value"]=as(A.v).toISOString(),F["table:style-name"]="ce1";break;default:l.push(t);continue}var M=e(E);if(A.l&&A.l.Target){var I=A.l.Target;I=I.charAt(0)=="#"?"#"+cpe(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),M=qe("text:a",M,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+qe("table:table-cell",qe("text:p",M,{}),F)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var p=u["!cols"][f];if(p.width==null&&p.wpx==null&&p.wch==null)continue;aR(p),p.ods=a;var g=u["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=l;var p=u["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,a){var l=[Jr],u=Xf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Xf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+u+f+`>
`),l.push(P3().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),s(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)l.push(n(o.Sheets[o.SheetNames[p]],o,p));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function pj(e,t){if(t.bookType=="fods")return L2(e,t);var r=Qb(),n="",s=[],i=[];return n="mimetype",Lt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Lt(r,n,L2(e,t)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Lt(r,n,Vme(e,t)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Lt(r,n,Jr+P3()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Lt(r,n,ede(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Lt(r,n,Jue(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Wv(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Wme(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):_i(Qf(e))}function Ume(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function gl(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function zme(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function Jf(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function sr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function sd(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function tn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=Jf(e,r),i=s&7;s=Math.floor(s/8);var o=0,a;if(s==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);a=e.slice(l,r[0])}break;case 5:o=4,a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Jf(e,r),a=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var u={data:a,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function Cn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(sr(n*8+s.type)),s.type==2&&t.push(sr(s.data.length)),t.push(s.data))})}),gl(t)}function Ti(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=Jf(e,n),i=tn(e.slice(n[0],n[0]+s));n[0]+=s;var o={id:sd(i[1][0].data),messages:[]};i[2].forEach(function(a){var l=tn(a.data),u=sd(l[3][0].data);o.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=sd(i[3][0].data)>>>0>0),r.push(o)}return r}function Mu(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:sr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:sr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:sr(o.data.length)}],n[2].push({data:Cn(o.meta),type:2})});var i=Cn(n);t.push(sr(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),gl(t)}function $me(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Jf(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[r[0]],a>1&&(o|=t[r[0]+1]<<8),a>2&&(o|=t[r[0]+2]<<16),a>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=a}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[gl(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(s.push(s[0].slice(-l)),u-=l;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-l,-l+u))}}var f=gl(s);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Pi(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push($me(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return gl(t)}function Nu(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=sr(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return gl(t)}function US(e,t){var r=new Uint8Array(32),n=Wv(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,zme(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,s)}function zS(e,t){var r=new Uint8Array(32),n=Wv(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,s)}function ja(e){var t=tn(e);return Jf(t[1][0].data)}function Kme(e,t,r){var n,s,i,o;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&sd(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,u=Wv(e[7][0].data),f=0,p=[],g=Wv(e[4][0].data),C=0,S=[],y=0;y<t.length;++y){if(t[y]==null){u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}u.setUint16(y*2,f,!0),g.setUint16(y*2,C,!0);var w,b;switch(typeof t[y]){case"string":w=US({t:"s",v:t[y]},r),b=zS({t:"s",v:t[y]},r);break;case"number":w=US({t:"n",v:t[y]},r),b=zS({t:"n",v:t[y]},r);break;case"boolean":w=US({t:"b",v:t[y]},r),b=zS({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}p.push(w),f+=w.length,S.push(b),C+=b.length,++l}for(e[2][0].data=sr(l);y<e[7][0].data.length/2;++y)u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return e[6][0].data=gl(p),e[3][0].data=gl(S),l}function qme(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ys(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(qr(n)));var i=Uv(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(O){return O.forEach(function(H){typeof H=="string"&&o.push(H)})});var a={},l=[],u=lr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(O,H){return[O,u.FullPaths[H]]}).forEach(function(O){var H=O[0],G=O[1];if(H.type==2&&H.name.match(/\.iwa/)){var J=H.content,oe=Pi(J),ve=Ti(oe);ve.forEach(function(X){l.push(X.id),a[X.id]={deps:[],location:G,type:sd(X.messages[0].meta[1][0].data)}})}}),l.sort(function(O,H){return O-H});var f=l.filter(function(O){return O>1}).map(function(O){return[O,sr(O)]});u.FileIndex.map(function(O,H){return[O,u.FullPaths[H]]}).forEach(function(O){var H=O[0];if(O[1],!!H.name.match(/\.iwa/)){var G=Ti(Pi(H.content));G.forEach(function(J){J.messages.forEach(function(oe){f.forEach(function(ve){J.messages.some(function(X){return sd(X.meta[1][0].data)!=11006&&Ume(X.data,ve[1])})&&a[ve[0]].deps.push(J.id)})})})}});for(var p=lr.find(u,a[1].location),g=Ti(Pi(p.content)),C,S=0;S<g.length;++S){var y=g[S];y.id==1&&(C=y)}var w=ja(tn(C.messages[0].data)[1][0].data);for(p=lr.find(u,a[w].location),g=Ti(Pi(p.content)),S=0;S<g.length;++S)y=g[S],y.id==w&&(C=y);for(w=ja(tn(C.messages[0].data)[2][0].data),p=lr.find(u,a[w].location),g=Ti(Pi(p.content)),S=0;S<g.length;++S)y=g[S],y.id==w&&(C=y);for(w=ja(tn(C.messages[0].data)[2][0].data),p=lr.find(u,a[w].location),g=Ti(Pi(p.content)),S=0;S<g.length;++S)y=g[S],y.id==w&&(C=y);var b=tn(C.messages[0].data);{b[6][0].data=sr(n.e.r+1),b[7][0].data=sr(n.e.c+1);var F=ja(b[46][0].data),E=lr.find(u,a[F].location),R=Ti(Pi(E.content));{for(var A=0;A<R.length&&R[A].id!=F;++A);if(R[A].id!=F)throw"Bad ColumnRowUIDMapArchive";var D=tn(R[A].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var M=0;M<=n.e.c;++M){var I=[];I[1]=I[2]=[{type:0,data:sr(M+420690)}],D[1].push({type:2,data:Cn(I)}),D[2].push({type:0,data:sr(M)}),D[3].push({type:0,data:sr(M)})}D[4]=[],D[5]=[],D[6]=[];for(var L=0;L<=n.e.r;++L)I=[],I[1]=I[2]=[{type:0,data:sr(L+726270)}],D[4].push({type:2,data:Cn(I)}),D[5].push({type:0,data:sr(L)}),D[6].push({type:0,data:sr(L)});R[A].messages[0].data=Cn(D)}E.content=Nu(Mu(R)),E.size=E.content.length,delete b[46];var j=tn(b[4][0].data);{j[7][0].data=sr(n.e.r+1);var W=tn(j[1][0].data),B=ja(W[2][0].data);E=lr.find(u,a[B].location),R=Ti(Pi(E.content));{if(R[0].id!=B)throw"Bad HeaderStorageBucket";var ie=tn(R[0].messages[0].data);for(L=0;L<i.length;++L){var Se=tn(ie[2][0].data);Se[1][0].data=sr(L),Se[4][0].data=sr(i[L].length),ie[2][L]={type:ie[2][0].type,data:Cn(Se)}}R[0].messages[0].data=Cn(ie)}E.content=Nu(Mu(R)),E.size=E.content.length;var Ee=ja(j[2][0].data);E=lr.find(u,a[Ee].location),R=Ti(Pi(E.content));{if(R[0].id!=Ee)throw"Bad HeaderStorageBucket";for(ie=tn(R[0].messages[0].data),M=0;M<=n.e.c;++M)Se=tn(ie[2][0].data),Se[1][0].data=sr(M),Se[4][0].data=sr(n.e.r+1),ie[2][M]={type:ie[2][0].type,data:Cn(Se)};R[0].messages[0].data=Cn(ie)}E.content=Nu(Mu(R)),E.size=E.content.length;var xe=ja(j[4][0].data);(function(){for(var O=lr.find(u,a[xe].location),H=Ti(Pi(O.content)),G,J=0;J<H.length;++J){var oe=H[J];oe.id==xe&&(G=oe)}var ve=tn(G.messages[0].data);{ve[3]=[];var X=[];o.forEach(function(Ae,Qe){X[1]=[{type:0,data:sr(Qe)}],X[2]=[{type:0,data:sr(1)}],X[3]=[{type:2,data:Wme(Ae)}],ve[3].push({type:2,data:Cn(X)})})}G.messages[0].data=Cn(ve);var ne=Mu(H),Ne=Nu(ne);O.content=Ne,O.size=O.content.length})();var ae=tn(j[3][0].data);{var Z=ae[1][0];delete ae[2];var re=tn(Z.data);{var ue=ja(re[2][0].data);(function(){for(var O=lr.find(u,a[ue].location),H=Ti(Pi(O.content)),G,J=0;J<H.length;++J){var oe=H[J];oe.id==ue&&(G=oe)}var ve=tn(G.messages[0].data);{delete ve[6],delete ae[7];var X=new Uint8Array(ve[5][0].data);ve[5]=[];for(var ne=0,Ne=0;Ne<=n.e.r;++Ne){var Ae=tn(X);ne+=Kme(Ae,i[Ne],o),Ae[1][0].data=sr(Ne),ve[5].push({data:Cn(Ae),type:2})}ve[1]=[{type:0,data:sr(n.e.c+1)}],ve[2]=[{type:0,data:sr(n.e.r+1)}],ve[3]=[{type:0,data:sr(ne)}],ve[4]=[{type:0,data:sr(n.e.r+1)}]}G.messages[0].data=Cn(ve);var Qe=Mu(H),Je=Nu(Qe);O.content=Je,O.size=O.content.length})()}Z.data=Cn(re)}j[3][0].data=Cn(ae)}b[4][0].data=Cn(j)}C.messages[0].data=Cn(b);var z=Mu(g),N=Nu(z);return p.content=N,p.size=p.content.length,u}function Yme(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function hR(e){Yme([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Qme(e,t){return t.bookType=="ods"?pj(e,t):t.bookType=="numbers"?qme(e,t):t.bookType=="xlsb"?Xme(e,t):Jme(e,t)}function Xme(e,t){zu=1024,e&&!e.SSF&&(e.SSF=Fs(Br)),e&&e.SSF&&(k0(),O0(e.SSF),t.revssf=L0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Q3.indexOf(t.bookType)>-1,s=E3();hR(t=t||{});var i=Qb(),o="",a=0;if(t.cellXfs=[],Rl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Lt(i,o,A3(e.Props,t)),s.coreprops.push(o),ir(t.rels,2,o,Yt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Lt(i,o,M3(e.Props)),s.extprops.push(o),ir(t.rels,3,o,Yt.EXT_PROPS),e.Custprops!==e.Props&&En(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Lt(i,o,N3(e.Custprops)),s.custprops.push(o),ir(t.rels,4,o,Yt.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var f={"!id":{}},p=e.Sheets[e.SheetNames[a-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+a+"."+r,Lt(i,o,eme(a-1,o,t,e,f)),s.sheets.push(o),ir(t.wbrels,-1,"worksheets/sheet"+a+"."+r,Yt.WS[0])}if(p){var C=p["!comments"],S=!1,y="";C&&C.length>0&&(y="xl/comments"+a+"."+r,Lt(i,y,nme(C,y)),s.comments.push(y),ir(f,-1,"../comments"+a+"."+r,Yt.CMNT),S=!0),p["!legacy"]&&S&&Lt(i,"xl/drawings/vmlDrawing"+a+".vml",q3(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&Lt(i,T3(o),rd(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Lt(i,o,rme(t.Strings,o,t)),s.strs.push(o),ir(t.wbrels,-1,"sharedStrings."+r,Yt.SST)),o="xl/workbook."+r,Lt(i,o,Zge(e,o)),s.workbooks.push(o),ir(t.rels,1,o,Yt.WB),o="xl/theme/theme1.xml",Lt(i,o,$3(e.Themes,t)),s.themes.push(o),ir(t.wbrels,-1,"theme/theme1.xml",Yt.THEME),o="xl/styles."+r,Lt(i,o,tme(e,o,t)),s.styles.push(o),ir(t.wbrels,-1,"styles."+r,Yt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Lt(i,o,e.vbaraw),s.vba.push(o),ir(t.wbrels,-1,"vbaProject.bin",Yt.VBA)),o="xl/metadata."+r,Lt(i,o,sme(o)),s.metadata.push(o),ir(t.wbrels,-1,"metadata."+r,Yt.XLMETA),Lt(i,"[Content_Types].xml",F3(s,t)),Lt(i,"_rels/.rels",rd(t.rels)),Lt(i,"xl/_rels/workbook."+r+".rels",rd(t.wbrels)),delete t.revssf,delete t.ssf,i}function Jme(e,t){zu=1024,e&&!e.SSF&&(e.SSF=Fs(Br)),e&&e.SSF&&(k0(),O0(e.SSF),t.revssf=L0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Q3.indexOf(t.bookType)>-1,s=E3();hR(t=t||{});var i=Qb(),o="",a=0;if(t.cellXfs=[],Rl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Lt(i,o,A3(e.Props,t)),s.coreprops.push(o),ir(t.rels,2,o,Yt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Lt(i,o,M3(e.Props)),s.extprops.push(o),ir(t.rels,3,o,Yt.EXT_PROPS),e.Custprops!==e.Props&&En(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Lt(i,o,N3(e.Custprops)),s.custprops.push(o),ir(t.rels,4,o,Yt.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var p={"!id":{}},g=e.Sheets[e.SheetNames[a-1]],C=(g||{})["!type"]||"sheet";switch(C){case"chart":default:o="xl/worksheets/sheet"+a+"."+r,Lt(i,o,ij(a-1,t,e,p)),s.sheets.push(o),ir(t.wbrels,-1,"worksheets/sheet"+a+"."+r,Yt.WS[0])}if(g){var S=g["!comments"],y=!1,w="";if(S&&S.length>0){var b=!1;S.forEach(function(F){F[1].forEach(function(E){E.T==!0&&(b=!0)})}),b&&(w="xl/threadedComments/threadedComment"+a+"."+r,Lt(i,w,Ahe(S,f,t)),s.threadedcomments.push(w),ir(p,-1,"../threadedComments/threadedComment"+a+"."+r,Yt.TCMNT)),w="xl/comments"+a+"."+r,Lt(i,w,Y3(S)),s.comments.push(w),ir(p,-1,"../comments"+a+"."+r,Yt.CMNT),y=!0}g["!legacy"]&&y&&Lt(i,"xl/drawings/vmlDrawing"+a+".vml",q3(a,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Lt(i,T3(o),rd(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Lt(i,o,G3(t.Strings,t)),s.strs.push(o),ir(t.wbrels,-1,"sharedStrings."+r,Yt.SST)),o="xl/workbook."+r,Lt(i,o,lj(e)),s.workbooks.push(o),ir(t.rels,1,o,Yt.WB),o="xl/theme/theme1.xml",Lt(i,o,$3(e.Themes,t)),s.themes.push(o),ir(t.wbrels,-1,"theme/theme1.xml",Yt.THEME),o="xl/styles."+r,Lt(i,o,U3(e,t)),s.styles.push(o),ir(t.wbrels,-1,"styles."+r,Yt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Lt(i,o,e.vbaraw),s.vba.push(o),ir(t.wbrels,-1,"vbaProject.bin",Yt.VBA)),o="xl/metadata."+r,Lt(i,o,K3()),s.metadata.push(o),ir(t.wbrels,-1,"metadata."+r,Yt.XLMETA),f.length>1&&(o="xl/persons/person.xml",Lt(i,o,Dhe(f)),s.people.push(o),ir(t.wbrels,-1,"persons/person.xml",Yt.PEOPLE)),Lt(i,"[Content_Types].xml",F3(s,t)),Lt(i,"_rels/.rels",rd(t.rels)),Lt(i,"xl/_rels/workbook."+r+".rels",rd(t.wbrels)),delete t.revssf,delete t.ssf,i}function Zme(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ca(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function gj(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Dp(t.file,lr.write(e,{type:Jt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return lr.write(e,t)}function eve(e,t){var r=Fs(t||{}),n=Qme(e,r);return tve(n,r)}function tve(e,t){var r={},n=Jt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?lr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(I0(s))}return t.password&&typeof encrypt_agile<"u"?gj(encrypt_agile(s,t.password),t):t.type==="file"?Dp(t.file,s):t.type=="string"?yf(s):s}function rve(e,t){var r=t||{},n=Cme(e,r);return gj(n,r)}function to(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return qf(Qf(n));case"binary":return Qf(n);case"string":return e;case"file":return Dp(t.file,n,"utf8");case"buffer":return Jt?ha(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):to(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function nve(e,t){switch(t.type){case"base64":return qf(e);case"binary":return e;case"string":return e;case"file":return Dp(t.file,e,"binary");case"buffer":return Jt?ha(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Tm(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?qf(r):t.type=="string"?yf(r):r;case"file":return Dp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function mj(e,t){Mce(),Vge(e);var r=Fs(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=mj(e,r);return r.type="array",I0(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return to(mme(e,r),r);case"slk":case"sylk":return to(Bde.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return to(dj(e.Sheets[e.SheetNames[s]],r),r);case"txt":return nve(vj(e.Sheets[e.SheetNames[s]],r),r);case"csv":return to(fR(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return to(Gde.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return Tm(jde.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return to(Hde.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return to(qde.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return to(B3.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return to(pj(e,r),r);case"wk1":return Tm(A2.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return Tm(A2.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Tm(uj(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),rve(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return eve(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function sve(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function ive(e,t,r){var n={};return n.type="file",n.file=t,sve(n),mj(e,n)}function ove(e,t,r,n,s,i,o,a){var l=Rn(r),u=a.defval,f=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),p=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var C=t.s.c;C<=t.e.c;++C){var S=o?e[r][C]:e[n[C]+l];if(S===void 0||S.t===void 0){if(u===void 0)continue;i[C]!=null&&(g[i[C]]=u);continue}var y=S.v;switch(S.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(i[C]!=null){if(y==null)if(S.t=="e"&&y===null)g[i[C]]=null;else if(u!==void 0)g[i[C]]=u;else if(f&&y===null)g[i[C]]=null;else continue;else g[i[C]]=f&&(S.t!=="n"||S.t==="n"&&a.rawNumbers!==!1)?y:ua(S,y,a);y!=null&&(p=!1)}}return{row:g,isempty:p}}function Uv(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":l=xr(f);break;case"number":l=xr(e["!ref"]),l.s.r=f;break;default:l=f}n>0&&(s=0);var p=Rn(l.s.r),g=[],C=[],S=0,y=0,w=Array.isArray(e),b=l.s.r,F=0,E={};w&&!e[b]&&(e[b]=[]);var R=u.skipHidden&&e["!cols"]||[],A=u.skipHidden&&e["!rows"]||[];for(F=l.s.c;F<=l.e.c;++F)if(!(R[F]||{}).hidden)switch(g[F]=Ln(F),r=w?e[b][F]:e[g[F]+p],n){case 1:i[F]=F-l.s.c;break;case 2:i[F]=g[F];break;case 3:i[F]=u.header[F-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),a=o=ua(r,null,u),y=E[o]||0,!y)E[o]=1;else{do a=o+"_"+y++;while(E[a]);E[o]=y,E[a]=1}i[F]=a}for(b=l.s.r+s;b<=l.e.r;++b)if(!(A[b]||{}).hidden){var D=ove(e,l,b,g,n,i,w,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(C[S++]=D.row)}return C.length=S,C}var _2=/"/g;function ave(e,t,r,n,s,i,o,a){for(var l=!0,u=[],f="",p=Rn(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var C=a.dense?(e[r]||[])[g]:e[n[g]+p];if(C==null)f="";else if(C.v!=null){l=!1,f=""+(a.rawNumbers&&C.t=="n"?C.v:ua(C,null,a));for(var S=0,y=0;S!==f.length;++S)if((y=f.charCodeAt(S))===s||y===i||y===34||a.forceQuotes){f='"'+f.replace(_2,'""')+'"';break}f=="ID"&&(f='"ID"')}else C.f!=null&&!C.F?(l=!1,f="="+C.f,f.indexOf(",")>=0&&(f='"'+f.replace(_2,'""')+'"')):f="";u.push(f)}return a.blankrows===!1&&l?null:u.join(o)}function fR(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=xr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),a=n.RS!==void 0?n.RS:`
`,l=a.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),f="",p=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],C=n.skipHidden&&e["!rows"]||[],S=s.s.c;S<=s.e.c;++S)(g[S]||{}).hidden||(p[S]=Ln(S));for(var y=0,w=s.s.r;w<=s.e.r;++w)(C[w]||{}).hidden||(f=ave(e,s,w,p,o,l,i,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((y++?a:"")+f)));return delete n.dense,r.join("")}function vj(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=fR(e,t);return r}function lve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=xr(e["!ref"]),i="",o=[],a,l=[],u=Array.isArray(e);for(a=s.s.c;a<=s.e.c;++a)o[a]=Ln(a);for(var f=s.s.r;f<=s.e.r;++f)for(i=Rn(f),a=s.s.c;a<=s.e.c;++a)if(t=o[a]+i,r=u?(e[f]||[])[a]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Cj(e,t,r){var n=r||{},s=+!n.skipHeader,i=e||{},o=0,a=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?hn(n.origin):n.origin;o=l.r,a=l.c}var u,f={s:{c:0,r:0},e:{c:a,r:o+t.length-1+s}};if(i["!ref"]){var p=xr(i["!ref"]);f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),o==-1&&(o=p.e.r+1,f.e.r=o+t.length-1+s)}else o==-1&&(o=0,f.e.r=t.length-1+s);var g=n.header||[],C=0;t.forEach(function(y,w){En(y).forEach(function(b){(C=g.indexOf(b))==-1&&(g[C=g.length]=b);var F=y[b],E="z",R="",A=ar({c:a+C,r:o+w+s});u=Zf(i,A),F&&typeof F=="object"&&!(F instanceof Date)?i[A]=F:(typeof F=="number"?E="n":typeof F=="boolean"?E="b":typeof F=="string"?E="s":F instanceof Date?(E="d",n.cellDates||(E="n",F=Es(F)),R=n.dateNF||Br[14]):F===null&&n.nullError&&(E="e",F=0),u?(u.t=E,u.v=F,delete u.w,delete u.R,R&&(u.z=R)):i[A]=u={t:E,v:F},R&&(u.z=R))})}),f.e.c=Math.max(f.e.c,a+g.length-1);var S=Rn(o);if(s)for(C=0;C<g.length;++C)i[Ln(C+a)+S]={t:"s",v:g[C]};return i["!ref"]=qr(f),i}function cve(e,t){return Cj(null,e,t)}function Zf(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=hn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Zf(e,ar(t)):Zf(e,ar({r:t,c:r||0}))}function uve(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dve(){return{SheetNames:[],Sheets:{}}}function hve(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(aj(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function fve(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=uve(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function pve(e,t){return e.z=t,e}function yj(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function gve(e,t,r){return yj(e,"#"+t,r)}function mve(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function vve(e,t,r,n){for(var s=typeof t!="string"?t:xr(t),i=typeof t=="string"?t:qr(t),o=s.s.r;o<=s.e.r;++o)for(var a=s.s.c;a<=s.e.c;++a){var l=Zf(e,o,a);l.t="n",l.F=i,delete l.v,o==s.s.r&&a==s.s.c&&(l.f=r,n&&(l.D=!0))}return e}var $S={encode_col:Ln,encode_row:Rn,encode_cell:ar,encode_range:qr,decode_col:rR,decode_row:tR,split_cell:Mue,decode_cell:hn,decode_range:Ys,format_cell:ua,sheet_add_aoa:y3,sheet_add_json:Cj,sheet_add_dom:hj,aoa_to_sheet:Qd,json_to_sheet:cve,table_to_sheet:fj,table_to_book:Gme,sheet_to_csv:fR,sheet_to_txt:vj,sheet_to_json:Uv,sheet_to_html:dj,sheet_to_formulae:lve,sheet_to_row_object_array:Uv,sheet_get_cell:Zf,book_new:dve,book_append_sheet:hve,book_set_sheet_visibility:fve,cell_set_number_format:pve,cell_set_hyperlink:yj,cell_set_internal_link:gve,cell_add_comment:mve,sheet_set_array_formula:vve,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Mr=({rowData:e,colDefs:t,isLoading:r,onAddClick:n,addLabel:s="Add New",addComponent:i,onEditClick:o,onDeleteClick:a,actionComponents:l=[],showEdit:u=!0,showDelete:f=!0,showCheckbox:p=!1,checkboxPosition:g=0,exportFileName:C})=>{const{theme:S}=W1(),y=v.useRef(null),[w,b]=v.useState(new Set(t.map(j=>j.field))),F={sortable:!0,filter:!0,resizable:!0,minWidth:100,flex:1},E=p?{headerCheckboxSelection:!0,checkboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,width:50,headerName:""}:null,A={headerName:"Actions",field:"actions",cellRenderer:j=>j!=null&&j.data?d.jsx("div",{className:"flex justify-center items-center gap-2",children:d.jsxs(gv,{children:[d.jsx(mv,{asChild:!0,children:d.jsx(Ot,{variant:"ghost",size:"sm",children:d.jsx(LX,{})})}),d.jsxs(jf,{children:[u&&d.jsxs(Xu,{onClick:()=>o==null?void 0:o(j.data),children:[d.jsx(jH,{})," Edit"]}),f&&d.jsxs(Xu,{onClick:()=>a==null?void 0:a(j.data),className:"text-red-500",children:[d.jsx(HH,{})," Delete"]}),l.map((W,B)=>d.jsx(Xu,{children:d.jsx(W,{rowData:j.data})},B))]})]})}):null,minWidth:120,maxWidth:150,flex:0},D=v.useMemo(()=>{const j=[...t];return p&&E&&j.splice(g,0,E),[...j.filter(W=>w.has(W.field)),A]},[t,E,w]),M=(j,W)=>{b(B=>{const ie=new Set(B);return W?ie.add(j):ie.delete(j),ie})},I=(j,W,B)=>{const ie=["Sr No.",...W.filter(Z=>Z.field!=="actions"&&Z.field!=="srNo").map(Z=>Z.headerName)],Se=j.map((Z,re)=>[re+1,...W.filter(ue=>ue.field!=="actions"&&ue.field!=="srNo").map(ue=>Z[ue.field]??"")]),Ee=[ie,...Se],xe=$S.aoa_to_sheet(Ee),ae=$S.book_new();$S.book_append_sheet(ae,xe,"TableData"),ive(ae,`${B||"TableData"}.xlsx`)},L=[10,20,50,100];return d.jsxs("div",{className:`${S==="dark"?"ag-theme-quartz-dark":"ag-theme-quartz"} w-full h-[480px] flex flex-col gap-2`,children:[d.jsxs("div",{className:"w-full flex justify-between items-center",children:[i||d.jsxs(Ot,{variant:"default",onClick:n,children:[d.jsx(OX,{}),s]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Ot,{onClick:()=>I(e,t,C),variant:"default",children:"Export"}),d.jsxs(gv,{children:[d.jsx(mv,{asChild:!0,children:d.jsx(Ot,{children:d.jsx(Pce,{})})}),d.jsx(jf,{children:t.map(j=>d.jsx(Z1,{checked:w.has(j.field),onSelect:W=>{W.preventDefault(),M(j.field,!w.has(j.field))},children:j.headerName},j.field))})]})]})]}),d.jsx(Tce,{ref:y,rowData:e,loading:r,columnDefs:D,defaultColDef:F,rowSelection:"multiple",pagination:!0,paginationPageSizeSelector:L})]})};var Cve="Label",Sj=v.forwardRef((e,t)=>d.jsx(mt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Sj.displayName=Cve;var wj=Sj;const yve=CN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=v.forwardRef(({className:e,...t},r)=>d.jsx(wj,{ref:r,className:_t(yve(),e),...t}));ce.displayName=wj.displayName;function xx(e,[t,r]){return Math.min(r,Math.max(t,e))}function Sve(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wve=[" ","Enter","ArrowUp","ArrowDown"],xve=[" ","Enter"],Ic="Select",[H0,V0,bve]=U1(Ic),[Zd,vRe]=mi(Ic,[bve,Sl]),W0=Sl(),[Rve,El]=Zd(Ic),[Eve,Fve]=Zd(Ic),pR=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:f,autoComplete:p,disabled:g,required:C,form:S}=e,y=W0(t),[w,b]=v.useState(null),[F,E]=v.useState(null),[R,A]=v.useState(!1),D=vp(u),[M,I]=ul({prop:n,defaultProp:s??!1,onChange:i,caller:Ic}),[L,j]=ul({prop:o,defaultProp:a,onChange:l,caller:Ic}),W=v.useRef(null),B=w?S||!!w.closest("form"):!0,[ie,Se]=v.useState(new Set),Ee=Array.from(ie).map(xe=>xe.props.value).join(";");return d.jsx(h0,{...y,children:d.jsxs(Rve,{required:C,scope:t,trigger:w,onTriggerChange:b,valueNode:F,onValueNodeChange:E,valueNodeHasChildren:R,onValueNodeHasChildrenChange:A,contentId:pn(),value:L,onValueChange:j,open:M,onOpenChange:I,dir:D,triggerPointerDownPosRef:W,disabled:g,children:[d.jsx(H0.Provider,{scope:t,children:d.jsx(Eve,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(xe=>{Se(ae=>new Set(ae).add(xe))},[]),onNativeOptionRemove:v.useCallback(xe=>{Se(ae=>{const Z=new Set(ae);return Z.delete(xe),Z})},[]),children:r})}),B?d.jsxs(zj,{"aria-hidden":!0,required:C,tabIndex:-1,name:f,autoComplete:p,value:L,onChange:xe=>j(xe.target.value),disabled:g,form:S,children:[L===void 0?d.jsx("option",{value:""}):null,Array.from(ie)]},Ee):null]})})};pR.displayName=Ic;var xj="SelectTrigger",bj=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=W0(r),o=El(xj,r),a=o.disabled||n,l=Ht(t,o.onTriggerChange),u=V0(r),f=v.useRef("touch"),[p,g,C]=Kj(y=>{const w=u().filter(E=>!E.disabled),b=w.find(E=>E.value===o.value),F=qj(w,y,b);F!==void 0&&o.onValueChange(F.value)}),S=y=>{a||(o.onOpenChange(!0),C()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(gp,{asChild:!0,...i,children:d.jsx(mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":$j(o.value)?"":void 0,...s,ref:l,onClick:et(s.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&S(y)}),onPointerDown:et(s.onPointerDown,y=>{f.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(S(y),y.preventDefault())}),onKeyDown:et(s.onKeyDown,y=>{const w=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(w&&y.key===" ")&&wve.includes(y.key)&&(S(),y.preventDefault())})})})});bj.displayName=xj;var Rj="SelectValue",Ej=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=e,l=El(Rj,r),{onValueNodeHasChildrenChange:u}=l,f=i!==void 0,p=Ht(t,l.onValueNodeChange);return Yr(()=>{u(f)},[u,f]),d.jsx(mt.span,{...a,ref:p,style:{pointerEvents:"none"},children:$j(l.value)?d.jsx(d.Fragment,{children:o}):i})});Ej.displayName=Rj;var Tve="SelectIcon",Fj=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return d.jsx(mt.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});Fj.displayName=Tve;var Pve="SelectPortal",Tj=e=>d.jsx(Hd,{asChild:!0,...e});Tj.displayName=Pve;var Oc="SelectContent",Pj=v.forwardRef((e,t)=>{const r=El(Oc,e.__scopeSelect),[n,s]=v.useState();if(Yr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?jc.createPortal(d.jsx(Aj,{scope:e.__scopeSelect,children:d.jsx(H0.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),i):null}return d.jsx(Dj,{...e,ref:t})});Pj.displayName=Oc;var Mi=10,[Aj,Fl]=Zd(Oc),Ave="SelectContentImpl",Dve=il("SelectContent.RemoveScroll"),Dj=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:C,sticky:S,hideWhenDetached:y,avoidCollisions:w,...b}=e,F=El(Oc,r),[E,R]=v.useState(null),[A,D]=v.useState(null),M=Ht(t,oe=>R(oe)),[I,L]=v.useState(null),[j,W]=v.useState(null),B=V0(r),[ie,Se]=v.useState(!1),Ee=v.useRef(!1);v.useEffect(()=>{if(E)return y0(E)},[E]),v0();const xe=v.useCallback(oe=>{const[ve,...X]=B().map(Ae=>Ae.ref.current),[ne]=X.slice(-1),Ne=document.activeElement;for(const Ae of oe)if(Ae===Ne||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===ve&&A&&(A.scrollTop=0),Ae===ne&&A&&(A.scrollTop=A.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Ne))return},[B,A]),ae=v.useCallback(()=>xe([I,E]),[xe,I,E]);v.useEffect(()=>{ie&&ae()},[ie,ae]);const{onOpenChange:Z,triggerPointerDownPosRef:re}=F;v.useEffect(()=>{if(E){let oe={x:0,y:0};const ve=ne=>{var Ne,Ae;oe={x:Math.abs(Math.round(ne.pageX)-(((Ne=re.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((Ae=re.current)==null?void 0:Ae.y)??0))}},X=ne=>{oe.x<=10&&oe.y<=10?ne.preventDefault():E.contains(ne.target)||Z(!1),document.removeEventListener("pointermove",ve),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",X,{capture:!0})}}},[E,Z,re]),v.useEffect(()=>{const oe=()=>Z(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[Z]);const[ue,z]=Kj(oe=>{const ve=B().filter(Ne=>!Ne.disabled),X=ve.find(Ne=>Ne.ref.current===document.activeElement),ne=qj(ve,oe,X);ne&&setTimeout(()=>ne.ref.current.focus())}),N=v.useCallback((oe,ve,X)=>{const ne=!Ee.current&&!X;(F.value!==void 0&&F.value===ve||ne)&&(L(oe),ne&&(Ee.current=!0))},[F.value]),O=v.useCallback(()=>E==null?void 0:E.focus(),[E]),H=v.useCallback((oe,ve,X)=>{const ne=!Ee.current&&!X;(F.value!==void 0&&F.value===ve||ne)&&W(oe)},[F.value]),G=n==="popper"?bx:Mj,J=G===bx?{side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:C,sticky:S,hideWhenDetached:y,avoidCollisions:w}:{};return d.jsx(Aj,{scope:r,content:E,viewport:A,onViewportChange:D,itemRefCallback:N,selectedItem:I,onItemLeave:O,itemTextRefCallback:H,focusSelectedItem:ae,selectedItemText:j,position:n,isPositioned:ie,searchRef:ue,children:d.jsx(Sp,{as:Dve,allowPinchZoom:!0,children:d.jsx(Cp,{asChild:!0,trapped:F.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:et(s,oe=>{var ve;(ve=F.trigger)==null||ve.focus({preventScroll:!0}),oe.preventDefault()}),children:d.jsx(jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>F.onOpenChange(!1),children:d.jsx(G,{role:"listbox",id:F.contentId,"data-state":F.open?"open":"closed",dir:F.dir,onContextMenu:oe=>oe.preventDefault(),...b,...J,onPlaced:()=>Se(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:et(b.onKeyDown,oe=>{const ve=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ve&&oe.key.length===1&&z(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let ne=B().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Ne=oe.target,Ae=ne.indexOf(Ne);ne=ne.slice(Ae+1)}setTimeout(()=>xe(ne)),oe.preventDefault()}})})})})})})});Dj.displayName=Ave;var Mve="SelectItemAlignedPosition",Mj=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=El(Oc,r),o=Fl(Oc,r),[a,l]=v.useState(null),[u,f]=v.useState(null),p=Ht(t,M=>f(M)),g=V0(r),C=v.useRef(!1),S=v.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:b,focusSelectedItem:F}=o,E=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&w&&b){const M=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),j=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=j.left-I.left,Ae=L.left-Ne,Qe=M.left-Ae,Je=M.width+Qe,ft=Math.max(Je,I.width),xt=window.innerWidth-Mi,We=xx(Ae,[Mi,Math.max(Mi,xt-ft)]);a.style.minWidth=Je+"px",a.style.left=We+"px"}else{const Ne=I.right-j.right,Ae=window.innerWidth-L.right-Ne,Qe=window.innerWidth-M.right-Ae,Je=M.width+Qe,ft=Math.max(Je,I.width),xt=window.innerWidth-Mi,We=xx(Ae,[Mi,Math.max(Mi,xt-ft)]);a.style.minWidth=Je+"px",a.style.right=We+"px"}const W=g(),B=window.innerHeight-Mi*2,ie=y.scrollHeight,Se=window.getComputedStyle(u),Ee=parseInt(Se.borderTopWidth,10),xe=parseInt(Se.paddingTop,10),ae=parseInt(Se.borderBottomWidth,10),Z=parseInt(Se.paddingBottom,10),re=Ee+xe+ie+Z+ae,ue=Math.min(w.offsetHeight*5,re),z=window.getComputedStyle(y),N=parseInt(z.paddingTop,10),O=parseInt(z.paddingBottom,10),H=M.top+M.height/2-Mi,G=B-H,J=w.offsetHeight/2,oe=w.offsetTop+J,ve=Ee+xe+oe,X=re-ve;if(ve<=H){const Ne=W.length>0&&w===W[W.length-1].ref.current;a.style.bottom="0px";const Ae=u.clientHeight-y.offsetTop-y.offsetHeight,Qe=Math.max(G,J+(Ne?O:0)+Ae+ae),Je=ve+Qe;a.style.height=Je+"px"}else{const Ne=W.length>0&&w===W[0].ref.current;a.style.top="0px";const Qe=Math.max(H,Ee+y.offsetTop+(Ne?N:0)+J)+X;a.style.height=Qe+"px",y.scrollTop=ve-H+y.offsetTop}a.style.margin=`${Mi}px 0`,a.style.minHeight=ue+"px",a.style.maxHeight=B+"px",n==null||n(),requestAnimationFrame(()=>C.current=!0)}},[g,i.trigger,i.valueNode,a,u,y,w,b,i.dir,n]);Yr(()=>E(),[E]);const[R,A]=v.useState();Yr(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const D=v.useCallback(M=>{M&&S.current===!0&&(E(),F==null||F(),S.current=!1)},[E,F]);return d.jsx(Ive,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:C,onScrollButtonChange:D,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:d.jsx(mt.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Mj.displayName=Mve;var Nve="SelectPopperPosition",bx=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Mi,...i}=e,o=W0(r);return d.jsx(f0,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bx.displayName=Nve;var[Ive,gR]=Zd(Oc,{}),Rx="SelectViewport",Nj=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Fl(Rx,r),o=gR(Rx,r),a=Ht(t,i.onViewportChange),l=v.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(H0.Slot,{scope:r,children:d.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:et(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const C=Math.abs(l.current-f.scrollTop);if(C>0){const S=window.innerHeight-Mi*2,y=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),b=Math.max(y,w);if(b<S){const F=b+C,E=Math.min(S,F),R=F-E;p.style.height=E+"px",p.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});Nj.displayName=Rx;var Ij="SelectGroup",[Ove,kve]=Zd(Ij),Lve=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=pn();return d.jsx(Ove,{scope:r,id:s,children:d.jsx(mt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Lve.displayName=Ij;var Oj="SelectLabel",kj=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=kve(Oj,r);return d.jsx(mt.div,{id:s.id,...n,ref:t})});kj.displayName=Oj;var zv="SelectItem",[_ve,Lj]=Zd(zv),_j=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,a=El(zv,r),l=Fl(zv,r),u=a.value===n,[f,p]=v.useState(i??""),[g,C]=v.useState(!1),S=Ht(t,F=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,F,n,s)}),y=pn(),w=v.useRef("touch"),b=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(_ve,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:v.useCallback(F=>{p(E=>E||((F==null?void 0:F.textContent)??"").trim())},[]),children:d.jsx(H0.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:d.jsx(mt.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:et(o.onFocus,()=>C(!0)),onBlur:et(o.onBlur,()=>C(!1)),onClick:et(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:et(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:et(o.onPointerDown,F=>{w.current=F.pointerType}),onPointerMove:et(o.onPointerMove,F=>{var E;w.current=F.pointerType,s?(E=l.onItemLeave)==null||E.call(l):w.current==="mouse"&&F.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(o.onPointerLeave,F=>{var E;F.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:et(o.onKeyDown,F=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&F.key===" "||(xve.includes(F.key)&&b(),F.key===" "&&F.preventDefault())})})})})});_j.displayName=zv;var af="SelectItemText",jj=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=El(af,r),a=Fl(af,r),l=Lj(af,r),u=Fve(af,r),[f,p]=v.useState(null),g=Ht(t,b=>p(b),l.onItemTextChange,b=>{var F;return(F=a.itemTextRefCallback)==null?void 0:F.call(a,b,l.value,l.disabled)}),C=f==null?void 0:f.textContent,S=v.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:C},l.value),[l.disabled,l.value,C]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return Yr(()=>(y(S),()=>w(S)),[y,w,S]),d.jsxs(d.Fragment,{children:[d.jsx(mt.span,{id:l.textId,...i,ref:g}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?jc.createPortal(i.children,o.valueNode):null]})});jj.displayName=af;var Bj="SelectItemIndicator",Gj=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Lj(Bj,r).isSelected?d.jsx(mt.span,{"aria-hidden":!0,...n,ref:t}):null});Gj.displayName=Bj;var Ex="SelectScrollUpButton",Hj=v.forwardRef((e,t)=>{const r=Fl(Ex,e.__scopeSelect),n=gR(Ex,e.__scopeSelect),[s,i]=v.useState(!1),o=Ht(t,n.onScrollButtonChange);return Yr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx(Wj,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Hj.displayName=Ex;var Fx="SelectScrollDownButton",Vj=v.forwardRef((e,t)=>{const r=Fl(Fx,e.__scopeSelect),n=gR(Fx,e.__scopeSelect),[s,i]=v.useState(!1),o=Ht(t,n.onScrollButtonChange);return Yr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<u;i(f)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx(Wj,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Vj.displayName=Fx;var Wj=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Fl("SelectScrollButton",r),o=v.useRef(null),a=V0(r),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Yr(()=>{var f;const u=a().find(p=>p.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),d.jsx(mt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:et(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:et(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:et(s.onPointerLeave,()=>{l()})})}),jve="SelectSeparator",Uj=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(mt.div,{"aria-hidden":!0,...n,ref:t})});Uj.displayName=jve;var Tx="SelectArrow",Bve=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=W0(r),i=El(Tx,r),o=Fl(Tx,r);return i.open&&o.position==="popper"?d.jsx(p0,{...s,...n,ref:t}):null});Bve.displayName=Tx;var Gve="SelectBubbleInput",zj=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=v.useRef(null),i=Ht(n,s),o=Sve(t);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&f){const p=new Event("change",{bubbles:!0});f.call(a,t),a.dispatchEvent(p)}},[o,t]),d.jsx(mt.select,{...r,style:{...DO,...r.style},ref:i,defaultValue:t})});zj.displayName=Gve;function $j(e){return e===""||e===void 0}function Kj(e){const t=un(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const a=r.current+o;t(a),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function qj(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Hve(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function Hve(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Vve=pR,Yj=bj,Wve=Ej,Uve=Fj,zve=Tj,Qj=Pj,$ve=Nj,Xj=kj,Jj=_j,Kve=jj,qve=Gj,Zj=Hj,e5=Vj,t5=Uj;const wt=Vve,St=Wve,Ct=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(Yj,{ref:n,className:_t("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,d.jsx(Uve,{asChild:!0,children:d.jsx(Jk,{className:"h-4 w-4 opacity-50"})})]}));Ct.displayName=Yj.displayName;const r5=v.forwardRef(({className:e,...t},r)=>d.jsx(Zj,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(oX,{className:"h-4 w-4"})}));r5.displayName=Zj.displayName;const n5=v.forwardRef(({className:e,...t},r)=>d.jsx(e5,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(Jk,{className:"h-4 w-4"})}));n5.displayName=e5.displayName;const yt=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>d.jsx(zve,{children:d.jsxs(Qj,{ref:s,className:_t("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[d.jsx(r5,{}),d.jsx($ve,{className:_t("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(n5,{})]})}));yt.displayName=Qj.displayName;const Yve=v.forwardRef(({className:e,...t},r)=>d.jsx(Xj,{ref:r,className:_t("px-2 py-1.5 text-sm font-semibold",e),...t}));Yve.displayName=Xj.displayName;const Xt=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(Jj,{ref:n,className:_t("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(qve,{children:d.jsx(On,{className:"h-4 w-4"})})}),d.jsx(Kve,{children:t})]}));Xt.displayName=Jj.displayName;const Qve=v.forwardRef(({className:e,...t},r)=>d.jsx(t5,{ref:r,className:_t("-mx-1 my-1 h-px bg-muted",e),...t}));Qve.displayName=t5.displayName;const mR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},vR=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},CR=()=>Er({queryKey:["useGetSourceReference"],queryFn:()=>_e("/api/source-reference/v1/getAll")}),Xve=()=>Ze({mutationFn:e=>_e("/api/source-reference/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:mR,onError:vR}),Jve=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/source-reference/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{mR(r),t.invalidateQueries({queryKey:["useGetSourceReference"]})},onError:vR})},Zve=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/source-reference/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetSourceReference"]}),mR(r.message)},onError:vR})},yR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},SR=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},s5=()=>Er({queryKey:["useGetCustomerType"],queryFn:()=>_e("/api/customer-type/v1/getAll")}),e0e=()=>Ze({mutationFn:e=>_e("/api/customer-type/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:yR,onError:SR}),t0e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/customer-type/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{yR(r),t.invalidateQueries({queryKey:["useGetCustomerType"]})},onError:SR})},r0e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/customer-type/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetCustomerType"]}),yR(r.message)},onError:SR})},wR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},xR=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},i5=()=>Er({queryKey:["useGetCustomerStatus"],queryFn:()=>_e("/api/customer-status/v1/getAll")}),n0e=()=>Ze({mutationFn:e=>_e("/api/customer-status/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:wR,onError:xR}),s0e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/customer-status/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{wR(r),t.invalidateQueries({queryKey:["useGetCustomerStatus"]})},onError:xR})},i0e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/customer-status/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetCustomerStatus"]}),wR(r.message)},onError:xR})},bR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},RR=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},o5=()=>Er({queryKey:["useGetReferenceDetail"],queryFn:()=>_e("/api/reference-detail/v1/getAll")}),o0e=()=>Ze({mutationFn:e=>_e("/api/reference-detail/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:bR,onError:RR}),a0e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/reference-detail/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{bR(r),t.invalidateQueries({queryKey:["useGetReferenceDetail"]})},onError:RR})},l0e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/reference-detail/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetReferenceDetail"]}),bR(r.message)},onError:RR})},ER=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},FR=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},a5=()=>Er({queryKey:["useGetDesignation"],queryFn:()=>_e("/api/designation/v1/getAll")}),c0e=()=>Ze({mutationFn:e=>_e("/api/designation/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:ER,onError:FR}),u0e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/designation/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{ER(r),t.invalidateQueries({queryKey:["useGetDesignation"]})},onError:FR})},d0e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/designation/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetDesignation"]}),ER(r.message)},onError:FR})},TR=v.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:_t("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));TR.displayName="Textarea";const h0e=({onSubmit:e,formId:t,defaultValues:r={},setIsModalOpen:n})=>{var M,I,L,j,W,B,ie,Se,Ee,xe;const[s,i]=v.useState({customerType:r.customerType||null,customerStatus:r.customerStatus||null,sourceReference:r.sourceReference||null,referenceDetail:r.referenceDetail||null,referenceRemark:r.referenceRemark||"",customerName:r.customerName||"",gstNo:r.gstNo||"",panNo:r.panNo||"",address1:r.address1||"",address2:r.address2||"",address3:r.address3||"",contactPerson:r.contactPerson||"",designation:r.designation||null,customerWeightage:r.customerWeightage||"",contactNumber:r.contactNumber||"",email:r.email||"",isActive:r.isActive||!1});v.useEffect(()=>{i({...s,...r})},[r]);const{data:o,isError:a}=CR(),{data:l,isError:u}=s5(),{data:f,isError:p}=i5(),{data:g,isError:C}=o5(),{data:S,isError:y}=a5(),w=ae=>{ae.preventDefault(),console.log("FormData",s),e(s)},b={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},F={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},E=ae=>{console.log("clicked",ae.target.value);const{name:Z,value:re}=ae.target,ue=ae.target.value;console.log(ue),i(z=>({...z,[Z]:re}))},R=(ae,Z,re)=>{const ue=re.find(z=>String(z.id)===Z);i(z=>({...z,[ae]:ue||null})),console.log(Z,ue)},A=ae=>{const{checked:Z}=ae.target;i(re=>({...re,isActive:Z}))},D=()=>{n(!1)};return d.jsx(Gs.div,{className:"p-4 sm:p-6  min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(Gs.div,{className:"max-w-5xl mx-auto  p-4 sm:p-6 shadow-md rounded-md",variants:b,initial:"hidden",animate:"visible",children:d.jsxs(Gs.form,{onSubmit:w,variants:F,initial:"hidden",animate:"visible",children:[d.jsxs(Gs.div,{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-6",variants:b,children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Customer Type"}),d.jsxs(wt,{required:!0,onValueChange:ae=>R("customerType",ae,l==null?void 0:l.data),value:((M=s==null?void 0:s.customerType)==null?void 0:M.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Customer Type",children:((I=s.customerType)==null?void 0:I.customerType)||"Select Customer Type"})}),d.jsx(yt,{children:!u&&(l==null?void 0:l.data.map(ae=>d.jsx(Xt,{value:String(ae.id),children:ae.customerType},ae.id)))})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Customer Status"}),d.jsxs(wt,{required:!0,onValueChange:ae=>R("customerStatus",ae,f==null?void 0:f.data),value:(L=s==null?void 0:s.customerStatus)==null?void 0:L.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Customer Status",children:((j=s.customerStatus)==null?void 0:j.customerStatus)||"Select Customer Status"})}),d.jsx(yt,{children:!p&&(f==null?void 0:f.data.map(ae=>d.jsx(Xt,{value:ae.id,children:ae.customerStatus},ae.id)))})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Reference Source"}),d.jsxs(wt,{required:!0,onValueChange:ae=>R("sourceReference",ae,o==null?void 0:o.data),value:(W=s.sourceReference)==null?void 0:W.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Source Reference",children:((B=s.sourceReference)==null?void 0:B.sourceReference)||"Select Source Reference"})}),d.jsx(yt,{children:!a&&(o==null?void 0:o.data.map(ae=>d.jsx(Xt,{value:ae.id,children:ae.sourceReference},ae.id)))})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{required:!0,onValueChange:ae=>R("referenceDetail",ae,g==null?void 0:g.data),value:(ie=s==null?void 0:s.referenceDetail)==null?void 0:ie.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Reference Detail",children:((Se=s.referenceDetail)==null?void 0:Se.referenceDetail)||"Select Reference Detail"})}),d.jsx(yt,{children:!C&&(g==null?void 0:g.data.map(ae=>d.jsx(Xt,{value:ae.id,children:ae.referenceDetail},ae.id)))})]})]}),d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{type:"text",name:"referenceRemark",value:s==null?void 0:s.referenceRemark,onChange:E,className:"mt-1 w-full"})]})]}),d.jsx("hr",{}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 mb-6 mt-4",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{required:!0,type:"text",name:"customerName",value:s==null?void 0:s.customerName,onChange:E,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{required:!0,type:"text",name:"gstNo",value:s==null?void 0:s.gstNo,onChange:E,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{required:!0,type:"text",name:"panNo",value:s==null?void 0:s.panNo,onChange:E,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{required:!0,type:"text",name:"address1",value:s==null?void 0:s.address1,onChange:E,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{type:"text",name:"address2",value:s==null?void 0:s.address2,onChange:E,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Address Line 3"}),d.jsx(be,{type:"text",name:"address3",value:s==null?void 0:s.address3,onChange:E,className:"mt-1 w-full "})]})]}),d.jsx("hr",{}),d.jsx("div",{className:"mb-6 mt-4 d-flex justify-content-between",children:d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Contact Persons"}),d.jsx(be,{required:!0,type:"text",placeholder:"Name",name:"contactPerson",value:s==null?void 0:s.contactPerson,className:"w-full",onChange:E})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Designation"}),d.jsxs(wt,{required:!0,onValueChange:ae=>R("designation",ae,S==null?void 0:S.data),value:(Ee=s==null?void 0:s.designation)==null?void 0:Ee.id,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Designation",children:((xe=s.designation)==null?void 0:xe.designation)||"Select Designation"})}),d.jsx(yt,{children:!y&&(S==null?void 0:S.data.map(ae=>d.jsx(Xt,{value:ae.id,children:ae.designation},ae.id)))})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(ce,{children:"Contact No"}),d.jsx(be,{type:"text",required:!0,placeholder:"Enter 10 digit contact No",name:"contactNumber",value:r==null?void 0:r.contactNumber,className:"w-full",pattern:"^\\d{10}$",onChange:E})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(ce,{children:"Email"}),d.jsx(be,{type:"email",required:!0,placeholder:"Email",name:"email",value:r==null?void 0:r.email,className:"w-full",onChange:E})]})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(TR,{required:!0,className:"mt-1 w-full border border-gray-300 rounded-md p-2",rows:3,onChange:E,name:"customerWeightage",value:r==null?void 0:r.customerWeightage})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-6 space-y-4 sm:space-y-0",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",checked:s==null?void 0:s.isActive,onChange:A,className:"mr-2",value:""}),d.jsx(ce,{htmlFor:"status",children:"Status (IsActive)"})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx(Ot,{type:"button",variant:"secondary",onClick:D,children:"Cancel"}),d.jsxs(Ot,{type:"submit",children:[r!=null&&r.id?"Edit":"Create"," "]})]})]})]})})})},PR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},AR=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},U0=()=>Er({queryKey:["useGetCustomerList"],queryFn:()=>_e("/api/customer-list/v1/getAll")}),f0e=()=>Ze({mutationFn:e=>_e("/api/customer-list/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:PR,onError:AR}),p0e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/customer-list/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{PR(r),t.invalidateQueries({queryKey:["useGetCustomerList"]})},onError:AR})},g0e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/customer-list/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetCustomerList"]}),PR(r.message)},onError:AR})},Nr=({isOpen:e,onClose:t,dialogTitle:r="Dialog Title",dialogDescription:n="Dialog Description",children:s,formId:i,width:o,height:a,showCloseButton:l=!0,showSaveButton:u=!0})=>d.jsx(IL,{open:e,onOpenChange:t,children:d.jsxs(ob,{className:`${o} ${a} `,children:[d.jsxs(ab,{children:[d.jsx(LL,{children:r}),d.jsx(_L,{children:n})]}),d.jsx("div",{className:"modal-body",children:s}),d.jsxs(kL,{className:"sm:justify-start",children:[l&&d.jsx(IX,{asChild:!0,children:d.jsx(Ot,{type:"button",variant:"secondary",onClick:t,children:"Close"})}),u&&i&&d.jsx(Ot,{form:i,type:"submit",children:"Save"})]})]})}),l5=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=U0(),f=f0e(),p=p0e(r),g=g0e(r),C=(o==null?void 0:o.data)||[];jn();const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"customerType.customerType",headerName:"Types"},{field:"customerName",headerName:"Customer Name"},{field:"address1",headerName:"Address"},{field:"contactNumber",headerName:"Contact No "},{field:"email",headerName:"Email"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"},{field:"designation.designation",headerName:"Designation"},{field:"sourceReference.sourceReference",headerName:"Reference"},{field:"referenceDetail.referenceDetail",headerName:"Reference Detail"},{field:"referenceRemark",headerName:"Reference Remark"}],y=()=>{t(!0),i(""),n(null)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{t(!0),n(R.id),console.log("edit",R.id),i(R)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Customer List"}),d.jsx("div",{className:"p-6 ",children:d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,exportFileName:"Customer_List",onDeleteClick:E})}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"service-form",width:"max-w-5xl",height:"min-h-[200px] max-h-[80vh] h-auto overflow-y-auto",showCloseButton:!1,showSaveButton:!1,children:d.jsx(h0e,{onSubmit:b,formId:"service-form",defaultValues:s,setIsModalOpen:t})})]})};function m0e(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var DR="ScrollArea",[c5,CRe]=mi(DR),[v0e,Ci]=c5(DR),u5=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=v.useState(null),[u,f]=v.useState(null),[p,g]=v.useState(null),[C,S]=v.useState(null),[y,w]=v.useState(null),[b,F]=v.useState(0),[E,R]=v.useState(0),[A,D]=v.useState(!1),[M,I]=v.useState(!1),L=Ht(t,W=>l(W)),j=vp(s);return d.jsx(v0e,{scope:r,type:n,dir:j,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:f,content:p,onContentChange:g,scrollbarX:C,onScrollbarXChange:S,scrollbarXEnabled:A,onScrollbarXEnabledChange:D,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:I,onCornerWidthChange:F,onCornerHeightChange:R,children:d.jsx(mt.div,{dir:j,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});u5.displayName=DR;var d5="ScrollAreaViewport",h5=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Ci(d5,r),a=v.useRef(null),l=Ht(t,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(mt.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});h5.displayName=d5;var bo="ScrollAreaScrollbar",MR=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ci(bo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(C0e,{...n,ref:t,forceMount:r}):s.type==="scroll"?d.jsx(y0e,{...n,ref:t,forceMount:r}):s.type==="auto"?d.jsx(f5,{...n,ref:t,forceMount:r}):s.type==="always"?d.jsx(NR,{...n,ref:t}):null});MR.displayName=bo;var C0e=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ci(bo,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},f=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(Fn,{present:r||i,children:d.jsx(f5,{"data-state":i?"visible":"hidden",...n,ref:t})})}),y0e=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ci(bo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=$0(()=>l("SCROLL_END"),100),[a,l]=m0e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const u=s.viewport,f=i?"scrollLeft":"scrollTop";if(u){let p=u[f];const g=()=>{const C=u[f];p!==C&&(l("SCROLL"),o()),p=C};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[s.viewport,i,l,o]),d.jsx(Fn,{present:r||a!=="hidden",children:d.jsx(NR,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:et(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:et(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),f5=v.forwardRef((e,t)=>{const r=Ci(bo,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=v.useState(!1),a=e.orientation==="horizontal",l=$0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?u:f)}},10);return Pd(r.viewport,l),Pd(r.content,l),d.jsx(Fn,{present:n||i,children:d.jsx(NR,{"data-state":i?"visible":"hidden",...s,ref:t})})}),NR=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ci(bo,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=C5(a.viewport,a.content),f={...n,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,C){return E0e(g,o.current,a,C)}return r==="horizontal"?d.jsx(S0e,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const g=s.viewport.scrollLeft,C=j2(g,a,s.dir);i.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=p(g,s.dir))}}):r==="vertical"?d.jsx(w0e,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const g=s.viewport.scrollTop,C=j2(g,a);i.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=p(g))}}):null}),S0e=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ci(bo,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),u=Ht(t,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(g5,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":z0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(i.viewport){const g=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),S5(g,p)&&f.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Kv(o.paddingLeft),paddingEnd:Kv(o.paddingRight)}})}})}),w0e=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ci(bo,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),u=Ht(t,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(g5,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":z0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(i.viewport){const g=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),S5(g,p)&&f.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Kv(o.paddingTop),paddingEnd:Kv(o.paddingBottom)}})}})}),[x0e,p5]=c5(bo),g5=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:f,onResize:p,...g}=e,C=Ci(bo,r),[S,y]=v.useState(null),w=Ht(t,L=>y(L)),b=v.useRef(null),F=v.useRef(""),E=C.viewport,R=n.content-n.viewport,A=un(f),D=un(l),M=$0(p,10);function I(L){if(b.current){const j=L.clientX-b.current.left,W=L.clientY-b.current.top;u({x:j,y:W})}}return v.useEffect(()=>{const L=j=>{const W=j.target;(S==null?void 0:S.contains(W))&&A(j,R)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[E,S,R,A]),v.useEffect(D,[n,D]),Pd(S,M),Pd(C.content,M),d.jsx(x0e,{scope:r,scrollbar:S,hasThumb:s,onThumbChange:un(i),onThumbPointerUp:un(o),onThumbPositionChange:D,onThumbPointerDown:un(a),children:d.jsx(mt.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:et(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),b.current=S.getBoundingClientRect(),F.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C.viewport&&(C.viewport.style.scrollBehavior="auto"),I(L))}),onPointerMove:et(e.onPointerMove,I),onPointerUp:et(e.onPointerUp,L=>{const j=L.target;j.hasPointerCapture(L.pointerId)&&j.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=F.current,C.viewport&&(C.viewport.style.scrollBehavior=""),b.current=null})})})}),$v="ScrollAreaThumb",m5=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=p5($v,e.__scopeScrollArea);return d.jsx(Fn,{present:r||s.hasThumb,children:d.jsx(b0e,{ref:t,...n})})}),b0e=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Ci($v,r),o=p5($v,r),{onThumbPositionChange:a}=o,l=Ht(t,p=>o.onThumbChange(p)),u=v.useRef(void 0),f=$0(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const p=i.viewport;if(p){const g=()=>{if(f(),!u.current){const C=F0e(p,a);u.current=C,a()}};return a(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[i.viewport,f,a]),d.jsx(mt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:et(e.onPointerDownCapture,p=>{const C=p.target.getBoundingClientRect(),S=p.clientX-C.left,y=p.clientY-C.top;o.onThumbPointerDown({x:S,y})}),onPointerUp:et(e.onPointerUp,o.onThumbPointerUp)})});m5.displayName=$v;var IR="ScrollAreaCorner",v5=v.forwardRef((e,t)=>{const r=Ci(IR,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(R0e,{...e,ref:t}):null});v5.displayName=IR;var R0e=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ci(IR,r),[i,o]=v.useState(0),[a,l]=v.useState(0),u=!!(i&&a);return Pd(s.scrollbarX,()=>{var p;const f=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(f),l(f)}),Pd(s.scrollbarY,()=>{var p;const f=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),u?d.jsx(mt.div,{...n,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Kv(e){return e?parseInt(e,10):0}function C5(e,t){const r=e/t;return isNaN(r)?0:r}function z0(e){const t=C5(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function E0e(e,t,r,n="ltr"){const s=z0(r),i=s/2,o=t||i,a=s-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,f=r.content-r.viewport,p=n==="ltr"?[0,f]:[f*-1,0];return y5([l,u],p)(e)}function j2(e,t,r="ltr"){const n=z0(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-n,l=r==="ltr"?[0,o]:[o*-1,0],u=xx(e,l);return y5([0,o],[0,a])(u)}function y5(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function S5(e,t){return e>0&&e<t}var F0e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function $0(e,t){const r=un(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Pd(e,t){const r=un(t);Yr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var w5=u5,T0e=h5,P0e=v5;const eh=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(w5,{ref:n,className:_t("relative overflow-hidden",e),...r,children:[d.jsx(T0e,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(x5,{}),d.jsx(P0e,{})]}));eh.displayName=w5.displayName;const x5=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>d.jsx(MR,{ref:n,orientation:t,className:_t("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:d.jsx(m5,{className:"relative flex-1 rounded-full bg-border"})}));x5.displayName=MR.displayName;const A0e=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});v.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(eh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},OR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},th=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},b5=()=>Er({queryKey:["useGetSales"],queryFn:()=>_e("/api/sales/v1/getAll")}),R5=()=>(console.log("sales register"),Ze({mutationFn:e=>_e("/api/sales/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:OR,onError:th})),D0e=()=>Ze({mutationFn:()=>_e("/api/sales/getNextInvoiceNo",{method:"GET"}),onError:th}),E5=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/sales/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{OR(r),t.invalidateQueries({queryKey:["useGetSales"]})},onError:th})},M0e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/sales/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetSales"]}),OR(r.message)},onError:th})},N0e=()=>Ze({mutationFn:()=>_e("/api/sales/getAllInVoiceNo",{method:"GET"}),onError:th}),I0e=e=>(console.log("action in hook",e),Ze({mutationFn:()=>_e(`/api/sales/getSalesByInvoiceNo?invoiceNo=${e}`,{method:"GET"}),onError:th}));var K0="Tabs",[O0e,yRe]=mi(K0,[C0]),F5=C0(),[k0e,kR]=O0e(K0),T5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=e,f=vp(a),[p,g]=ul({prop:n,onChange:s,defaultProp:i??"",caller:K0});return d.jsx(k0e,{scope:r,baseId:pn(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:l,children:d.jsx(mt.div,{dir:f,"data-orientation":o,...u,ref:t})})});T5.displayName=K0;var P5="TabsList",A5=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=kR(P5,r),o=F5(r);return d.jsx(YO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:d.jsx(mt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});A5.displayName=P5;var D5="TabsTrigger",M5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=kR(D5,r),a=F5(r),l=I5(o.baseId,n),u=O5(o.baseId,n),f=n===o.value;return d.jsx(QO,{asChild:!0,...a,focusable:!s,active:f,children:d.jsx(mt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:et(e.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:et(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:et(e.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!s&&p&&o.onValueChange(n)})})})});M5.displayName=D5;var N5="TabsContent",Lu=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,a=kR(N5,r),l=I5(a.baseId,n),u=O5(a.baseId,n),f=n===a.value,p=v.useRef(f);return v.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),d.jsx(Fn,{present:s||f,children:({present:g})=>d.jsx(mt.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});Lu.displayName=N5;function I5(e,t){return`${e}-trigger-${t}`}function O5(e,t){return`${e}-content-${t}`}const L0e=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});v.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(eh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},LR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},_R=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},q0=()=>Er({queryKey:["useGetProducts"],queryFn:()=>_e("/api/product/v1/getAll")}),k5=()=>Ze({mutationFn:e=>_e("/api/product/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:LR,onError:_R}),L5=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/product/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{LR(r),t.invalidateQueries({queryKey:["useGetProducts"]})},onError:_R})},_0e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/product/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetProducts"]}),LR(r.message)},onError:_R})},j0e=e=>Er({queryKey:["products",e],queryFn:()=>_e(`/api/product/findByProductType?productType=${e}`),enabled:!!e}),_5=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=q0(),f=k5(),p=L5(r),g=_0e(r),C=(o==null?void 0:o.data)||[];console.log(C);const S=jn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"productCode",headerName:"Product Code"},{field:"brandName.brandName",headerName:"Brand Name"},{field:"productName",headerName:"Product Name"},{field:"modelNo",headerName:"Model No"},{field:"itemCategory.categoryName",headerName:"Product Category"},{field:"itemType.typeName",headerName:"Product Type"},{field:"mrp",headerName:"MRP"},{field:"starRating.starRating",headerName:"Star Rating"},{field:"refGasType.gasTypeName",headerName:"Gas Type Name"},{field:"tonCapacity.tonCapacityName",headerName:"Ton Capacity"},{field:"salesUnitMeasurement.uom",headerName:"Sales Unit Measurement"},{field:"purchaseUnitMeasurement.uom",headerName:"Purchase Unit Measurement"},{field:"baseUnitMeasurement.uom",headerName:"Base Unit Measurement"},{field:"itemStatus.statusName",headerName:"Item Status"},{field:"reoderLevel",headerName:"ReoderLevel"},{field:"reoderLevel",headerName:"ReoderLevel"},{field:"minQuantity",headerName:"Min Quantity"},{field:"maxQuantity",headerName:"Max Quantity"},{field:"sizes",headerName:"Sizes"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:A=>A.value?"Active":"Inactive"}],w=()=>{i(""),n(null),S("/app/product-list/productform")},b=()=>{t(!1)},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},E=A=>{n(A.id),console.log("action",A.id),i(A),S(`/app/product-list/productform?id=${A.id}`)},R=A=>{n(A.id),g.mutate(A.id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Product List"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:E,onDeleteClick:R,exportFileName:"Product_List"})]}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"service-form",width:"100%",height:"100%",children:d.jsx(L0e,{onSubmit:F,formId:"service-form",defaultValues:s})})]})},jR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},BR=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},j5=()=>Er({queryKey:["useGetMaterials"],queryFn:()=>_e("/api/materials/v1/getAll")}),B0e=()=>Ze({mutationFn:e=>_e("/api/materials/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:jR,onError:BR}),G0e=e=>{const t=At();return console.log(Zv),Ze({mutationFn:r=>_e(`/api/materials/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{jR(r),t.invalidateQueries({queryKey:["useGetMaterials"]})},onError:BR})},H0e=e=>{const t=At();return console.log(e),Ze({mutationFn:()=>_e(`/api/materials/delete/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetMaterials"]}),jR(r.message)},onError:BR})};var V0e=function(t){return W0e(t)&&!U0e(t)};function W0e(e){return!!e&&typeof e=="object"}function U0e(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||K0e(e)}var z0e=typeof Symbol=="function"&&Symbol.for,$0e=z0e?Symbol.for("react.element"):60103;function K0e(e){return e.$$typeof===$0e}function q0e(e){return Array.isArray(e)?[]:{}}function qv(e,t){return t.clone!==!1&&t.isMergeableObject(e)?ep(q0e(e),e,t):e}function Y0e(e,t,r){return e.concat(t).map(function(n){return qv(n,r)})}function Q0e(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(s){n[s]=qv(e[s],r)}),Object.keys(t).forEach(function(s){!r.isMergeableObject(t[s])||!e[s]?n[s]=qv(t[s],r):n[s]=ep(e[s],t[s],r)}),n}function ep(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Y0e,r.isMergeableObject=r.isMergeableObject||V0e;var n=Array.isArray(t),s=Array.isArray(e),i=n===s;return i?n?r.arrayMerge(e,t,r):Q0e(e,t,r):qv(t,r)}ep.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,s){return ep(n,s,r)},{})};var Px=ep,B5=typeof global=="object"&&global&&global.Object===Object&&global,X0e=typeof self=="object"&&self&&self.Object===Object&&self,Ro=B5||X0e||Function("return this")(),ml=Ro.Symbol,G5=Object.prototype,J0e=G5.hasOwnProperty,Z0e=G5.toString,Qh=ml?ml.toStringTag:void 0;function eCe(e){var t=J0e.call(e,Qh),r=e[Qh];try{e[Qh]=void 0;var n=!0}catch{}var s=Z0e.call(e);return n&&(t?e[Qh]=r:delete e[Qh]),s}var tCe=Object.prototype,rCe=tCe.toString;function nCe(e){return rCe.call(e)}var sCe="[object Null]",iCe="[object Undefined]",B2=ml?ml.toStringTag:void 0;function Jc(e){return e==null?e===void 0?iCe:sCe:B2&&B2 in Object(e)?eCe(e):nCe(e)}function H5(e,t){return function(r){return e(t(r))}}var GR=H5(Object.getPrototypeOf,Object);function Zc(e){return e!=null&&typeof e=="object"}var oCe="[object Object]",aCe=Function.prototype,lCe=Object.prototype,V5=aCe.toString,cCe=lCe.hasOwnProperty,uCe=V5.call(Object);function G2(e){if(!Zc(e)||Jc(e)!=oCe)return!1;var t=GR(e);if(t===null)return!0;var r=cCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&V5.call(r)==uCe}function dCe(){this.__data__=[],this.size=0}function W5(e,t){return e===t||e!==e&&t!==t}function Y0(e,t){for(var r=e.length;r--;)if(W5(e[r][0],t))return r;return-1}var hCe=Array.prototype,fCe=hCe.splice;function pCe(e){var t=this.__data__,r=Y0(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():fCe.call(t,r,1),--this.size,!0}function gCe(e){var t=this.__data__,r=Y0(t,e);return r<0?void 0:t[r][1]}function mCe(e){return Y0(this.__data__,e)>-1}function vCe(e,t){var r=this.__data__,n=Y0(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function fa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fa.prototype.clear=dCe;fa.prototype.delete=pCe;fa.prototype.get=gCe;fa.prototype.has=mCe;fa.prototype.set=vCe;function CCe(){this.__data__=new fa,this.size=0}function yCe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function SCe(e){return this.__data__.get(e)}function wCe(e){return this.__data__.has(e)}function kp(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var xCe="[object AsyncFunction]",bCe="[object Function]",RCe="[object GeneratorFunction]",ECe="[object Proxy]";function U5(e){if(!kp(e))return!1;var t=Jc(e);return t==bCe||t==RCe||t==xCe||t==ECe}var KS=Ro["__core-js_shared__"],H2=function(){var e=/[^.]+$/.exec(KS&&KS.keys&&KS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function FCe(e){return!!H2&&H2 in e}var TCe=Function.prototype,PCe=TCe.toString;function eu(e){if(e!=null){try{return PCe.call(e)}catch{}try{return e+""}catch{}}return""}var ACe=/[\\^$.*+?()[\]{}|]/g,DCe=/^\[object .+?Constructor\]$/,MCe=Function.prototype,NCe=Object.prototype,ICe=MCe.toString,OCe=NCe.hasOwnProperty,kCe=RegExp("^"+ICe.call(OCe).replace(ACe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LCe(e){if(!kp(e)||FCe(e))return!1;var t=U5(e)?kCe:DCe;return t.test(eu(e))}function _Ce(e,t){return e==null?void 0:e[t]}function tu(e,t){var r=_Ce(e,t);return LCe(r)?r:void 0}var tp=tu(Ro,"Map"),rp=tu(Object,"create");function jCe(){this.__data__=rp?rp(null):{},this.size=0}function BCe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var GCe="__lodash_hash_undefined__",HCe=Object.prototype,VCe=HCe.hasOwnProperty;function WCe(e){var t=this.__data__;if(rp){var r=t[e];return r===GCe?void 0:r}return VCe.call(t,e)?t[e]:void 0}var UCe=Object.prototype,zCe=UCe.hasOwnProperty;function $Ce(e){var t=this.__data__;return rp?t[e]!==void 0:zCe.call(t,e)}var KCe="__lodash_hash_undefined__";function qCe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rp&&t===void 0?KCe:t,this}function kc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kc.prototype.clear=jCe;kc.prototype.delete=BCe;kc.prototype.get=WCe;kc.prototype.has=$Ce;kc.prototype.set=qCe;function YCe(){this.size=0,this.__data__={hash:new kc,map:new(tp||fa),string:new kc}}function QCe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Q0(e,t){var r=e.__data__;return QCe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function XCe(e){var t=Q0(this,e).delete(e);return this.size-=t?1:0,t}function JCe(e){return Q0(this,e).get(e)}function ZCe(e){return Q0(this,e).has(e)}function eye(e,t){var r=Q0(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Tl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tl.prototype.clear=YCe;Tl.prototype.delete=XCe;Tl.prototype.get=JCe;Tl.prototype.has=ZCe;Tl.prototype.set=eye;var tye=200;function rye(e,t){var r=this.__data__;if(r instanceof fa){var n=r.__data__;if(!tp||n.length<tye-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Tl(n)}return r.set(e,t),this.size=r.size,this}function rh(e){var t=this.__data__=new fa(e);this.size=t.size}rh.prototype.clear=CCe;rh.prototype.delete=yCe;rh.prototype.get=SCe;rh.prototype.has=wCe;rh.prototype.set=rye;function nye(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var V2=function(){try{var e=tu(Object,"defineProperty");return e({},"",{}),e}catch{}}();function z5(e,t,r){t=="__proto__"&&V2?V2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var sye=Object.prototype,iye=sye.hasOwnProperty;function $5(e,t,r){var n=e[t];(!(iye.call(e,t)&&W5(n,r))||r===void 0&&!(t in e))&&z5(e,t,r)}function X0(e,t,r,n){var s=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],l=void 0;l===void 0&&(l=e[a]),s?z5(r,a,l):$5(r,a,l)}return r}function oye(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var aye="[object Arguments]";function W2(e){return Zc(e)&&Jc(e)==aye}var K5=Object.prototype,lye=K5.hasOwnProperty,cye=K5.propertyIsEnumerable,uye=W2(function(){return arguments}())?W2:function(e){return Zc(e)&&lye.call(e,"callee")&&!cye.call(e,"callee")},Lp=Array.isArray;function dye(){return!1}var q5=typeof Vs=="object"&&Vs&&!Vs.nodeType&&Vs,U2=q5&&typeof Ws=="object"&&Ws&&!Ws.nodeType&&Ws,hye=U2&&U2.exports===q5,z2=hye?Ro.Buffer:void 0,fye=z2?z2.isBuffer:void 0,Y5=fye||dye,pye=9007199254740991,gye=/^(?:0|[1-9]\d*)$/;function mye(e,t){var r=typeof e;return t=t??pye,!!t&&(r=="number"||r!="symbol"&&gye.test(e))&&e>-1&&e%1==0&&e<t}var vye=9007199254740991;function Q5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vye}var Cye="[object Arguments]",yye="[object Array]",Sye="[object Boolean]",wye="[object Date]",xye="[object Error]",bye="[object Function]",Rye="[object Map]",Eye="[object Number]",Fye="[object Object]",Tye="[object RegExp]",Pye="[object Set]",Aye="[object String]",Dye="[object WeakMap]",Mye="[object ArrayBuffer]",Nye="[object DataView]",Iye="[object Float32Array]",Oye="[object Float64Array]",kye="[object Int8Array]",Lye="[object Int16Array]",_ye="[object Int32Array]",jye="[object Uint8Array]",Bye="[object Uint8ClampedArray]",Gye="[object Uint16Array]",Hye="[object Uint32Array]",yr={};yr[Iye]=yr[Oye]=yr[kye]=yr[Lye]=yr[_ye]=yr[jye]=yr[Bye]=yr[Gye]=yr[Hye]=!0;yr[Cye]=yr[yye]=yr[Mye]=yr[Sye]=yr[Nye]=yr[wye]=yr[xye]=yr[bye]=yr[Rye]=yr[Eye]=yr[Fye]=yr[Tye]=yr[Pye]=yr[Aye]=yr[Dye]=!1;function Vye(e){return Zc(e)&&Q5(e.length)&&!!yr[Jc(e)]}function HR(e){return function(t){return e(t)}}var X5=typeof Vs=="object"&&Vs&&!Vs.nodeType&&Vs,Rf=X5&&typeof Ws=="object"&&Ws&&!Ws.nodeType&&Ws,Wye=Rf&&Rf.exports===X5,qS=Wye&&B5.process,Ad=function(){try{var e=Rf&&Rf.require&&Rf.require("util").types;return e||qS&&qS.binding&&qS.binding("util")}catch{}}(),$2=Ad&&Ad.isTypedArray,Uye=$2?HR($2):Vye,zye=Object.prototype,$ye=zye.hasOwnProperty;function J5(e,t){var r=Lp(e),n=!r&&uye(e),s=!r&&!n&&Y5(e),i=!r&&!n&&!s&&Uye(e),o=r||n||s||i,a=o?oye(e.length,String):[],l=a.length;for(var u in e)(t||$ye.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||mye(u,l)))&&a.push(u);return a}var Kye=Object.prototype;function VR(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Kye;return e===r}var qye=H5(Object.keys,Object),Yye=Object.prototype,Qye=Yye.hasOwnProperty;function Xye(e){if(!VR(e))return qye(e);var t=[];for(var r in Object(e))Qye.call(e,r)&&r!="constructor"&&t.push(r);return t}function Z5(e){return e!=null&&Q5(e.length)&&!U5(e)}function WR(e){return Z5(e)?J5(e):Xye(e)}function Jye(e,t){return e&&X0(t,WR(t),e)}function Zye(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var eSe=Object.prototype,tSe=eSe.hasOwnProperty;function rSe(e){if(!kp(e))return Zye(e);var t=VR(e),r=[];for(var n in e)n=="constructor"&&(t||!tSe.call(e,n))||r.push(n);return r}function UR(e){return Z5(e)?J5(e,!0):rSe(e)}function nSe(e,t){return e&&X0(t,UR(t),e)}var eB=typeof Vs=="object"&&Vs&&!Vs.nodeType&&Vs,K2=eB&&typeof Ws=="object"&&Ws&&!Ws.nodeType&&Ws,sSe=K2&&K2.exports===eB,q2=sSe?Ro.Buffer:void 0,Y2=q2?q2.allocUnsafe:void 0;function iSe(e,t){if(t)return e.slice();var r=e.length,n=Y2?Y2(r):new e.constructor(r);return e.copy(n),n}function tB(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function oSe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}function rB(){return[]}var aSe=Object.prototype,lSe=aSe.propertyIsEnumerable,Q2=Object.getOwnPropertySymbols,zR=Q2?function(e){return e==null?[]:(e=Object(e),oSe(Q2(e),function(t){return lSe.call(e,t)}))}:rB;function cSe(e,t){return X0(e,zR(e),t)}function nB(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var uSe=Object.getOwnPropertySymbols,sB=uSe?function(e){for(var t=[];e;)nB(t,zR(e)),e=GR(e);return t}:rB;function dSe(e,t){return X0(e,sB(e),t)}function iB(e,t,r){var n=t(e);return Lp(e)?n:nB(n,r(e))}function hSe(e){return iB(e,WR,zR)}function fSe(e){return iB(e,UR,sB)}var Ax=tu(Ro,"DataView"),Dx=tu(Ro,"Promise"),Mx=tu(Ro,"Set"),Nx=tu(Ro,"WeakMap"),X2="[object Map]",pSe="[object Object]",J2="[object Promise]",Z2="[object Set]",eM="[object WeakMap]",tM="[object DataView]",gSe=eu(Ax),mSe=eu(tp),vSe=eu(Dx),CSe=eu(Mx),ySe=eu(Nx),Go=Jc;(Ax&&Go(new Ax(new ArrayBuffer(1)))!=tM||tp&&Go(new tp)!=X2||Dx&&Go(Dx.resolve())!=J2||Mx&&Go(new Mx)!=Z2||Nx&&Go(new Nx)!=eM)&&(Go=function(e){var t=Jc(e),r=t==pSe?e.constructor:void 0,n=r?eu(r):"";if(n)switch(n){case gSe:return tM;case mSe:return X2;case vSe:return J2;case CSe:return Z2;case ySe:return eM}return t});var SSe=Object.prototype,wSe=SSe.hasOwnProperty;function xSe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&wSe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var rM=Ro.Uint8Array;function $R(e){var t=new e.constructor(e.byteLength);return new rM(t).set(new rM(e)),t}function bSe(e,t){var r=t?$R(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var RSe=/\w*$/;function ESe(e){var t=new e.constructor(e.source,RSe.exec(e));return t.lastIndex=e.lastIndex,t}var nM=ml?ml.prototype:void 0,sM=nM?nM.valueOf:void 0;function FSe(e){return sM?Object(sM.call(e)):{}}function TSe(e,t){var r=t?$R(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var PSe="[object Boolean]",ASe="[object Date]",DSe="[object Map]",MSe="[object Number]",NSe="[object RegExp]",ISe="[object Set]",OSe="[object String]",kSe="[object Symbol]",LSe="[object ArrayBuffer]",_Se="[object DataView]",jSe="[object Float32Array]",BSe="[object Float64Array]",GSe="[object Int8Array]",HSe="[object Int16Array]",VSe="[object Int32Array]",WSe="[object Uint8Array]",USe="[object Uint8ClampedArray]",zSe="[object Uint16Array]",$Se="[object Uint32Array]";function KSe(e,t,r){var n=e.constructor;switch(t){case LSe:return $R(e);case PSe:case ASe:return new n(+e);case _Se:return bSe(e,r);case jSe:case BSe:case GSe:case HSe:case VSe:case WSe:case USe:case zSe:case $Se:return TSe(e,r);case DSe:return new n;case MSe:case OSe:return new n(e);case NSe:return ESe(e);case ISe:return new n;case kSe:return FSe(e)}}var iM=Object.create,qSe=function(){function e(){}return function(t){if(!kp(t))return{};if(iM)return iM(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function YSe(e){return typeof e.constructor=="function"&&!VR(e)?qSe(GR(e)):{}}var QSe="[object Map]";function XSe(e){return Zc(e)&&Go(e)==QSe}var oM=Ad&&Ad.isMap,JSe=oM?HR(oM):XSe,ZSe="[object Set]";function ewe(e){return Zc(e)&&Go(e)==ZSe}var aM=Ad&&Ad.isSet,twe=aM?HR(aM):ewe,rwe=1,nwe=2,swe=4,oB="[object Arguments]",iwe="[object Array]",owe="[object Boolean]",awe="[object Date]",lwe="[object Error]",aB="[object Function]",cwe="[object GeneratorFunction]",uwe="[object Map]",dwe="[object Number]",lB="[object Object]",hwe="[object RegExp]",fwe="[object Set]",pwe="[object String]",gwe="[object Symbol]",mwe="[object WeakMap]",vwe="[object ArrayBuffer]",Cwe="[object DataView]",ywe="[object Float32Array]",Swe="[object Float64Array]",wwe="[object Int8Array]",xwe="[object Int16Array]",bwe="[object Int32Array]",Rwe="[object Uint8Array]",Ewe="[object Uint8ClampedArray]",Fwe="[object Uint16Array]",Twe="[object Uint32Array]",gr={};gr[oB]=gr[iwe]=gr[vwe]=gr[Cwe]=gr[owe]=gr[awe]=gr[ywe]=gr[Swe]=gr[wwe]=gr[xwe]=gr[bwe]=gr[uwe]=gr[dwe]=gr[lB]=gr[hwe]=gr[fwe]=gr[pwe]=gr[gwe]=gr[Rwe]=gr[Ewe]=gr[Fwe]=gr[Twe]=!0;gr[lwe]=gr[aB]=gr[mwe]=!1;function Ef(e,t,r,n,s,i){var o,a=t&rwe,l=t&nwe,u=t&swe;if(o!==void 0)return o;if(!kp(e))return e;var f=Lp(e);if(f){if(o=xSe(e),!a)return tB(e,o)}else{var p=Go(e),g=p==aB||p==cwe;if(Y5(e))return iSe(e,a);if(p==lB||p==oB||g&&!s){if(o=l||g?{}:YSe(e),!a)return l?dSe(e,nSe(o,e)):cSe(e,Jye(o,e))}else{if(!gr[p])return s?e:{};o=KSe(e,p,a)}}i||(i=new rh);var C=i.get(e);if(C)return C;i.set(e,o),twe(e)?e.forEach(function(w){o.add(Ef(w,t,r,w,e,i))}):JSe(e)&&e.forEach(function(w,b){o.set(b,Ef(w,t,r,b,e,i))});var S=u?l?fSe:hSe:l?UR:WR,y=f?void 0:S(e);return nye(y||e,function(w,b){y&&(b=w,w=e[b]),$5(o,b,Ef(w,t,r,b,e,i))}),o}var Pwe=1,Awe=4;function Pm(e){return Ef(e,Pwe|Awe)}var YS,lM;function Dwe(){if(lM)return YS;lM=1;var e=Array.isArray,t=Object.keys,r=Object.prototype.hasOwnProperty,n=typeof Element<"u";function s(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){var a=e(i),l=e(o),u,f,p;if(a&&l){if(f=i.length,f!=o.length)return!1;for(u=f;u--!==0;)if(!s(i[u],o[u]))return!1;return!0}if(a!=l)return!1;var g=i instanceof Date,C=o instanceof Date;if(g!=C)return!1;if(g&&C)return i.getTime()==o.getTime();var S=i instanceof RegExp,y=o instanceof RegExp;if(S!=y)return!1;if(S&&y)return i.toString()==o.toString();var w=t(i);if(f=w.length,f!==t(o).length)return!1;for(u=f;u--!==0;)if(!r.call(o,w[u]))return!1;if(n&&i instanceof Element&&o instanceof Element)return i===o;for(u=f;u--!==0;)if(p=w[u],!(p==="_owner"&&i.$$typeof)&&!s(i[p],o[p]))return!1;return!0}return i!==i&&o!==o}return YS=function(o,a){try{return s(o,a)}catch(l){if(l.message&&l.message.match(/stack|recursion/i)||l.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",l.name,l.message),!1;throw l}},YS}var Mwe=Dwe();const Ql=Xv(Mwe);var Nwe=4;function cM(e){return Ef(e,Nwe)}function cB(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Iwe="[object Symbol]";function KR(e){return typeof e=="symbol"||Zc(e)&&Jc(e)==Iwe}var Owe="Expected a function";function qR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Owe);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(qR.Cache||Tl),r}qR.Cache=Tl;var kwe=500;function Lwe(e){var t=qR(e,function(n){return r.size===kwe&&r.clear(),n}),r=t.cache;return t}var _we=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jwe=/\\(\\)?/g,Bwe=Lwe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_we,function(r,n,s,i){t.push(s?i.replace(jwe,"$1"):n||r)}),t});function Gwe(e){if(typeof e=="string"||KR(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var uM=ml?ml.prototype:void 0,dM=uM?uM.toString:void 0;function uB(e){if(typeof e=="string")return e;if(Lp(e))return cB(e,uB)+"";if(KR(e))return dM?dM.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Hwe(e){return e==null?"":uB(e)}function dB(e){return Lp(e)?cB(e,Gwe):KR(e)?[e]:tB(Bwe(Hwe(e)))}var QS={exports:{}},tr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hM;function Vwe(){if(hM)return tr;hM=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,C=e?Symbol.for("react.memo"):60115,S=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,F=e?Symbol.for("react.scope"):60119;function E(A){if(typeof A=="object"&&A!==null){var D=A.$$typeof;switch(D){case t:switch(A=A.type,A){case l:case u:case n:case i:case s:case p:return A;default:switch(A=A&&A.$$typeof,A){case a:case f:case S:case C:case o:return A;default:return D}}case r:return D}}}function R(A){return E(A)===u}return tr.AsyncMode=l,tr.ConcurrentMode=u,tr.ContextConsumer=a,tr.ContextProvider=o,tr.Element=t,tr.ForwardRef=f,tr.Fragment=n,tr.Lazy=S,tr.Memo=C,tr.Portal=r,tr.Profiler=i,tr.StrictMode=s,tr.Suspense=p,tr.isAsyncMode=function(A){return R(A)||E(A)===l},tr.isConcurrentMode=R,tr.isContextConsumer=function(A){return E(A)===a},tr.isContextProvider=function(A){return E(A)===o},tr.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},tr.isForwardRef=function(A){return E(A)===f},tr.isFragment=function(A){return E(A)===n},tr.isLazy=function(A){return E(A)===S},tr.isMemo=function(A){return E(A)===C},tr.isPortal=function(A){return E(A)===r},tr.isProfiler=function(A){return E(A)===i},tr.isStrictMode=function(A){return E(A)===s},tr.isSuspense=function(A){return E(A)===p},tr.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===u||A===i||A===s||A===p||A===g||typeof A=="object"&&A!==null&&(A.$$typeof===S||A.$$typeof===C||A.$$typeof===o||A.$$typeof===a||A.$$typeof===f||A.$$typeof===w||A.$$typeof===b||A.$$typeof===F||A.$$typeof===y)},tr.typeOf=E,tr}var fM;function Wwe(){return fM||(fM=1,QS.exports=Vwe()),QS.exports}var XS,pM;function Uwe(){if(pM)return XS;pM=1;var e=Wwe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=s;function o(S){return e.isMemo(S)?s:i[S.$$typeof]||t}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function C(S,y,w){if(typeof y!="string"){if(g){var b=p(y);b&&b!==g&&C(S,b,w)}var F=l(y);u&&(F=F.concat(u(y)));for(var E=o(S),R=o(y),A=0;A<F.length;++A){var D=F[A];if(!r[D]&&!(w&&w[D])&&!(R&&R[D])&&!(E&&E[D])){var M=f(y,D);try{a(S,D,M)}catch{}}}}return S}return XS=C,XS}Uwe();function cn(){return cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cn.apply(this,arguments)}function hB(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var J0=v.createContext(void 0);J0.displayName="FormikContext";J0.Provider;J0.Consumer;function zwe(){var e=v.useContext(J0);return e}var Ai=function(t){return typeof t=="function"},Z0=function(t){return t!==null&&typeof t=="object"},$we=function(t){return String(Math.floor(Number(t)))===t},JS=function(t){return Object.prototype.toString.call(t)==="[object String]"},ZS=function(t){return Z0(t)&&Ai(t.then)};function Os(e,t,r,n){n===void 0&&(n=0);for(var s=dB(t);e&&n<s.length;)e=e[s[n++]];return n!==s.length&&!e||e===void 0?r:e}function Sc(e,t,r){for(var n=cM(e),s=n,i=0,o=dB(t);i<o.length-1;i++){var a=o[i],l=Os(e,o.slice(0,i+1));if(l&&(Z0(l)||Array.isArray(l)))s=s[a]=cM(l);else{var u=o[i+1];s=s[a]=$we(u)&&Number(u)>=0?[]:{}}}return(i===0?e:s)[o[i]]===r?e:(r===void 0?delete s[o[i]]:s[o[i]]=r,i===0&&r===void 0&&delete n[o[i]],n)}function fB(e,t,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var s=0,i=Object.keys(e);s<i.length;s++){var o=i[s],a=e[o];Z0(a)?r.get(a)||(r.set(a,!0),n[o]=Array.isArray(a)?[]:{},fB(a,t,r,n[o])):n[o]=t}return n}function Kwe(e,t){switch(t.type){case"SET_VALUES":return cn({},e,{values:t.payload});case"SET_TOUCHED":return cn({},e,{touched:t.payload});case"SET_ERRORS":return Ql(e.errors,t.payload)?e:cn({},e,{errors:t.payload});case"SET_STATUS":return cn({},e,{status:t.payload});case"SET_ISSUBMITTING":return cn({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return cn({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return cn({},e,{values:Sc(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return cn({},e,{touched:Sc(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return cn({},e,{errors:Sc(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return cn({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return cn({},e,{touched:fB(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return cn({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return cn({},e,{isSubmitting:!1});default:return e}}var zl={},Am={};function _p(e){var t=e.validateOnChange,r=t===void 0?!0:t,n=e.validateOnBlur,s=n===void 0?!0:n,i=e.validateOnMount,o=i===void 0?!1:i,a=e.isInitialValid,l=e.enableReinitialize,u=l===void 0?!1:l,f=e.onSubmit,p=hB(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),g=cn({validateOnChange:r,validateOnBlur:s,validateOnMount:o,onSubmit:f},p),C=v.useRef(g.initialValues),S=v.useRef(g.initialErrors||zl),y=v.useRef(g.initialTouched||Am),w=v.useRef(g.initialStatus),b=v.useRef(!1),F=v.useRef({});v.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var E=v.useState(0),R=E[1],A=v.useRef({values:Pm(g.initialValues),errors:Pm(g.initialErrors)||zl,touched:Pm(g.initialTouched)||Am,status:Pm(g.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),D=A.current,M=v.useCallback(function(de){var He=A.current;A.current=Kwe(He,de),He!==A.current&&R(function(Ue){return Ue+1})},[]),I=v.useCallback(function(de,He){return new Promise(function(Ue,tt){var rt=g.validate(de,He);rt==null?Ue(zl):ZS(rt)?rt.then(function(gt){Ue(gt||zl)},function(gt){tt(gt)}):Ue(rt)})},[g.validate]),L=v.useCallback(function(de,He){var Ue=g.validationSchema,tt=Ai(Ue)?Ue(He):Ue,rt=He&&tt.validateAt?tt.validateAt(He,de):Ywe(de,tt);return new Promise(function(gt,Vt){rt.then(function(){gt(zl)},function(zr){zr.name==="ValidationError"?gt(qwe(zr)):Vt(zr)})})},[g.validationSchema]),j=v.useCallback(function(de,He){return new Promise(function(Ue){return Ue(F.current[de].validate(He))})},[]),W=v.useCallback(function(de){var He=Object.keys(F.current).filter(function(tt){return Ai(F.current[tt].validate)}),Ue=He.length>0?He.map(function(tt){return j(tt,Os(de,tt))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ue).then(function(tt){return tt.reduce(function(rt,gt,Vt){return gt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||gt&&(rt=Sc(rt,He[Vt],gt)),rt},{})})},[j]),B=v.useCallback(function(de){return Promise.all([W(de),g.validationSchema?L(de):{},g.validate?I(de):{}]).then(function(He){var Ue=He[0],tt=He[1],rt=He[2],gt=Px.all([Ue,tt,rt],{arrayMerge:Qwe});return gt})},[g.validate,g.validationSchema,W,I,L]),ie=ii(function(de){return de===void 0&&(de=D.values),M({type:"SET_ISVALIDATING",payload:!0}),B(de).then(function(He){return b.current&&(M({type:"SET_ISVALIDATING",payload:!1}),M({type:"SET_ERRORS",payload:He})),He})});v.useEffect(function(){o&&b.current===!0&&Ql(C.current,g.initialValues)&&ie(C.current)},[o,ie]);var Se=v.useCallback(function(de){var He=de&&de.values?de.values:C.current,Ue=de&&de.errors?de.errors:S.current?S.current:g.initialErrors||{},tt=de&&de.touched?de.touched:y.current?y.current:g.initialTouched||{},rt=de&&de.status?de.status:w.current?w.current:g.initialStatus;C.current=He,S.current=Ue,y.current=tt,w.current=rt;var gt=function(){M({type:"RESET_FORM",payload:{isSubmitting:!!de&&!!de.isSubmitting,errors:Ue,touched:tt,status:rt,values:He,isValidating:!!de&&!!de.isValidating,submitCount:de&&de.submitCount&&typeof de.submitCount=="number"?de.submitCount:0}})};if(g.onReset){var Vt=g.onReset(D.values,Qe);ZS(Vt)?Vt.then(gt):gt()}else gt()},[g.initialErrors,g.initialStatus,g.initialTouched,g.onReset]);v.useEffect(function(){b.current===!0&&!Ql(C.current,g.initialValues)&&u&&(C.current=g.initialValues,Se(),o&&ie(C.current))},[u,g.initialValues,Se,o,ie]),v.useEffect(function(){u&&b.current===!0&&!Ql(S.current,g.initialErrors)&&(S.current=g.initialErrors||zl,M({type:"SET_ERRORS",payload:g.initialErrors||zl}))},[u,g.initialErrors]),v.useEffect(function(){u&&b.current===!0&&!Ql(y.current,g.initialTouched)&&(y.current=g.initialTouched||Am,M({type:"SET_TOUCHED",payload:g.initialTouched||Am}))},[u,g.initialTouched]),v.useEffect(function(){u&&b.current===!0&&!Ql(w.current,g.initialStatus)&&(w.current=g.initialStatus,M({type:"SET_STATUS",payload:g.initialStatus}))},[u,g.initialStatus,g.initialTouched]);var Ee=ii(function(de){if(F.current[de]&&Ai(F.current[de].validate)){var He=Os(D.values,de),Ue=F.current[de].validate(He);return ZS(Ue)?(M({type:"SET_ISVALIDATING",payload:!0}),Ue.then(function(tt){return tt}).then(function(tt){M({type:"SET_FIELD_ERROR",payload:{field:de,value:tt}}),M({type:"SET_ISVALIDATING",payload:!1})})):(M({type:"SET_FIELD_ERROR",payload:{field:de,value:Ue}}),Promise.resolve(Ue))}else if(g.validationSchema)return M({type:"SET_ISVALIDATING",payload:!0}),L(D.values,de).then(function(tt){return tt}).then(function(tt){M({type:"SET_FIELD_ERROR",payload:{field:de,value:Os(tt,de)}}),M({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),xe=v.useCallback(function(de,He){var Ue=He.validate;F.current[de]={validate:Ue}},[]),ae=v.useCallback(function(de){delete F.current[de]},[]),Z=ii(function(de,He){M({type:"SET_TOUCHED",payload:de});var Ue=He===void 0?s:He;return Ue?ie(D.values):Promise.resolve()}),re=v.useCallback(function(de){M({type:"SET_ERRORS",payload:de})},[]),ue=ii(function(de,He){var Ue=Ai(de)?de(D.values):de;M({type:"SET_VALUES",payload:Ue});var tt=He===void 0?r:He;return tt?ie(Ue):Promise.resolve()}),z=v.useCallback(function(de,He){M({type:"SET_FIELD_ERROR",payload:{field:de,value:He}})},[]),N=ii(function(de,He,Ue){M({type:"SET_FIELD_VALUE",payload:{field:de,value:He}});var tt=Ue===void 0?r:Ue;return tt?ie(Sc(D.values,de,He)):Promise.resolve()}),O=v.useCallback(function(de,He){var Ue=He,tt=de,rt;if(!JS(de)){de.persist&&de.persist();var gt=de.target?de.target:de.currentTarget,Vt=gt.type,zr=gt.name,Oe=gt.id,vt=gt.value,ur=gt.checked;gt.outerHTML;var nn=gt.options,Qs=gt.multiple;Ue=He||zr||Oe,tt=/number|range/.test(Vt)?(rt=parseFloat(vt),isNaN(rt)?"":rt):/checkbox/.test(Vt)?Jwe(Os(D.values,Ue),ur,vt):nn&&Qs?Xwe(nn):vt}Ue&&N(Ue,tt)},[N,D.values]),H=ii(function(de){if(JS(de))return function(He){return O(He,de)};O(de)}),G=ii(function(de,He,Ue){He===void 0&&(He=!0),M({type:"SET_FIELD_TOUCHED",payload:{field:de,value:He}});var tt=Ue===void 0?s:Ue;return tt?ie(D.values):Promise.resolve()}),J=v.useCallback(function(de,He){de.persist&&de.persist();var Ue=de.target,tt=Ue.name,rt=Ue.id;Ue.outerHTML;var gt=He||tt||rt;G(gt,!0)},[G]),oe=ii(function(de){if(JS(de))return function(He){return J(He,de)};J(de)}),ve=v.useCallback(function(de){Ai(de)?M({type:"SET_FORMIK_STATE",payload:de}):M({type:"SET_FORMIK_STATE",payload:function(){return de}})},[]),X=v.useCallback(function(de){M({type:"SET_STATUS",payload:de})},[]),ne=v.useCallback(function(de){M({type:"SET_ISSUBMITTING",payload:de})},[]),Ne=ii(function(){return M({type:"SUBMIT_ATTEMPT"}),ie().then(function(de){var He=de instanceof Error,Ue=!He&&Object.keys(de).length===0;if(Ue){var tt;try{if(tt=Je(),tt===void 0)return}catch(rt){throw rt}return Promise.resolve(tt).then(function(rt){return b.current&&M({type:"SUBMIT_SUCCESS"}),rt}).catch(function(rt){if(b.current)throw M({type:"SUBMIT_FAILURE"}),rt})}else if(b.current&&(M({type:"SUBMIT_FAILURE"}),He))throw de})}),Ae=ii(function(de){de&&de.preventDefault&&Ai(de.preventDefault)&&de.preventDefault(),de&&de.stopPropagation&&Ai(de.stopPropagation)&&de.stopPropagation(),Ne().catch(function(He){console.warn("Warning: An unhandled error was caught from submitForm()",He)})}),Qe={resetForm:Se,validateForm:ie,validateField:Ee,setErrors:re,setFieldError:z,setFieldTouched:G,setFieldValue:N,setStatus:X,setSubmitting:ne,setTouched:Z,setValues:ue,setFormikState:ve,submitForm:Ne},Je=ii(function(){return f(D.values,Qe)}),ft=ii(function(de){de&&de.preventDefault&&Ai(de.preventDefault)&&de.preventDefault(),de&&de.stopPropagation&&Ai(de.stopPropagation)&&de.stopPropagation(),Se()}),xt=v.useCallback(function(de){return{value:Os(D.values,de),error:Os(D.errors,de),touched:!!Os(D.touched,de),initialValue:Os(C.current,de),initialTouched:!!Os(y.current,de),initialError:Os(S.current,de)}},[D.errors,D.touched,D.values]),We=v.useCallback(function(de){return{setValue:function(Ue,tt){return N(de,Ue,tt)},setTouched:function(Ue,tt){return G(de,Ue,tt)},setError:function(Ue){return z(de,Ue)}}},[N,G,z]),le=v.useCallback(function(de){var He=Z0(de),Ue=He?de.name:de,tt=Os(D.values,Ue),rt={name:Ue,value:tt,onChange:H,onBlur:oe};if(He){var gt=de.type,Vt=de.value,zr=de.as,Oe=de.multiple;gt==="checkbox"?Vt===void 0?rt.checked=!!tt:(rt.checked=!!(Array.isArray(tt)&&~tt.indexOf(Vt)),rt.value=Vt):gt==="radio"?(rt.checked=tt===Vt,rt.value=Vt):zr==="select"&&Oe&&(rt.value=rt.value||[],rt.multiple=!0)}return rt},[oe,H,D.values]),Ke=v.useMemo(function(){return!Ql(C.current,D.values)},[C.current,D.values]),ct=v.useMemo(function(){return typeof a<"u"?Ke?D.errors&&Object.keys(D.errors).length===0:a!==!1&&Ai(a)?a(g):a:D.errors&&Object.keys(D.errors).length===0},[a,Ke,D.errors,g]),Nt=cn({},D,{initialValues:C.current,initialErrors:S.current,initialTouched:y.current,initialStatus:w.current,handleBlur:oe,handleChange:H,handleReset:ft,handleSubmit:Ae,resetForm:Se,setErrors:re,setFormikState:ve,setFieldTouched:G,setFieldValue:N,setFieldError:z,setStatus:X,setSubmitting:ne,setTouched:Z,setValues:ue,submitForm:Ne,validateForm:ie,validateField:Ee,isValid:ct,dirty:Ke,unregisterField:ae,registerField:xe,getFieldProps:le,getFieldMeta:xt,getFieldHelpers:We,validateOnBlur:s,validateOnChange:r,validateOnMount:o});return Nt}function qwe(e){var t={};if(e.inner){if(e.inner.length===0)return Sc(t,e.path,e.message);for(var s=e.inner,r=Array.isArray(s),n=0,s=r?s:s[Symbol.iterator]();;){var i;if(r){if(n>=s.length)break;i=s[n++]}else{if(n=s.next(),n.done)break;i=n.value}var o=i;Os(t,o.path)||(t=Sc(t,o.path,o.message))}}return t}function Ywe(e,t,r,n){r===void 0&&(r=!1);var s=Ix(e);return t[r?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Ix(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);Array.isArray(e[n])===!0?t[n]=e[n].map(function(s){return Array.isArray(s)===!0||G2(s)?Ix(s):s!==""?s:void 0}):G2(e[n])?t[n]=Ix(e[n]):t[n]=e[n]!==""?e[n]:void 0}return t}function Qwe(e,t,r){var n=e.slice();return t.forEach(function(i,o){if(typeof n[o]>"u"){var a=r.clone!==!1,l=a&&r.isMergeableObject(i);n[o]=l?Px(Array.isArray(i)?[]:{},i,r):i}else r.isMergeableObject(i)?n[o]=Px(e[o],i,r):e.indexOf(i)===-1&&n.push(i)}),n}function Xwe(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Jwe(e,t,r){if(typeof e=="boolean")return!!t;var n=[],s=!1,i=-1;if(Array.isArray(e))n=e,i=e.indexOf(r),s=i>=0;else if(!r||r=="true"||r=="false")return!!t;return t&&r&&!s?n.concat(r):s?n.slice(0,i).concat(n.slice(i+1)):n}var Zwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;function ii(e){var t=v.useRef(e);return Zwe(function(){t.current=e}),v.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current.apply(void 0,n)},[])}var exe=v.forwardRef(function(e,t){var r=e.action,n=hB(e,["action"]),s=r??"#",i=zwe(),o=i.handleReset,a=i.handleSubmit;return v.createElement("form",cn({onSubmit:a,ref:t,onReset:o,action:s},n))});exe.displayName="Form";var ew,gM;function txe(){if(gM)return ew;gM=1;function e(b){this._maxSize=b,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(b){return this._values[b]},e.prototype.set=function(b,F){return this._size>=this._maxSize&&this.clear(),b in this._values||this._size++,this._values[b]=F};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,n=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,a=new e(o),l=new e(o),u=new e(o);ew={Cache:e,split:p,normalizePath:f,setter:function(b){var F=f(b);return l.get(b)||l.set(b,function(R,A){for(var D=0,M=F.length,I=R;D<M-1;){var L=F[D];if(L==="__proto__"||L==="constructor"||L==="prototype")return R;I=I[F[D++]]}I[F[D]]=A})},getter:function(b,F){var E=f(b);return u.get(b)||u.set(b,function(A){for(var D=0,M=E.length;D<M;)if(A!=null||!F)A=A[E[D++]];else return;return A})},join:function(b){return b.reduce(function(F,E){return F+(C(E)||r.test(E)?"["+E+"]":(F?".":"")+E)},"")},forEach:function(b,F,E){g(Array.isArray(b)?b:p(b),F,E)}};function f(b){return a.get(b)||a.set(b,p(b).map(function(F){return F.replace(i,"$2")}))}function p(b){return b.match(t)||[""]}function g(b,F,E){var R=b.length,A,D,M,I;for(D=0;D<R;D++)A=b[D],A&&(w(A)&&(A='"'+A+'"'),I=C(A),M=!I&&/^\d+$/.test(A),F.call(E,A,I,M,D,b))}function C(b){return typeof b=="string"&&b&&["'",'"'].indexOf(b.charAt(0))!==-1}function S(b){return b.match(n)&&!b.match(r)}function y(b){return s.test(b)}function w(b){return!C(b)&&(S(b)||y(b))}return ew}var wc=txe(),tw,mM;function rxe(){if(mM)return tw;mM=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=f=>f.match(e)||[],r=f=>f[0].toUpperCase()+f.slice(1),n=(f,p)=>t(f).join(p).toLowerCase(),s=f=>t(f).reduce((p,g)=>`${p}${p?g[0].toUpperCase()+g.slice(1).toLowerCase():g.toLowerCase()}`,"");return tw={words:t,upperFirst:r,camelCase:s,pascalCase:f=>r(s(f)),snakeCase:f=>n(f,"_"),kebabCase:f=>n(f,"-"),sentenceCase:f=>r(n(f," ")),titleCase:f=>t(f).map(r).join(" ")},tw}var rw=rxe(),Dm={exports:{}},vM;function nxe(){if(vM)return Dm.exports;vM=1,Dm.exports=function(s){return e(t(s),s)},Dm.exports.array=e;function e(s,i){var o=s.length,a=new Array(o),l={},u=o,f=r(i),p=n(s);for(i.forEach(function(C){if(!p.has(C[0])||!p.has(C[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)l[u]||g(s[u],u,new Set);return a;function g(C,S,y){if(y.has(C)){var w;try{w=", node was:"+JSON.stringify(C)}catch{w=""}throw new Error("Cyclic dependency"+w)}if(!p.has(C))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(C));if(!l[S]){l[S]=!0;var b=f.get(C)||new Set;if(b=Array.from(b),S=b.length){y.add(C);do{var F=b[--S];g(F,p.get(F),y)}while(S);y.delete(C)}a[--o]=C}}}function t(s){for(var i=new Set,o=0,a=s.length;o<a;o++){var l=s[o];i.add(l[0]),i.add(l[1])}return Array.from(i)}function r(s){for(var i=new Map,o=0,a=s.length;o<a;o++){var l=s[o];i.has(l[0])||i.set(l[0],new Set),i.has(l[1])||i.set(l[1],new Set),i.get(l[0]).add(l[1])}return i}function n(s){for(var i=new Map,o=0,a=s.length;o<a;o++)i.set(s[o],o);return i}return Dm.exports}var sxe=nxe();const ixe=Xv(sxe),oxe=Object.prototype.toString,axe=Error.prototype.toString,lxe=RegExp.prototype.toString,cxe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",uxe=/^Symbol\((.*)\)(.*)$/;function dxe(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function CM(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const r=typeof e;if(r==="number")return dxe(e);if(r==="string")return t?`"${e}"`:e;if(r==="function")return"[Function "+(e.name||"anonymous")+"]";if(r==="symbol")return cxe.call(e).replace(uxe,"Symbol($1)");const n=oxe.call(e).slice(8,-1);return n==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):n==="Error"||e instanceof Error?"["+axe.call(e)+"]":n==="RegExp"?lxe.call(e):null}function sl(e,t){let r=CM(e,t);return r!==null?r:JSON.stringify(e,function(n,s){let i=CM(this[n],t);return i!==null?i:s},2)}function pB(e){return e==null?[]:[].concat(e)}let gB,mB,vB,hxe=/\$\{\s*(\w+)\s*\}/g;gB=Symbol.toStringTag;class yM{constructor(t,r,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[gB]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=s,this.errors=[],this.inner=[],pB(t).forEach(i=>{if(Ss.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}mB=Symbol.hasInstance;vB=Symbol.toStringTag;class Ss extends Error{static formatError(t,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof t=="string"?t.replace(hxe,(s,i)=>sl(r[i])):typeof t=="function"?t(r):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,r,n,s,i){const o=new yM(t,r,n,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[vB]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ss)}static[mB](t){return yM[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let ro={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{const s=n!=null&&n!==r?` (cast from the value \`${sl(n,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${sl(r,!0)}\``+s:`${e} must match the configured type. The validated value was: \`${sl(r,!0)}\``+s}},ms={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},fxe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Ox={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},pxe={isValue:"${path} field must be ${value}"},qm={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},gxe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},mxe={notType:e=>{const{path:t,value:r,spec:n}=e,s=n.types.length;if(Array.isArray(r)){if(r.length<s)return`${t} tuple value has too few items, expected a length of ${s} but got ${r.length} for value: \`${sl(r,!0)}\``;if(r.length>s)return`${t} tuple value has too many items, expected a length of ${s} but got ${r.length} for value: \`${sl(r,!0)}\``}return Ss.formatError(ro.notType,e)}};Object.assign(Object.create(null),{mixed:ro,string:ms,number:fxe,date:Ox,object:qm,array:gxe,boolean:pxe,tuple:mxe});const YR=e=>e&&e.__isYupSchema__;class Yv{static fromOptions(t,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=r,o=typeof n=="function"?n:(...a)=>a.every(l=>l===n);return new Yv(t,(a,l)=>{var u;let f=o(...a)?s:i;return(u=f==null?void 0:f(l))!=null?u:l})}constructor(t,r){this.fn=void 0,this.refs=t,this.refs=t,this.fn=r}resolve(t,r){let n=this.refs.map(i=>i.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(n,t,r);if(s===void 0||s===t)return t;if(!YR(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const Mm={context:"$",value:"."};let ru=class{constructor(t,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Mm.context,this.isValue=this.key[0]===Mm.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Mm.context:this.isValue?Mm.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&wc.getter(this.path,!0),this.map=r.map}getValue(t,r,n){let s=this.isContext?n:this.isValue?t:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(t,r){return this.getValue(t,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}};ru.prototype.__isYupRef=!0;const sc=e=>e==null;function Iu(e){function t({value:r,path:n="",options:s,originalValue:i,schema:o},a,l){const{name:u,test:f,params:p,message:g,skipAbsent:C}=e;let{parent:S,context:y,abortEarly:w=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=s;function F(W){return ru.isRef(W)?W.getValue(r,S,y):W}function E(W={}){const B=Object.assign({value:r,originalValue:i,label:o.spec.label,path:W.path||n,spec:o.spec,disableStackTrace:W.disableStackTrace||b},p,W.params);for(const Se of Object.keys(B))B[Se]=F(B[Se]);const ie=new Ss(Ss.formatError(W.message||g,B),r,B.path,W.type||u,B.disableStackTrace);return ie.params=B,ie}const R=w?a:l;let A={path:n,parent:S,type:u,from:s.from,createError:E,resolve:F,options:s,originalValue:i,schema:o};const D=W=>{Ss.isError(W)?R(W):W?l(null):R(E())},M=W=>{Ss.isError(W)?R(W):a(W)};if(C&&sc(r))return D(!0);let L;try{var j;if(L=f.call(A,r,A),typeof((j=L)==null?void 0:j.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(L).then(D,M)}}catch(W){M(W);return}D(L)}return t.OPTIONS=e,t}function vxe(e,t,r,n=r){let s,i,o;return t?(wc.forEach(t,(a,l,u)=>{let f=l?a.slice(1,a.length-1):a;e=e.resolve({context:n,parent:s,value:r});let p=e.type==="tuple",g=u?parseInt(f,10):0;if(e.innerType||p){if(p&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&g>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);s=r,r=r&&r[g],e=p?e.spec.types[g]:e.innerType}if(!u){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);s=r,r=r&&r[f],e=e.fields[f]}i=f,o=l?"["+a+"]":"."+a}),{schema:e,parent:s,parentPath:i}):{parent:s,parentPath:t,schema:e}}class Qv extends Set{describe(){const t=[];for(const r of this.values())t.push(ru.isRef(r)?r.describe():r);return t}resolveAll(t){let r=[];for(const n of this.values())r.push(t(n));return r}clone(){return new Qv(this.values())}merge(t,r){const n=this.clone();return t.forEach(s=>n.add(s)),r.forEach(s=>n.delete(s)),n}}function $u(e,t=new Map){if(YR(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let r;if(e instanceof Date)r=new Date(e.getTime()),t.set(e,r);else if(e instanceof RegExp)r=new RegExp(e),t.set(e,r);else if(Array.isArray(e)){r=new Array(e.length),t.set(e,r);for(let n=0;n<e.length;n++)r[n]=$u(e[n],t)}else if(e instanceof Map){r=new Map,t.set(e,r);for(const[n,s]of e.entries())r.set(n,$u(s,t))}else if(e instanceof Set){r=new Set,t.set(e,r);for(const n of e)r.add($u(n,t))}else if(e instanceof Object){r={},t.set(e,r);for(const[n,s]of Object.entries(e))r[n]=$u(s,t)}else throw Error(`Unable to clone ${e}`);return r}class vo{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Qv,this._blacklist=new Qv,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ro.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=$u(Object.assign({},this.spec,t)),r}label(t){let r=this.clone();return r.spec.label=t,r}meta(...t){if(t.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},t[0]),r}withMutation(t){let r=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=r,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let r=this,n=t.clone();const s=Object.assign({},r.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=r._blacklist.merge(t._blacklist,t._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(i=>{t.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((s,i)=>i.resolve(s,t),r),r=r.resolve(t)}return r}resolveOptions(t){var r,n,s,i;return Object.assign({},t,{from:t.from||[],strict:(r=t.strict)!=null?r:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=t.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,r={}){let n=this.resolve(Object.assign({value:t},r)),s=r.assert==="ignore-optionality",i=n._cast(t,r);if(r.assert!==!1&&!n.isType(i)){if(s&&sc(i))return i;let o=sl(t),a=sl(i);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(t,r){let n=t===void 0?t:this.transforms.reduce((s,i)=>i.call(this,s,t,this),t);return n===void 0&&(n=this.getDefault(r)),n}_validate(t,r={},n,s){let{path:i,originalValue:o=t,strict:a=this.spec.strict}=r,l=t;a||(l=this._cast(l,Object.assign({assert:!1},r)));let u=[];for(let f of Object.values(this.internalTests))f&&u.push(f);this.runTests({path:i,value:l,originalValue:o,options:r,tests:u},n,f=>{if(f.length)return s(f,l);this.runTests({path:i,value:l,originalValue:o,options:r,tests:this.tests},n,s)})}runTests(t,r,n){let s=!1,{tests:i,value:o,originalValue:a,path:l,options:u}=t,f=y=>{s||(s=!0,r(y,o))},p=y=>{s||(s=!0,n(y,o))},g=i.length,C=[];if(!g)return p([]);let S={value:o,originalValue:a,path:l,options:u,schema:this};for(let y=0;y<i.length;y++){const w=i[y];w(S,f,function(F){F&&(Array.isArray(F)?C.push(...F):C.push(F)),--g<=0&&p(C)})}}asNestedTest({key:t,index:r,parent:n,parentPath:s,originalParent:i,options:o}){const a=t??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=n[a];const f=Object.assign({},o,{strict:!0,parent:n,value:u,originalValue:i[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${s||""}[${l?a:`"${a}"`}]`:(s?`${s}.`:"")+t});return(p,g,C)=>this.resolve(f)._validate(u,f,g,C)}validate(t,r){var n;let s=this.resolve(Object.assign({},r,{value:t})),i=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(t,r,(l,u)=>{Ss.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Ss(l,u,void 0,void 0,i)):o(u)}))}validateSync(t,r){var n;let s=this.resolve(Object.assign({},r,{value:t})),i,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(t,Object.assign({},r,{sync:!0}),(a,l)=>{throw Ss.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Ss(a,t,void 0,void 0,o);i=l}),i}isValid(t,r){return this.validate(t,r).then(()=>!0,n=>{if(Ss.isError(n))return!1;throw n})}isValidSync(t,r){try{return this.validateSync(t,r),!0}catch(n){if(Ss.isError(n))return!1;throw n}}_getDefault(t){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,t):$u(r)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,r){const n=this.clone({nullable:t});return n.internalTests.nullable=Iu({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(t,r){const n=this.clone({optional:t});return n.internalTests.optionality=Iu({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=ro.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ro.notNull){return this.nullability(!1,t)}required(t=ro.required){return this.clone().withMutation(r=>r.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let r=this.clone();return r.transforms.push(t),r}test(...t){let r;if(t.length===1?typeof t[0]=="function"?r={test:t[0]}:r=t[0]:t.length===2?r={name:t[0],test:t[1]}:r={name:t[0],message:t[1],test:t[2]},r.message===void 0&&(r.message=ro.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=Iu(r),i=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(t,r){!Array.isArray(t)&&typeof t!="string"&&(r=t,t=".");let n=this.clone(),s=pB(t).map(i=>new ru(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof r=="function"?new Yv(s,r):Yv.fromOptions(s,r)),n}typeError(t){let r=this.clone();return r.internalTests.typeError=Iu({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(t,r=ro.oneOf){let n=this.clone();return t.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=Iu({message:r,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(t,r=ro.notOneOf){let n=this.clone();return t.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=Iu({message:r,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(t=!0){let r=this.clone();return r.spec.strip=t,r}describe(t){const r=(t?this.resolve(t):this).clone(),{label:n,meta:s,optional:i,nullable:o}=r.spec;return{meta:s,label:n,optional:i,nullable:o,default:r.getDefault(t),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,f)=>f.findIndex(p=>p.name===l.name)===u)}}}vo.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])vo.prototype[`${e}At`]=function(t,r,n={}){const{parent:s,parentPath:i,schema:o}=vxe(this,t,r,n.context);return o[e](s&&s[i],Object.assign({},n,{parent:s,path:t}))};for(const e of["equals","is"])vo.prototype[e]=vo.prototype.oneOf;for(const e of["not","nope"])vo.prototype[e]=vo.prototype.notOneOf;const Cxe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function yxe(e){const t=kx(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(r=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}function kx(e){var t,r;const n=Cxe.exec(e);return n?{year:_o(n[1]),month:_o(n[2],1)-1,day:_o(n[3],1),hour:_o(n[4]),minute:_o(n[5]),second:_o(n[6]),millisecond:n[7]?_o(n[7].substring(0,3)):0,precision:(t=(r=n[7])==null?void 0:r.length)!=null?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:_o(n[10]),minuteOffset:_o(n[11])}:null}function _o(e,t=0){return Number(e)||t}let Sxe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wxe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,xxe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,bxe="^\\d{4}-\\d{2}-\\d{2}",Rxe="\\d{2}:\\d{2}:\\d{2}",Exe="(([+-]\\d{2}(:?\\d{2})?)|Z)",Fxe=new RegExp(`${bxe}T${Rxe}(\\.\\d+)?${Exe}$`),Txe=e=>sc(e)||e===e.trim(),Pxe={}.toString();function it(){return new CB}class CB extends vo{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,r,n)=>{if(!n.spec.coerce||n.isType(t)||Array.isArray(t))return t;const s=t!=null&&t.toString?t.toString():t;return s===Pxe?t:s})})}required(t){return super.required(t).withMutation(r=>r.test({message:t||ro.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(r=>r.OPTIONS.name!=="required"),t))}length(t,r=ms.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,r=ms.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,r=ms.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,r){let n=!1,s,i;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:s,name:i}=r:s=r),this.test({name:i||"matches",message:s||ms.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&n||o.search(t)!==-1})}email(t=ms.email){return this.matches(Sxe,{name:"email",message:t,excludeEmptyString:!0})}url(t=ms.url){return this.matches(wxe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=ms.uuid){return this.matches(xxe,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let r="",n,s;return t&&(typeof t=="object"?{message:r="",allowOffset:n=!1,precision:s=void 0}=t:r=t),this.matches(Fxe,{name:"datetime",message:r||ms.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||ms.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const o=kx(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||ms.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=kx(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=ms.trim){return this.transform(r=>r!=null?r.trim():r).test({message:t,name:"trim",test:Txe})}lowercase(t=ms.lowercase){return this.transform(r=>sc(r)?r:r.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>sc(r)||r===r.toLowerCase()})}uppercase(t=ms.uppercase){return this.transform(r=>sc(r)?r:r.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>sc(r)||r===r.toUpperCase()})}}it.prototype=CB.prototype;let yB=new Date(""),Axe=e=>Object.prototype.toString.call(e)==="[object Date]";function Lc(){return new jp}class jp extends vo{constructor(){super({type:"date",check(t){return Axe(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,r,n)=>!n.spec.coerce||n.isType(t)||t===null?t:(t=yxe(t),isNaN(t)?jp.INVALID_DATE:new Date(t)))})}prepareParam(t,r){let n;if(ru.isRef(t))n=t;else{let s=this.cast(t);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(t,r=Ox.min){let n=this.prepareParam(t,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(t,r=Ox.max){let n=this.prepareParam(t,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}jp.INVALID_DATE=yB;Lc.prototype=jp.prototype;Lc.INVALID_DATE=yB;function Dxe(e,t=[]){let r=[],n=new Set,s=new Set(t.map(([o,a])=>`${o}-${a}`));function i(o,a){let l=wc.split(o)[0];n.add(l),s.has(`${a}-${l}`)||r.push([a,l])}for(const o of Object.keys(e)){let a=e[o];n.add(o),ru.isRef(a)&&a.isSibling?i(a.path,o):YR(a)&&"deps"in a&&a.deps.forEach(l=>i(l,o))}return ixe.array(Array.from(n),r).reverse()}function SM(e,t){let r=1/0;return e.some((n,s)=>{var i;if((i=t.path)!=null&&i.includes(n))return r=s,!0}),r}function SB(e){return(t,r)=>SM(e,t)-SM(e,r)}const Mxe=(e,t,r)=>{if(typeof e!="string")return e;let n=e;try{n=JSON.parse(e)}catch{}return r.isType(n)?n:e};function Ym(e){if("fields"in e){const t={};for(const[r,n]of Object.entries(e.fields))t[r]=Ym(n);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Ym(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Ym)}):"optional"in e?e.optional():e}const Nxe=(e,t)=>{const r=[...wc.normalizePath(t)];if(r.length===1)return r[0]in e;let n=r.pop(),s=wc.getter(wc.join(r),!0)(e);return!!(s&&n in s)};let wM=e=>Object.prototype.toString.call(e)==="[object Object]";function xM(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(n=>r.indexOf(n)===-1)}const Ixe=SB([]);function cr(e){return new wB(e)}class wB extends vo{constructor(t){super({type:"object",check(r){return wM(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=Ixe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,r={}){var n;let s=super._cast(t,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let i=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(p=>!this._nodes.includes(p))),l={},u=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),f=!1;for(const p of a){let g=i[p],C=p in s;if(g){let S,y=s[p];u.path=(r.path?`${r.path}.`:"")+p,g=g.resolve({value:y,context:r.context,parent:l});let w=g instanceof vo?g.spec:void 0,b=w==null?void 0:w.strict;if(w!=null&&w.strip){f=f||p in s;continue}S=!r.__validating||!b?g.cast(s[p],u):s[p],S!==void 0&&(l[p]=S)}else C&&!o&&(l[p]=s[p]);(C!==p in l||l[p]!==s[p])&&(f=!0)}return f?l:s}_validate(t,r={},n,s){let{from:i=[],originalValue:o=t,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...i],r.__validating=!0,r.originalValue=o,super._validate(t,r,n,(l,u)=>{if(!a||!wM(u)){s(l,u);return}o=o||u;let f=[];for(let p of this._nodes){let g=this.fields[p];!g||ru.isRef(g)||f.push(g.asNestedTest({options:r,key:p,parent:u,parentPath:r.path,originalParent:o}))}this.runTests({tests:f,value:u,originalValue:o,options:r},n,p=>{s(p.sort(this._sortErrors).concat(l),u)})})}clone(t){const r=super.clone(t);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(t){let r=super.concat(t),n=r.fields;for(let[s,i]of Object.entries(this.fields)){const o=n[s];n[s]=o===void 0?i:o}return r.withMutation(s=>s.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let o=t;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),r}setFields(t,r){let n=this.clone();return n.fields=t,n._nodes=Dxe(t,r),n._sortErrors=SB(Object.keys(t)),r&&(n._excludedEdges=r),n}shape(t,r=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,t),s)})}partial(){const t={};for(const[r,n]of Object.entries(this.fields))t[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return Ym(this)}pick(t){const r={};for(const n of t)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,s])=>t.includes(n)&&t.includes(s)))}omit(t){const r=[];for(const n of Object.keys(this.fields))t.includes(n)||r.push(n);return this.pick(r)}from(t,r,n){let s=wc.getter(t,!0);return this.transform(i=>{if(!i)return i;let o=i;return Nxe(i,t)&&(o=Object.assign({},i),n||delete o[t],o[r]=s(i)),o})}json(){return this.transform(Mxe)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||qm.exact,test(r){if(r==null)return!0;const n=xM(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,r=qm.noUnknown){typeof t!="boolean"&&(r=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const i=xM(this.schema,s);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,r=qm.noUnknown){return this.noUnknown(!t,r)}transformKeys(t){return this.transform(r=>{if(!r)return r;const n={};for(const s of Object.keys(r))n[t(s)]=r[s];return n})}camelCase(){return this.transformKeys(rw.camelCase)}snakeCase(){return this.transformKeys(rw.snakeCase)}constantCase(){return this.transformKeys(t=>rw.snakeCase(t).toUpperCase())}describe(t){const r=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[i,o]of Object.entries(r.fields)){var s;let a=t;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n.fields[i]=o.describe(a)}return n}}cr.prototype=wB.prototype;const QR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},XR=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},JR=()=>Er({queryKey:["useGetUnitMeasurements"],queryFn:()=>_e("/api/unit-measurement/v1/getAll")}),Oxe=()=>Ze({mutationFn:e=>_e("/api/unit-measurement/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:QR,onError:XR}),kxe=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/unit-measurement/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{QR(r),t.invalidateQueries({queryKey:["useGetUnitMeasurements"]})},onError:XR})},Lxe=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/unit-measurement/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetUnitMeasurements"]}),QR(r.message)},onError:XR})},_xe=({onSubmit:e,formId:t,defaultValues:r={}})=>{var i;const{data:n}=JR(),s=_p({initialValues:{materialName:r.materialName||"",materialQuantityUOM:r.materialQuantityUOM||null},validationSchema:cr({materialName:it().required("Material Name is required"),materialQuantityUOM:cr().nullable().required("Unit Measurement is required")}),onSubmit:o=>{e(o),console.log("value",o)}});return d.jsx("form",{id:t,onSubmit:s.handleSubmit,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Material Name"}),d.jsx(be,{type:"text",name:"materialName",placeholder:"Enter Material Name",value:s.values.materialName,onChange:s.handleChange,onBlur:s.handleBlur}),typeof s.touched.materialName&&typeof s.errors.materialName=="string"&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.errors.materialName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Unit Measurement"}),d.jsxs(wt,{onValueChange:o=>{const a=n==null?void 0:n.data.find(l=>l.id==o);s.setFieldValue("materialQuantityUOM",a)},value:((i=s.values.materialQuantityUOM)==null?void 0:i.id)||"",children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:n==null?void 0:n.data.map(o=>d.jsx(Xt,{value:o.id,children:o.uom},o.id))})]}),s.touched.materialQuantityUOM&&typeof s.errors.materialQuantityUOM=="string"&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.errors.materialQuantityUOM})]})]})})})},xB=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(0),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=j5(),f=B0e(),p=G0e(r),g=H0e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"materialName",headerName:"Material Name"},{field:"materialQuantityUOM.uom",headerName:"Unit MeasureMaterial "}],y=()=>{i(""),n(0),t(!0)},w=()=>{t(!1)},b=R=>{console.log(r),r?(console.log("true"),p.mutate(R,{onSuccess:()=>{u()}})):(console.log("false"),console.log(R),f.mutate(R,{onSuccess:()=>{u()}})),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Material"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Material":"Create Material",dialogDescription:r?"Edit Material here...":"Create Material here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(_xe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},jxe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});v.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(eh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},ZR=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},Bp=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},Bxe=()=>Er({queryKey:["useGetServices"],queryFn:()=>_e("/api/services/getAll")}),bB=()=>Ze({mutationFn:e=>_e("/api/services/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:ZR,onError:Bp}),RB=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/services/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{ZR(r),t.invalidateQueries({queryKey:["useGetServices"]})},onError:Bp})},Gxe=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/services/delete/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetServices"]}),ZR(r.message)},onError:Bp})},Hxe=()=>Ze({mutationFn:()=>_e("/api/services/getNextServiceNo",{method:"GET"}),onError:Bp}),Vxe=e=>Ze({mutationFn:()=>_e(`/api/services/getById/${e}`,{method:"GET"}),onError:Bp}),EB=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=Bxe(),f=bB(),p=RB(r),g=Gxe(r),C=(o==null?void 0:o.data)||[],S=jn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"product.productName",headerName:"Product Name"},{field:"serviceNo",headerName:"Service No"},{field:"client.customerName",headerName:"Customer Name"},{field:"serviceManager.firstName",headerName:"Service Manager"},{field:"supportedBy.firstName",headerName:"Supporter"},{field:"serviceProvidedBy.firstName",headerName:"Provider BY"},{field:"natureOfService.natureOfService",headerName:"Nature"},{field:"natureOfComplaint.natureOfComplaint",headerName:"Complaint Nature"}],w=()=>{i(""),n(null),S("/app/services/services-form")},b=()=>{S("/app/services")},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},E=A=>{n(A.service_id),console.log("id",A.service_id),i(A),S(`/app/services/services-form?id=${A.service_id}`)},R=A=>{n(A.service_id),g.mutate(A.service_id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Services"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:E,onDeleteClick:R,exportFileName:"Services"})]}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"form",width:"100%",height:"100%",children:d.jsx(jxe,{onSubmit:F,formId:"form",defaultValues:s})})]})},Wxe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=b5(),f=R5(),p=E5(r),g=M0e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=jn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"inVoiceNo",headerName:"Invoice No"},{field:"orderType.name",headerName:"Types"},{field:"customer.customerName",headerName:"Customer Name"},{field:"billingAddress",headerName:"Address"},{field:"deliveryAddress",headerName:"Delivery Address"},{field:"contactNumber",headerName:"Contact No "},{field:"email",headerName:"Email"},{field:"purchaseOrderDate",headerName:"Purchase OrderDate"},{field:"salesOrderDate",headerName:"Sales OrderDate"},{field:"company",headerName:"Company"}],w=()=>{i(""),n(null),S("/app/sales/createform")},b=()=>{S("/app/sales")},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},E=A=>{n(A.id),i(A),S(`/app/sales/createform?id=${A.id}`)},R=A=>{n(A.id),g.mutate(A.id,{onSuccess:()=>{u()}})};return d.jsx("div",{children:d.jsx(T5,{defaultValue:"sales",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("div",{className:"self-start",children:d.jsx(A5,{className:"inline-flex gap-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 p-1 shadow-sm",children:[{value:"sales",label:"Sales"},{value:"productList",label:"Product List"},{value:"material",label:"Material"},{value:"customerList",label:"Customer List"},{value:"services",label:"Services"}].map(A=>d.jsx(M5,{value:A.value,className:`px-2.5 py-1 text-xs font-medium rounded border border-transparent transition-colors\r
    hover:bg-gray-100 dark:hover:bg-gray-800 \r
    data-[state=active]:bg-primary data-[state=active]:text-white \r
    dark:data-[state=active]:text-black \r
    data-[state=active]:border-primary`,children:A.label},A.value))})}),d.jsxs("div",{children:[d.jsxs(Lu,{value:"sales",children:[d.jsx("h1",{className:"heading-primary",children:"Sales"}),d.jsx("div",{className:"p-6",children:d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:E,onDeleteClick:R,exportFileName:"Sales"})}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"service-form",width:"100%",height:"100%",children:d.jsx(A0e,{onSubmit:F,formId:"service-form",defaultValues:s})})]}),d.jsx(Lu,{value:"productList",children:d.jsx(_5,{})}),d.jsx(Lu,{value:"material",children:d.jsx(xB,{})}),d.jsx(Lu,{value:"customerList",children:d.jsx(l5,{})}),d.jsx(Lu,{value:"services",children:d.jsx(EB,{})})]})]})})})};var eC="Popover",[FB,wRe]=mi(eC,[Sl]),Gp=Sl(),[Uxe,Pl]=FB(eC),TB=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,a=Gp(t),l=v.useRef(null),[u,f]=v.useState(!1),[p,g]=ul({prop:n,defaultProp:s??!1,onChange:i,caller:eC});return d.jsx(h0,{...a,children:d.jsx(Uxe,{scope:t,contentId:pn(),triggerRef:l,open:p,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(C=>!C),[g]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>f(!0),[]),onCustomAnchorRemove:v.useCallback(()=>f(!1),[]),modal:o,children:r})})};TB.displayName=eC;var PB="PopoverAnchor",zxe=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Pl(PB,r),i=Gp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return v.useEffect(()=>(o(),()=>a()),[o,a]),d.jsx(gp,{...i,...n,ref:t})});zxe.displayName=PB;var AB="PopoverTrigger",DB=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Pl(AB,r),i=Gp(r),o=Ht(t,s.triggerRef),a=d.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kB(s.open),...n,ref:o,onClick:et(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:d.jsx(gp,{asChild:!0,...i,children:a})});DB.displayName=AB;var eE="PopoverPortal",[$xe,Kxe]=FB(eE,{forceMount:void 0}),MB=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=Pl(eE,t);return d.jsx($xe,{scope:t,forceMount:r,children:d.jsx(Fn,{present:r||i.open,children:d.jsx(Hd,{asChild:!0,container:s,children:n})})})};MB.displayName=eE;var Dd="PopoverContent",NB=v.forwardRef((e,t)=>{const r=Kxe(Dd,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=Pl(Dd,e.__scopePopover);return d.jsx(Fn,{present:n||i.open,children:i.modal?d.jsx(Yxe,{...s,ref:t}):d.jsx(Qxe,{...s,ref:t})})});NB.displayName=Dd;var qxe=il("PopoverContent.RemoveScroll"),Yxe=v.forwardRef((e,t)=>{const r=Pl(Dd,e.__scopePopover),n=v.useRef(null),s=Ht(t,n),i=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return y0(o)},[]),d.jsx(Sp,{as:qxe,allowPinchZoom:!0,children:d.jsx(IB,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:et(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Qxe=v.forwardRef((e,t)=>{const r=Pl(Dd,e.__scopePopover),n=v.useRef(!1),s=v.useRef(!1);return d.jsx(IB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),IB=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:f,...p}=e,g=Pl(Dd,r),C=Gp(r);return v0(),d.jsx(Cp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(jd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:d.jsx(f0,{"data-state":kB(g.open),role:"dialog",id:g.contentId,...C,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),OB="PopoverClose",Xxe=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Pl(OB,r);return d.jsx(mt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>s.onOpenChange(!1))})});Xxe.displayName=OB;var Jxe="PopoverArrow",Zxe=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Gp(r);return d.jsx(p0,{...s,...n,ref:t})});Zxe.displayName=Jxe;function kB(e){return e?"open":"closed"}var e1e=TB,t1e=DB,r1e=MB,LB=NB;const ws=e1e,xs=t1e,Xn=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>d.jsx(r1e,{children:d.jsx(LB,{ref:s,align:t,sideOffset:r,className:_t("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Xn.displayName=LB.displayName;var bM=1,n1e=.9,s1e=.8,i1e=.17,nw=.1,sw=.999,o1e=.9999,a1e=.99,l1e=/[\\\/_+.#"@\[\(\{&]/,c1e=/[\\\/_+.#"@\[\(\{&]/g,u1e=/[\s-]/,_B=/[\s-]/g;function Lx(e,t,r,n,s,i,o){if(i===t.length)return s===e.length?bM:a1e;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var l=n.charAt(i),u=r.indexOf(l,s),f=0,p,g,C,S;u>=0;)p=Lx(e,t,r,n,u+1,i+1,o),p>f&&(u===s?p*=bM:l1e.test(e.charAt(u-1))?(p*=s1e,C=e.slice(s,u-1).match(c1e),C&&s>0&&(p*=Math.pow(sw,C.length))):u1e.test(e.charAt(u-1))?(p*=n1e,S=e.slice(s,u-1).match(_B),S&&s>0&&(p*=Math.pow(sw,S.length))):(p*=i1e,s>0&&(p*=Math.pow(sw,u-s))),e.charAt(u)!==t.charAt(i)&&(p*=o1e)),(p<nw&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(g=Lx(e,t,r,n,u+1,i+2,o),g*nw>p&&(p=g*nw)),p>f&&(f=p),u=r.indexOf(l,u+1);return o[a]=f,f}function RM(e){return e.toLowerCase().replace(_B," ")}function d1e(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Lx(e,t,RM(e),RM(t),0,0,{})}var Xh='[cmdk-group=""]',iw='[cmdk-group-items=""]',h1e='[cmdk-group-heading=""]',jB='[cmdk-item=""]',EM=`${jB}:not([aria-disabled="true"])`,_x="cmdk-item-select",_u="data-value",f1e=(e,t,r)=>d1e(e,t,r),BB=v.createContext(void 0),Hp=()=>v.useContext(BB),GB=v.createContext(void 0),tE=()=>v.useContext(GB),HB=v.createContext(void 0),VB=v.forwardRef((e,t)=>{let r=ju(()=>{var N,O;return{search:"",value:(O=(N=e.value)!=null?N:e.defaultValue)!=null?O:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ju(()=>new Set),s=ju(()=>new Map),i=ju(()=>new Map),o=ju(()=>new Set),a=WB(e),{label:l,children:u,value:f,onValueChange:p,filter:g,shouldFilter:C,loop:S,disablePointerSelection:y=!1,vimBindings:w=!0,...b}=e,F=pn(),E=pn(),R=pn(),A=v.useRef(null),D=R1e();_c(()=>{if(f!==void 0){let N=f.trim();r.current.value=N,M.emit()}},[f]),_c(()=>{D(6,ie)},[]);let M=v.useMemo(()=>({subscribe:N=>(o.current.add(N),()=>o.current.delete(N)),snapshot:()=>r.current,setState:(N,O,H)=>{var G,J,oe,ve;if(!Object.is(r.current[N],O)){if(r.current[N]=O,N==="search")B(),j(),D(1,W);else if(N==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let X=document.getElementById(R);X?X.focus():(G=document.getElementById(F))==null||G.focus()}if(D(7,()=>{var X;r.current.selectedItemId=(X=Se())==null?void 0:X.id,M.emit()}),H||D(5,ie),((J=a.current)==null?void 0:J.value)!==void 0){let X=O??"";(ve=(oe=a.current).onValueChange)==null||ve.call(oe,X);return}}M.emit()}},emit:()=>{o.current.forEach(N=>N())}}),[]),I=v.useMemo(()=>({value:(N,O,H)=>{var G;O!==((G=i.current.get(N))==null?void 0:G.value)&&(i.current.set(N,{value:O,keywords:H}),r.current.filtered.items.set(N,L(O,H)),D(2,()=>{j(),M.emit()}))},item:(N,O)=>(n.current.add(N),O&&(s.current.has(O)?s.current.get(O).add(N):s.current.set(O,new Set([N]))),D(3,()=>{B(),j(),r.current.value||W(),M.emit()}),()=>{i.current.delete(N),n.current.delete(N),r.current.filtered.items.delete(N);let H=Se();D(4,()=>{B(),(H==null?void 0:H.getAttribute("id"))===N&&W(),M.emit()})}),group:N=>(s.current.has(N)||s.current.set(N,new Set),()=>{i.current.delete(N),s.current.delete(N)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:F,inputId:R,labelId:E,listInnerRef:A}),[]);function L(N,O){var H,G;let J=(G=(H=a.current)==null?void 0:H.filter)!=null?G:f1e;return N?J(N,r.current.search,O):0}function j(){if(!r.current.search||a.current.shouldFilter===!1)return;let N=r.current.filtered.items,O=[];r.current.filtered.groups.forEach(G=>{let J=s.current.get(G),oe=0;J.forEach(ve=>{let X=N.get(ve);oe=Math.max(X,oe)}),O.push([G,oe])});let H=A.current;Ee().sort((G,J)=>{var oe,ve;let X=G.getAttribute("id"),ne=J.getAttribute("id");return((oe=N.get(ne))!=null?oe:0)-((ve=N.get(X))!=null?ve:0)}).forEach(G=>{let J=G.closest(iw);J?J.appendChild(G.parentElement===J?G:G.closest(`${iw} > *`)):H.appendChild(G.parentElement===H?G:G.closest(`${iw} > *`))}),O.sort((G,J)=>J[1]-G[1]).forEach(G=>{var J;let oe=(J=A.current)==null?void 0:J.querySelector(`${Xh}[${_u}="${encodeURIComponent(G[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function W(){let N=Ee().find(H=>H.getAttribute("aria-disabled")!=="true"),O=N==null?void 0:N.getAttribute(_u);M.setState("value",O||void 0)}function B(){var N,O,H,G;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let J=0;for(let oe of n.current){let ve=(O=(N=i.current.get(oe))==null?void 0:N.value)!=null?O:"",X=(G=(H=i.current.get(oe))==null?void 0:H.keywords)!=null?G:[],ne=L(ve,X);r.current.filtered.items.set(oe,ne),ne>0&&J++}for(let[oe,ve]of s.current)for(let X of ve)if(r.current.filtered.items.get(X)>0){r.current.filtered.groups.add(oe);break}r.current.filtered.count=J}function ie(){var N,O,H;let G=Se();G&&(((N=G.parentElement)==null?void 0:N.firstChild)===G&&((H=(O=G.closest(Xh))==null?void 0:O.querySelector(h1e))==null||H.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function Se(){var N;return(N=A.current)==null?void 0:N.querySelector(`${jB}[aria-selected="true"]`)}function Ee(){var N;return Array.from(((N=A.current)==null?void 0:N.querySelectorAll(EM))||[])}function xe(N){let O=Ee()[N];O&&M.setState("value",O.getAttribute(_u))}function ae(N){var O;let H=Se(),G=Ee(),J=G.findIndex(ve=>ve===H),oe=G[J+N];(O=a.current)!=null&&O.loop&&(oe=J+N<0?G[G.length-1]:J+N===G.length?G[0]:G[J+N]),oe&&M.setState("value",oe.getAttribute(_u))}function Z(N){let O=Se(),H=O==null?void 0:O.closest(Xh),G;for(;H&&!G;)H=N>0?x1e(H,Xh):b1e(H,Xh),G=H==null?void 0:H.querySelector(EM);G?M.setState("value",G.getAttribute(_u)):ae(N)}let re=()=>xe(Ee().length-1),ue=N=>{N.preventDefault(),N.metaKey?re():N.altKey?Z(1):ae(1)},z=N=>{N.preventDefault(),N.metaKey?xe(0):N.altKey?Z(-1):ae(-1)};return v.createElement(mt.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:N=>{var O;(O=b.onKeyDown)==null||O.call(b,N);let H=N.nativeEvent.isComposing||N.keyCode===229;if(!(N.defaultPrevented||H))switch(N.key){case"n":case"j":{w&&N.ctrlKey&&ue(N);break}case"ArrowDown":{ue(N);break}case"p":case"k":{w&&N.ctrlKey&&z(N);break}case"ArrowUp":{z(N);break}case"Home":{N.preventDefault(),xe(0);break}case"End":{N.preventDefault(),re();break}case"Enter":{N.preventDefault();let G=Se();if(G){let J=new Event(_x);G.dispatchEvent(J)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:F1e},l),tC(e,N=>v.createElement(GB.Provider,{value:M},v.createElement(BB.Provider,{value:I},N))))}),p1e=v.forwardRef((e,t)=>{var r,n;let s=pn(),i=v.useRef(null),o=v.useContext(HB),a=Hp(),l=WB(e),u=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;_c(()=>{if(!u)return a.item(s,o==null?void 0:o.id)},[u]);let f=UB(s,i,[e.value,e.children,i],e.keywords),p=tE(),g=vl(D=>D.value&&D.value===f.current),C=vl(D=>u||a.filter()===!1?!0:D.search?D.filtered.items.get(s)>0:!0);v.useEffect(()=>{let D=i.current;if(!(!D||e.disabled))return D.addEventListener(_x,S),()=>D.removeEventListener(_x,S)},[C,e.onSelect,e.disabled]);function S(){var D,M;y(),(M=(D=l.current).onSelect)==null||M.call(D,f.current)}function y(){p.setState("value",f.current,!0)}if(!C)return null;let{disabled:w,value:b,onSelect:F,forceMount:E,keywords:R,...A}=e;return v.createElement(mt.div,{ref:ra(i,t),...A,id:s,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!g,"data-disabled":!!w,"data-selected":!!g,onPointerMove:w||a.getDisablePointerSelection()?void 0:y,onClick:w?void 0:S},e.children)}),g1e=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...i}=e,o=pn(),a=v.useRef(null),l=v.useRef(null),u=pn(),f=Hp(),p=vl(C=>s||f.filter()===!1?!0:C.search?C.filtered.groups.has(o):!0);_c(()=>f.group(o),[]),UB(o,a,[e.value,e.heading,l]);let g=v.useMemo(()=>({id:o,forceMount:s}),[s]);return v.createElement(mt.div,{ref:ra(a,t),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&v.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),tC(e,C=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},v.createElement(HB.Provider,{value:g},C))))}),m1e=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=v.useRef(null),i=vl(o=>!o.search);return!r&&!i?null:v.createElement(mt.div,{ref:ra(s,t),...n,"cmdk-separator":"",role:"separator"})}),v1e=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,i=tE(),o=vl(u=>u.search),a=vl(u=>u.selectedItemId),l=Hp();return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(mt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:s?e.value:o,onChange:u=>{s||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),C1e=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,i=v.useRef(null),o=v.useRef(null),a=vl(u=>u.selectedItemId),l=Hp();return v.useEffect(()=>{if(o.current&&i.current){let u=o.current,f=i.current,p,g=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let C=u.offsetHeight;f.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return g.observe(u),()=>{cancelAnimationFrame(p),g.unobserve(u)}}},[]),v.createElement(mt.div,{ref:ra(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},tC(e,u=>v.createElement("div",{ref:ra(o,l.listInnerRef),"cmdk-list-sizer":""},u)))}),y1e=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...a}=e;return v.createElement(PL,{open:r,onOpenChange:n},v.createElement(AL,{container:o},v.createElement(sb,{"cmdk-overlay":"",className:s}),v.createElement(ib,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(VB,{ref:t,...a}))))}),S1e=v.forwardRef((e,t)=>vl(r=>r.filtered.count===0)?v.createElement(mt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),w1e=v.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...i}=e;return v.createElement(mt.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},tC(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),Ps=Object.assign(VB,{List:C1e,Item:p1e,Input:v1e,Group:g1e,Separator:m1e,Dialog:y1e,Empty:S1e,Loading:w1e});function x1e(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function b1e(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function WB(e){let t=v.useRef(e);return _c(()=>{t.current=e}),t}var _c=typeof window>"u"?v.useEffect:v.useLayoutEffect;function ju(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function vl(e){let t=tE(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function UB(e,t,r,n=[]){let s=v.useRef(),i=Hp();return _c(()=>{var o;let a=(()=>{var u;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():s.current}})(),l=n.map(u=>u.trim());i.value(e,a,l),(o=t.current)==null||o.setAttribute(_u,a),s.current=a}),s}var R1e=()=>{let[e,t]=v.useState(),r=ju(()=>new Map);return _c(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function E1e(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function tC({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(E1e(t),{ref:t.ref},r(t.props.children)):r(t)}var F1e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Jn=v.forwardRef(({className:e,...t},r)=>d.jsx(Ps,{ref:r,className:_t("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Jn.displayName=Ps.displayName;const Zn=v.forwardRef(({className:e,...t},r)=>d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[d.jsx(lX,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),d.jsx(Ps.Input,{ref:r,className:_t("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Zn.displayName=Ps.Input.displayName;const es=v.forwardRef(({className:e,...t},r)=>d.jsx(Ps.List,{ref:r,className:_t("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));es.displayName=Ps.List.displayName;const ts=v.forwardRef((e,t)=>d.jsx(Ps.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ts.displayName=Ps.Empty.displayName;const rs=v.forwardRef(({className:e,...t},r)=>d.jsx(Ps.Group,{ref:r,className:_t("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));rs.displayName=Ps.Group.displayName;const T1e=v.forwardRef(({className:e,...t},r)=>d.jsx(Ps.Separator,{ref:r,className:_t("-mx-1 h-px bg-border",e),...t}));T1e.displayName=Ps.Separator.displayName;const ns=v.forwardRef(({className:e,...t},r)=>d.jsx(Ps.Item,{ref:r,className:_t("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));ns.displayName=Ps.Item.displayName;var rE=(e=>(e.PRODUCT="PRODUCT",e.MATERIAL="MATERIAL",e.AMC="AMC",e.REPAIR="REPAIR",e.SALE="SALE",e))(rE||{}),zB=(e=>(e.VRV="VRV",e.NON_VRV="NON_VRV",e))(zB||{}),$B=(e=>(e.AIRTECH="AIRTECH",e.VAKHARIA_AIRTECH="VAKHARIA_AIRTECH",e))($B||{}),KB=(e=>(e.ARCHITECT="ARCHITECT",e.INTERIOR_DESIGN_DETAIL="INTERIOR_DESIGN_DETAIL",e.PMC="PMC",e))(KB||{}),qB=(e=>(e.MEASUREMENT="MEASUREMENT",e.LUM_SUM="LUM_SUM",e))(qB||{});const nE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},sE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},Vp=()=>Er({queryKey:["useGetUsers"],queryFn:()=>_e("/api/user/getAlluser")}),P1e=()=>Ze({mutationFn:e=>_e("/api/user/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:nE,onError:sE}),A1e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/user/edit/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{nE(r),t.invalidateQueries({queryKey:["useGetUsers"]})},onError:sE})},D1e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/user/deleteUser/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetUsers"]}),nE(r.message)},onError:sE})},M1e=({salesProductQuantities:e,products:t=[],onRowsChange:r})=>{const[n,s]=v.useState([{id:Date.now(),product:{id:"",productName:"",hsnCode:""},quantity:1,mrp:0,gst:0}]);v.useEffect(()=>{e&&s(e)},[e]);const i=()=>{const l=[...n,{id:Date.now(),product:{id:"",productName:"",hsnCode:""},quantity:1,mrp:0,gst:0}];s(l),r(l)},o=(l,u,f)=>{const p=n.map(g=>g.id===l?{...g,product:u==="product"?{id:f.id,productName:f.productName,hsnCode:f.hsnCode}:g.product,quantity:u==="quantity"?Number(f):g.quantity,mrp:u==="product"?f.mrp:u==="mrp"?Number(f):g.mrp,gst:u==="product"?f.cgst:u==="gst"?Number(f):g.gst}:g);s(p),r(p)},a=l=>{const u=n.filter(f=>f.id!==l);s(u),r(u)};return d.jsx(d.Fragment,{children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Products"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2",children:"Product"}),d.jsx("th",{className:"border px-4 py-2",children:"Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"HSN Code"}),d.jsx("th",{className:"border px-4 py-2",children:"MRP"}),d.jsx("th",{className:"border px-4 py-2",children:"GST"}),d.jsx("th",{className:"border px-4 py-2",children:"Actions"})]})}),d.jsx("tbody",{children:n.map((l,u)=>{var f,p;return d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:u+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsxs("select",{className:"bg-transparent border border-gray-300 dark:border-gray-600 rounded-md px-2 py-1 w-full focus:outline-none focus:ring-1 focus:ring-primary placeholder:text-gray-400",value:((f=l.product)==null?void 0:f.id)||"",onChange:g=>{const C=t.find(S=>S.id.toString()===g.target.value);C&&o(l.id,"product",C)},children:[d.jsx("option",{value:"",children:"Select Product"}),t.map(g=>d.jsx("option",{value:g.id,children:g.productName},g.id))]})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",className:"bg-transparent border rounded-md px-2 py-1 w-20",min:1,value:l.quantity,onChange:g=>o(l.id,"quantity",Number(g.target.value))})}),d.jsx("td",{className:"border px-4 py-2",children:((p=l.product)==null?void 0:p.hsnCode)||"-"}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",min:0,className:"bg-transparent border rounded-md px-2 py-1 w-40",value:l.mrp||"",onChange:g=>o(l.id,"mrp",Number(g.target.value))})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",min:0,className:"bg-transparent border rounded-md px-2 py-1 w-20",value:l.gst||"",onChange:g=>o(l.id,"gst",Number(g.target.value))})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:n.length>1&&d.jsx("button",{onClick:()=>a(l.id),className:"text-red-500 hover:underline",children:"Remove"})})]},l.id)})})]})}),d.jsx("button",{type:"button",onClick:i,className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",children:"Add Product"})]})})},iE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},oE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},YB=()=>Er({queryKey:["useGetOrderTypes"],queryFn:()=>_e("/api/order-type/v1/getAll")}),N1e=()=>Ze({mutationFn:e=>_e("/api/order-type/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:iE,onError:oE}),I1e=e=>{const t=At();return console.log(Zv),Ze({mutationFn:r=>_e(`/api/order-type/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{iE(r),t.invalidateQueries({queryKey:["useGetOrderTypes"]})},onError:oE})},O1e=e=>{const t=At();return console.log(e),Ze({mutationFn:()=>_e(`/api/order-type/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetOrderTypes"]}),iE(r.message)},onError:oE})},k1e=()=>{var We,le,Ke,ct,Nt,de,He,Ue,tt,rt,gt,Vt,zr,Oe,vt,ur,nn,Qs;let[e,t]=v.useState(null);const[r,n]=v.useState(!1),[s,i]=v.useState([]),{data:o,refetch:a}=b5(),[l,u]=v.useState(""),{data:f}=U0(),{data:p}=Vp(),{data:g}=YB(),{data:C}=j0e(l),S=R5(),y=E5(e),w=Ts(),b=new URLSearchParams(w.search),F=Object.values(rE),E=Object.values(zB),R=Object.values(KB),A=Object.values($B),D=Object.values(qB),M=jn(),[I,L]=v.useState(0),[j,W]=v.useState(0),[B,ie]=v.useState(0),[Se,Ee]=v.useState([]),{mutate:xe,data:ae}=D0e();v.useEffect(()=>{xe()},[]);const Z=()=>{M("/app/sales")},re=Me=>{const bt=Se.filter(Wt=>Wt.id!==Me);Ee(bt),O.setFieldValue("salesAttachments",bt)},ue=Me=>{const bt=Me.reduce((Xs,As)=>Xs+As.mrp*As.quantity,0);L(bt);const gn=bt-bt*5/100,yi=Me.reduce((Xs,As)=>{const Eo=gn*As.gst/100;return Xs+Eo},0);W(yi);const Si=bt+yi;ie(Si)},[z,N]=v.useState({id:"",inVoiceNo:""});v.useEffect(()=>{let Me=b.get("id");if(t(Me),Me&&o&&!r){const bt=o==null?void 0:o.data.find(Wt=>Wt.id.toString()===Me);bt&&(N(bt),i(bt==null?void 0:bt.salesProductQuantities),Ee(bt==null?void 0:bt.salesAttachments),ue(bt==null?void 0:bt.salesProductQuantities),O.setValues({...O.initialValues,...bt}),n(!0)),console.log(bt)}},[o,b,s]);const O=_p({initialValues:{inVoiceNo:"",orderType:{id:"",name:""},jobType:"",customer:{id:"",customerName:"",address1:"",contactNumber:"",contactPerson:"",email:""},contactPerson:"",email:"",contactNumber:"",poNo:"",company:"",reference:"",billingAddress:"",deliveryAddress:"",salesOrderDate:"",purchaseOrderDate:"",orderPreparedBy:{user_id:"",firstName:""},orderVerifiedBy:{user_id:"",firstName:""},salesPerson:{user_id:"",firstName:""},projectEngineer:{user_id:"",firstName:""},projectType:"",warrantyPeriod:"",termsAndCondition:"",salesAttachments:[],salesProductQuantities:[],productType:""},validationSchema:cr({orderType:cr().shape({id:it().required("Order Type is required"),name:it().required("Order Type  is required")}),productType:it().required("Product Type is required"),jobType:it().required("Job Type is required"),projectType:it().required("Job Type is required"),customer:cr().shape({id:it().required("Customer is required"),customerName:it().required("Customer  is required")}),email:it().email("Invalid email").required("Email is required"),contactNumber:it().required("Contact Number is required").matches(/^\d+$/,"Contact Number must be a valid number"),poNo:it().required("Purchase order no. is required"),billingAddress:it().required("Billing Address is required"),deliveryAddress:it().required("Delivery Address is required"),salesOrderDate:Lc().required("Sales Order Date is required"),purchaseOrderDate:Lc().required("Purchase Order Date is required"),orderPreparedBy:cr().shape({user_id:it().required("Person detail is required"),firstName:it().required("Person detail  is required")}),orderVerifiedBy:cr().shape({user_id:it().required("Person detail is required"),firstName:it().required("Person detail  is required")}),salesPerson:cr().shape({user_id:it().required("Person detail is required"),firstName:it().required("Person detail  is required")}),projectEngineer:cr().shape({user_id:it().required("Person detail is required"),firstName:it().required("Person detail  is required")}),warrantyPeriod:it().required("Warranty Period is required"),termsAndCondition:it().required("Terms & conditions is required"),contactPerson:it().required("Contact Person is required"),company:it().required("Company Name is required"),reference:it().required("Reference is required")}),onSubmit:Me=>{e?(y.mutate(Me,{onSuccess:()=>{a(),M("/app/sales")}}),e=null):(console.log("Form submitted:",Me),S.mutate(Me,{onSuccess:()=>{a(),M("/app/sales")}}))}});v.useEffect(()=>{console.log("productType"),O.values.productType&&u(O.values.productType)},[O.values.productType]),v.useEffect(()=>{e?(O.setFieldValue("inVoiceNo",z.inVoiceNo),console.log("invoice",z.inVoiceNo)):ae!=null&&ae.data&&O.setFieldValue("inVoiceNo",ae.data)},[e,ae,z]);const H={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},G={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},J=Me=>{console.log("Updated Rows:",Me),O.setFieldValue("salesProductQuantities",Me),ue(Me)},[oe,ve]=v.useState(null),[X,ne]=v.useState(!1),[Ne,Ae]=v.useState(0),Qe=Me=>{var Wt;const bt=(Wt=Me.target.files)==null?void 0:Wt[0];bt&&ve(bt)},Je=async()=>{if(!oe){nt.error("Please select a file to upload.");return}console.log("upload successful"),ne(!0),Ae(0);const Me=new FormData;Me.append("file",oe);try{const bt=await fetch(`${xc}/api/sales/uploadFile`,{method:"POST",body:Me});if(bt.ok){const Wt=await bt.json();nt.success("File uploaded successfully.");const gn=[...O.values.salesAttachments||[],Wt==null?void 0:Wt.data];Ee(gn),O.setFieldValue("salesAttachments",gn),console.log("Updated Formik salesAttachments:",O.values.salesAttachments),console.log("Updated local uploadedData:",Se)}else{const Wt=await bt.json();nt.error(`Upload failed: ${Wt.message||"Unknown error"}`)}}catch(bt){console.error("Error uploading file:",bt),nt.error("An error occurred while uploading the file.")}finally{ne(!1),Ae(0)}};v.useEffect(()=>{console.log("Updated Formik salesAttachments:",O.values.salesAttachments),console.log("Updated local uploadedData:",Se)},[O.values.salesAttachments,Se]);const ft=Me=>{Me.preventDefault(),console.log("action handle submit"),O.handleSubmit()},xt=async(Me,bt)=>{Me.preventDefault();try{const Wt=`${xc}/api/resources/serveFile?filePath=${encodeURIComponent(bt)}`,gn=await fetch(Wt,{method:"GET"});if(gn.ok){const yi=await gn.blob(),Si=URL.createObjectURL(yi);window.open(Si,"_blank"),setTimeout(()=>URL.revokeObjectURL(Si),6e4)}else nt.error("API Error: "+gn.statusText)}catch(Wt){nt.error("Fetch Error: "+Wt.message)}};return d.jsxs(Gs.div,{className:"max-w-5xl mx-auto p-4 sm:p-6 shadow-md rounded-md border border-gray-300 dark:border-gray-700",variants:H,initial:"hidden",animate:"visible",children:[d.jsx(Gs.h1,{variants:G,initial:"hidden",animate:"visible",className:"text-xl font-bold mb-4",children:"Sales Order"}),d.jsxs("form",{onSubmit:ft,className:"grid gap-4",children:[d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Invoice No"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1 bg-transparent",disabled:!0,value:O.values.inVoiceNo||""})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Order Type"}),d.jsxs(wt,{onValueChange:Me=>{const bt=g==null?void 0:g.data.find(Wt=>Wt.id==Me);O.setFieldValue("orderType",bt)},value:(We=O.values.orderType)==null?void 0:We.id,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:g==null?void 0:g.data.map(Me=>d.jsx(Xt,{value:Me.id,children:Me.name},Me.id))})]}),O.touched.orderType&&((le=O.errors.orderType)==null?void 0:le.name)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(Ke=O.errors.orderType)==null?void 0:Ke.name})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Job Type"}),d.jsxs(wt,{onValueChange:Me=>O.setFieldValue("jobType",Me),value:O.values.jobType,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:E.map(Me=>d.jsx(Xt,{value:Me,children:Me},Me))})]}),O.touched.jobType&&O.errors.jobType&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.jobType})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Reference"}),d.jsxs(wt,{onValueChange:Me=>{O.setFieldValue("reference",Me)},value:O.values.reference,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:R.map(Me=>d.jsx(Xt,{value:Me,children:Me},Me))})]}),O.touched.reference&&O.errors.reference&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.reference})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Company"}),d.jsxs(wt,{onValueChange:Me=>{O.setFieldValue("company",Me)},value:O.values.company,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:A.map(Me=>d.jsx(Xt,{value:Me,children:Me},Me))})]}),O.touched.company&&O.errors.company&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.company})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{children:"Customer"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent hover:bg-transparent shadow-none border border-gray-300 dark:border-gray-700",children:[((ct=O.values.customer)==null?void 0:ct.customerName)||"Select Customer...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Customer..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No Customer Found"}),d.jsx(rs,{children:f==null?void 0:f.data.map(Me=>{var bt;return d.jsxs(ns,{value:Me.customerName,onSelect:()=>{O.setFieldValue("customer",Me),O.setFieldValue("contactPerson",Me.contactPerson||""),O.setFieldValue("email",Me.email||""),O.setFieldValue("contactNumber",Me.contactNumber||""),O.setFieldValue("billingAddress",Me.address1||""),O.setFieldValue("deliveryAddress",Me.address1||"")},children:[Me.customerName,d.jsx(On,{className:((bt=O.values.customer)==null?void 0:bt.id)===Me.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Me.id)})})]})]})})]}),((Nt=O.touched.customer)==null?void 0:Nt.id)&&((de=O.errors.customer)==null?void 0:de.id)&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.customer.id})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Contact Person"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"contactPerson",value:O.values.contactPerson,onChange:O.handleChange,onBlur:O.handleBlur,readOnly:!0}),O.touched.contactPerson&&O.errors.contactPerson&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.contactPerson})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Email"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"email",value:O.values.email,onChange:O.handleChange,onBlur:O.handleBlur,readOnly:!0}),O.touched.email&&O.errors.email&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Contact No."}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"contactNumber",value:O.values.contactNumber,onChange:O.handleChange,onBlur:O.handleBlur,readOnly:!0}),O.touched.contactNumber&&O.errors.contactNumber&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.contactNumber})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Purchase Order No."}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"poNo",onChange:O.handleChange,value:O.values.poNo,onBlur:O.handleBlur}),O.touched.poNo&&O.errors.poNo&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.poNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Billing Address"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"billingAddress",value:O.values.billingAddress,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.billingAddress&&O.errors.billingAddress&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.billingAddress})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Delivery Address"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"deliveryAddress",value:O.values.deliveryAddress,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.deliveryAddress&&O.errors.deliveryAddress&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.deliveryAddress})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Sales order date"}),d.jsx(be,{type:"date",className:"w-full border rounded-md px-2 py-1",name:"salesOrderDate",value:O.values.salesOrderDate,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.salesOrderDate&&O.errors.salesOrderDate&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.salesOrderDate})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Purchase order date"}),d.jsx(be,{type:"date",className:"w-full border rounded-md px-2 py-1",name:"purchaseOrderDate",value:O.values.purchaseOrderDate,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.purchaseOrderDate&&O.errors.purchaseOrderDate&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.purchaseOrderDate})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Order Prepared By"}),d.jsxs(wt,{onValueChange:Me=>{const bt=p==null?void 0:p.data.find(Wt=>Wt.user_id==Me);O.setFieldValue("orderPreparedBy",bt)},value:(He=O.values.orderPreparedBy)==null?void 0:He.user_id,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Me=>d.jsx(Xt,{value:Me.user_id,children:Me.firstName},Me.user_id))})]}),O.touched.orderPreparedBy&&((Ue=O.errors.orderPreparedBy)==null?void 0:Ue.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(tt=O.errors.orderPreparedBy)==null?void 0:tt.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Order Verified By"}),d.jsxs(wt,{onValueChange:Me=>{const bt=p==null?void 0:p.data.find(Wt=>Wt.user_id==Me);O.setFieldValue("orderVerifiedBy",bt)},value:((rt=O.values.orderVerifiedBy)==null?void 0:rt.user_id)||"",children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Me=>d.jsx(Xt,{value:Me.user_id,children:Me.firstName},Me.user_id))})]}),O.touched.orderVerifiedBy&&((gt=O.errors.orderVerifiedBy)==null?void 0:gt.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(Vt=O.errors.orderVerifiedBy)==null?void 0:Vt.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Sales Person"}),d.jsxs(wt,{onValueChange:Me=>{const bt=p==null?void 0:p.data.find(Wt=>Wt.user_id==Me);O.setFieldValue("salesPerson",bt)},value:(zr=O.values.salesPerson)==null?void 0:zr.user_id,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Me=>d.jsx(Xt,{value:Me.user_id,children:Me.firstName},Me.user_id))})]}),O.touched.salesPerson&&((Oe=O.errors.salesPerson)==null?void 0:Oe.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(vt=O.errors.salesPerson)==null?void 0:vt.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Project Engineer"}),d.jsxs(wt,{onValueChange:Me=>{const bt=p==null?void 0:p.data.find(Wt=>Wt.user_id==Me);O.setFieldValue("projectEngineer",bt)},value:(ur=O.values.projectEngineer)==null?void 0:ur.user_id,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p==null?void 0:p.data.map(Me=>d.jsx(Xt,{value:Me.user_id,children:Me.firstName},Me.user_id))})]}),O.touched.projectEngineer&&((nn=O.errors.projectEngineer)==null?void 0:nn.firstName)&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:(Qs=O.errors.projectEngineer)==null?void 0:Qs.firstName})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Project Type"}),d.jsxs(wt,{onValueChange:Me=>{O.setFieldValue("projectType",Me)},value:O.values.projectType,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:D.map(Me=>d.jsx(Xt,{value:Me,children:Me},Me))})]}),O.touched.projectType&&O.errors.projectType&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.projectType})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Warranty Period"}),d.jsx(be,{type:"text",className:"w-full border rounded-md px-2 py-1",name:"warrantyPeriod",value:O.values.warrantyPeriod,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.warrantyPeriod&&O.errors.warrantyPeriod&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.warrantyPeriod})]})]}),d.jsx("div",{className:"grid grid-cols-3 gap-4 ",children:d.jsxs("div",{className:"col-span-3 mb-6",children:[d.jsx(ce,{children:"Terms and Conditions"}),d.jsx(TR,{className:"mt-1 w-full border border-gray-300 rounded-md p-2",rows:2,name:"termsAndCondition",value:O.values.termsAndCondition,onChange:O.handleChange,onBlur:O.handleBlur}),O.touched.termsAndCondition&&O.errors.termsAndCondition&&d.jsx("p",{className:"text-red-500 text-sm",children:O.errors.termsAndCondition})]})}),d.jsx("div",{children:d.jsxs("div",{className:" border-none outline-none w-40",children:[d.jsx(ce,{children:"Product Type"}),d.jsxs(wt,{onValueChange:Me=>O.setFieldValue("productType",Me),value:O.values.productType,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select ProductType"})}),d.jsx(yt,{children:F.map(Me=>d.jsx(Xt,{value:Me,children:Me},Me))})]}),O.touched.productType&&O.errors.productType&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:O.errors.productType})]})}),d.jsx(M1e,{salesProductQuantities:e?s:null,products:C==null?void 0:C.data,onRowsChange:J}),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Upload Files"}),d.jsx("input",{type:"file",className:"flex-1 p-2 text-xs border-none outline-none",onChange:Qe,disabled:X})]}),X&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{children:"Uploading..."}),d.jsx("progress",{value:Ne,max:"100",className:"w-full"})]}),d.jsx(Ot,{onClick:Je,disabled:X,className:"h-[35px] text-sm px-10 py-2 rounded-md",children:X?"Uploading...":"Upload"})]}),d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h2",{className:"text-lg font-bold",children:"File Details"})}),d.jsx("div",{className:"overflow-x-auto ",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200   mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100  dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2",children:"File Name"}),d.jsx("th",{className:"border px-4 py-2",children:"Doctype"}),d.jsx("th",{className:"border px-4 py-2",children:"Actions"})]})}),d.jsx("tbody",{children:Se.map((Me,bt)=>{var Wt;return d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:bt+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("a",{href:Me.location,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",onClick:gn=>xt(gn,Me.location),children:Me.location})}),d.jsx("td",{className:"border px-4 py-2",children:(Wt=Me.docType)==null?void 0:Wt.docType}),d.jsx("td",{className:"border px-2 py-2 text-center",children:d.jsx("button",{type:"button",className:"text-red-500",onClick:()=>re(Me.id),children:"Remove"})})]},Me.id)})})]})}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 mb-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium ",children:"Total Amount"}),d.jsx("input",{type:"text",value:I,readOnly:!0,className:"w-full border rounded-md px-2 py-1 bg-transparent mt-2 "})]}),d.jsxs("div",{children:[d.jsx(ce,{className:"block font-medium mt-2",children:"Total GST"}),d.jsx(be,{type:"text",value:j,readOnly:!0,className:"w-full border rounded-md px-2 py-1 bg-transparent mt-2"})]}),d.jsxs("div",{children:[d.jsx(ce,{className:"block font-medium",children:"Net Total Amount"}),d.jsx(be,{type:"text",value:B,readOnly:!0,className:"w-full border rounded-md px-2 py-1 bg-transparent mt-2"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(Ot,{type:"button",variant:"secondary",onClick:Z,children:"Cancel"}),d.jsx(Ot,{type:"submit",children:e?"Update Sales Order":"Create Sales Order"})]})]})]})},aE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},lE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},QB=()=>Er({queryKey:["useGetBrandNames"],queryFn:()=>_e("/api/brand-name/v1/getAll")}),L1e=()=>Ze({mutationFn:e=>_e("/api/brand-name/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:aE,onError:lE}),_1e=e=>{const t=At();return console.log(Zv),Ze({mutationFn:r=>_e(`/api/brand-name/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{aE(r),t.invalidateQueries({queryKey:["useGetBrandNames"]})},onError:lE})},j1e=e=>{const t=At();return console.log(e),Ze({mutationFn:()=>_e(`/api/brand-name/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetBrandNames"]}),aE(r.message)},onError:lE})},cE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},uE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},XB=()=>Er({queryKey:["useGetItemCategories"],queryFn:()=>_e("/api/item-category/v1/getAll")}),B1e=()=>Ze({mutationFn:e=>_e("/api/item-category/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:cE,onError:uE}),G1e=e=>{const t=At();return console.log(Zv),Ze({mutationFn:r=>_e(`/api/item-category/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{cE(r),t.invalidateQueries({queryKey:["useGetItemCategories"]})},onError:uE})},H1e=e=>{const t=At();return console.log(e),Ze({mutationFn:()=>_e(`/api/item-category/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetItemCategories"]}),cE(r.message)},onError:uE})},dE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},hE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},JB=()=>Er({queryKey:["useGetItemType"],queryFn:()=>_e("/api/item-type/v1/getAll")}),V1e=()=>Ze({mutationFn:e=>_e("/api/item-type/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:dE,onError:hE}),W1e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/item-type/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{dE(r),t.invalidateQueries({queryKey:["useGetItemType"]})},onError:hE})},U1e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/item-type/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetItemType"]}),dE(r.message)},onError:hE})},fE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},pE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},ZB=()=>Er({queryKey:["useGetServices"],queryFn:()=>_e("/api/star-rating/v1/getAll")}),z1e=()=>Ze({mutationFn:e=>_e("/api/star-rating/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:fE,onError:pE}),$1e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/star-rating/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{fE(r),t.invalidateQueries({queryKey:["useGetStarRatings"]})},onError:pE})},K1e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/star-rating/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetStarRatings"]}),fE(r.message)},onError:pE})},gE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},mE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},eG=()=>Er({queryKey:["useGetRefGasType"],queryFn:()=>_e("/api/ref-gasType/v1/getAll")}),q1e=()=>Ze({mutationFn:e=>_e("/api/ref-gasType/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:gE,onError:mE}),Y1e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/ref-gasType/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{gE(r),t.invalidateQueries({queryKey:["useGetRefGasType"]})},onError:mE})},Q1e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/ref-gasType/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetRefGasType"]}),gE(r.message)},onError:mE})},vE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},CE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},tG=()=>Er({queryKey:["useGetTonCapacitys"],queryFn:()=>_e("/api/ton-capacity/v1/getAll")}),X1e=()=>Ze({mutationFn:e=>_e("/api/ton-capacity/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:vE,onError:CE}),J1e=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/ton-capacity/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{vE(r),t.invalidateQueries({queryKey:["useGetTonCapacitys"]})},onError:CE})},Z1e=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/ton-capacity/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetTonCapacitys"]}),vE(r.message)},onError:CE})},yE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},SE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},rG=()=>Er({queryKey:["useGetItemStatus"],queryFn:()=>_e("/api/item-status/v1/getAll")}),ebe=()=>Ze({mutationFn:e=>_e("/api/item-status/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:yE,onError:SE}),tbe=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/item-status/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{yE(r),t.invalidateQueries({queryKey:["useGetItemStatus"]})},onError:SE})},rbe=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/item-status/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetItemStatus"]}),yE(r.message)},onError:SE})},nbe=()=>{var Z,re,ue,z,N,O,H,G,J,oe,ve,X,ne,Ne,Ae,Qe,Je,ft,xt,We;const e=jn(),{data:t,refetch:r}=q0(),n=Ts(),s=new URLSearchParams(n.search);let[i,o]=v.useState(null);const a=v.useRef(!1);v.useEffect(()=>{let le=s.get("id");if(o(le),le&&t&&!a.current){const Ke=t==null?void 0:t.data.find(ct=>(console.log("Item ID:",ct.id),ct.id.toString()===le));Ke&&(u(Ke),a.current=!0),console.log(Ke)}},[t,s]);const[l,u]=v.useState({productCode:"",modelNo:"",productName:"",sizes:"",brandName:{id:"",brandName:""},itemCategory:{id:"",categoryName:""},itemType:{id:"",typeName:""},starRating:{id:"",starRating:""},refGasType:{id:"",gasTypeName:""},tonCapacity:{id:"",tonCapacityName:""},isGSTApllicable:!1,salesUnitMeasurement:{id:"",uom:""},purchaseUnitMeasurement:{id:"",uom:""},baseUnitMeasurement:{id:"",uom:""},itemStatus:{id:"",statusName:""},reoderLevel:"",minQuantity:0,maxQuantity:0,purchasePrice:0,salesPrice:0,hsnCode:"",yearOfIntroduction:"",nameInvoice:"",isStockable:!1,isKit:!1,isActive:!1,mrp:0,sgst:"",igst:"",cgst:"",productType:""}),f=le=>{console.log("clicked",le.target.value);const{name:Ke,value:ct}=le.target,Nt=le.target.value;console.log(Nt),u(de=>({...de,[Ke]:ct}))},p=le=>{const{id:Ke,checked:ct}=le.target;u(Nt=>({...Nt,[Ke]:ct}))},{data:g,isError:C}=XB(),{data:S,isError:y}=QB(),{data:w,isError:b}=JB(),{data:F,isError:E}=rG(),{data:R,isError:A}=ZB(),{data:D,isError:M}=eG(),{data:I,isError:L}=tG(),{data:j,isError:W}=JR(),B=Object.values(rE),ie=k5(),Se=L5(i),Ee=()=>{var de,He;console.log("IN SUBMIT");const le=["productCode","modelNo","productName","sizes","reoderLevel","hsnCode","yearOfIntroduction","nameInvoice","productType"],Ke=["minQuantity","maxQuantity","purchasePrice","salesPrice","mrp"],ct=["sgst","igst","cgst"],Nt=["brandName","itemCategory","itemType","starRating","refGasType","tonCapacity","salesUnitMeasurement","purchaseUnitMeasurement","baseUnitMeasurement","itemStatus"];for(const Ue of le)if(!((de=l[Ue])!=null&&de.toString().trim())){nt.error(`${Ue.replace(/([A-Z])/g," $1")} is required.`);return}for(const Ue of Nt){const tt=l[Ue];if(!(tt!=null&&tt.id)){nt.error(`${Ue.replace(/([A-Z])/g," $1")} selection is required.`);return}}for(const Ue of Ke)if(l[Ue]<=0){nt.error(`${Ue.replace(/([A-Z])/g," $1")} must be greater than 0.`);return}for(const Ue of ct)if(!((He=l[Ue])!=null&&He.toString().trim())){nt.error(`${Ue.replace(/([A-Z])/g," $1")} is required.`);return}i?(Se.mutate(l,{onSuccess:()=>{nt.success("Product updated successfully!"),r(),e("/app/product-list")}}),i=null):ie.mutate(l,{onSuccess:()=>{nt.success("Product added successfully!"),r(),e("/app/product-list")}})},xe=(le,Ke,ct)=>{const Nt=ct.find(de=>String(de.id)===Ke);u(de=>({...de,[le]:Nt||null})),console.log(Ke,Nt)},ae=()=>{e("/app/product-list")};return d.jsx("div",{className:"p-6 bg-gray-100 dark:bg-gray-900  min-h-screen",children:d.jsxs("div",{className:"max-w-5xl mx-auto p-6 shadow-md rounded-md border border-gray-300 dark:border-gray-600",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Product Code"}),d.jsx(be,{required:!0,type:"text",name:"productCode",placeholder:"Enter Product Code",value:l==null?void 0:l.productCode,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Model No"}),d.jsx(be,{required:!0,type:"text",name:"modelNo",placeholder:"Enter Model No",value:l==null?void 0:l.modelNo,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Product Name"}),d.jsx(be,{required:!0,type:"text",name:"productName",placeholder:"Enter Product Name",value:l==null?void 0:l.productName,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Brand Name"}),d.jsxs(wt,{required:!0,onValueChange:le=>xe("brandName",le,S==null?void 0:S.data),value:((Z=l==null?void 0:l.brandName)==null?void 0:Z.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Customer Type",children:((re=l.brandName)==null?void 0:re.brandName)||"Select Brand name"})}),d.jsx(yt,{children:!y&&(S==null?void 0:S.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.brandName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sizes"}),d.jsx(be,{required:!0,type:"number",name:"sizes",placeholder:"Enter Sizes",value:l==null?void 0:l.sizes,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Item Category"}),d.jsxs(wt,{required:!0,onValueChange:le=>xe("itemCategory",le,g==null?void 0:g.data),value:((ue=l==null?void 0:l.itemCategory)==null?void 0:ue.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Item Category",children:((z=l.itemCategory)==null?void 0:z.categoryName)||"Select Item Category"})}),d.jsx(yt,{children:!C&&(g==null?void 0:g.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.categoryName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Product Types"}),d.jsxs(wt,{required:!0,onValueChange:le=>u(Ke=>({...Ke,productType:le})),value:l.productType,children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Product Type",children:(l==null?void 0:l.productType)||"Select Product Type"})}),d.jsx(yt,{children:B.map(le=>d.jsx(Xt,{value:le,children:le},le))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Item Types"}),d.jsxs(wt,{required:!0,onValueChange:le=>xe("itemType",le,w==null?void 0:w.data),value:((N=l==null?void 0:l.itemType)==null?void 0:N.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Item Type",children:((O=l.itemType)==null?void 0:O.typeName)||"Select Item Type"})}),d.jsx(yt,{children:!b&&(w==null?void 0:w.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.typeName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Star Ratings"}),d.jsxs(wt,{required:!0,onValueChange:le=>xe("starRating",le,R==null?void 0:R.data),value:((H=l==null?void 0:l.starRating)==null?void 0:H.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Star Rating",children:((G=l.starRating)==null?void 0:G.starRating)||"Select Star Rating"})}),d.jsx(yt,{children:!A&&(R==null?void 0:R.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.starRating},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Ref. Gas Type"}),d.jsxs(wt,{required:!0,onValueChange:le=>xe("refGasType",le,D==null?void 0:D.data),value:((J=l==null?void 0:l.refGasType)==null?void 0:J.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select refGasType",children:((oe=l.refGasType)==null?void 0:oe.gasTypeName)||"Select refGasType"})}),d.jsx(yt,{children:!M&&(D==null?void 0:D.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.gasTypeName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Ton Capacity"}),d.jsxs(wt,{required:!0,onValueChange:le=>xe("tonCapacity",le,I==null?void 0:I.data),value:((ve=l==null?void 0:l.tonCapacity)==null?void 0:ve.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select tonCapacity",children:((X=l.tonCapacity)==null?void 0:X.tonCapacityName)||"Select tonCapacity"})}),d.jsx(yt,{children:!L&&(I==null?void 0:I.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.tonCapacityName},le.id)))})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isGSTApllicable",className:"mr-2",checked:l.isGSTApllicable,onChange:p}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is GST Applicable"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium",children:"IGST"}),d.jsx(be,{type:"text",name:"igst",value:l==null?void 0:l.igst,onChange:f,placeholder:"Enter IGST",className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium",children:"CGST"}),d.jsx(be,{type:"text",name:"cgst",placeholder:"Enter CGST",value:l==null?void 0:l.cgst,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium",children:"SGST"}),d.jsx(be,{type:"text",name:"sgst",placeholder:"Enter SGST",value:l==null?void 0:l.sgst,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]})]}),d.jsx("hr",{}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Purchase UoM"}),d.jsxs(wt,{onValueChange:le=>xe("purchaseUnitMeasurement",le,j==null?void 0:j.data),value:((ne=l==null?void 0:l.purchaseUnitMeasurement)==null?void 0:ne.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Sales Unit Measurement",children:((Ne=l.purchaseUnitMeasurement)==null?void 0:Ne.uom)||"Select Sales Unit Measurement"})}),d.jsx(yt,{children:!W&&(j==null?void 0:j.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.uom},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sales UoM"}),d.jsxs(wt,{onValueChange:le=>xe("salesUnitMeasurement",le,j==null?void 0:j.data),value:((Ae=l==null?void 0:l.salesUnitMeasurement)==null?void 0:Ae.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Purchase Unit Measurement",children:((Qe=l.salesUnitMeasurement)==null?void 0:Qe.uom)||"Select Purchase Unit Measurement"})}),d.jsx(yt,{children:!W&&(j==null?void 0:j.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.uom},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Base UoM"}),d.jsxs(wt,{onValueChange:le=>xe("baseUnitMeasurement",le,j==null?void 0:j.data),value:((Je=l==null?void 0:l.baseUnitMeasurement)==null?void 0:Je.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Base Unit Measurement",children:((ft=l.baseUnitMeasurement)==null?void 0:ft.uom)||"Select Base Unit Measurement"})}),d.jsx(yt,{children:!W&&(j==null?void 0:j.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.uom},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Reorder Level"}),d.jsx(be,{required:!0,type:"text",name:"reoderLevel",placeholder:"Enter Reorder Level",value:l==null?void 0:l.reoderLevel,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Min Quantity"}),d.jsx(be,{required:!0,type:"number",min:0,placeholder:"Enter Min Quantity",name:"minQuantity",value:l==null?void 0:l.minQuantity,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Max Quantity"}),d.jsx(be,{required:!0,min:0,type:"number",name:"maxQuantity",placeholder:"Enter Max Quantity",value:l==null?void 0:l.maxQuantity,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Purchase Price"}),d.jsx(be,{type:"number",min:0,required:!0,name:"purchasePrice",placeholder:"Enter Purchase Price",value:l==null?void 0:l.purchasePrice,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"MRP"}),d.jsx(be,{type:"number",min:0,required:!0,name:"mrp",value:l==null?void 0:l.mrp,onChange:f,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sales Price"}),d.jsx(be,{type:"number",name:"salesPrice",min:0,required:!0,value:l==null?void 0:l.salesPrice,onChange:f,className:"mt-1 w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"HSN Code"}),d.jsx(be,{required:!0,type:"text",name:"hsnCode",value:l==null?void 0:l.hsnCode,placeholder:"Enter HSN Code",onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Year Of Introduction"}),d.jsx(be,{type:"text",required:!0,name:"yearOfIntroduction",placeholder:"Enter Year Of Introduction",value:l==null?void 0:l.yearOfIntroduction,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Item Status"}),d.jsxs(wt,{onValueChange:le=>xe("itemStatus",le,F==null?void 0:F.data),value:((xt=l==null?void 0:l.itemStatus)==null?void 0:xt.id)||"",children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Select Item Status",children:((We=l.itemStatus)==null?void 0:We.statusName)||"Select Item Status"})}),d.jsx(yt,{children:!E&&(F==null?void 0:F.data.map(le=>d.jsx(Xt,{value:String(le.id),children:le.statusName},le.id)))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Name Of Invoice"}),d.jsx(be,{type:"text",name:"nameInvoice",placeholder:"Enter Name Of Invoice",value:l==null?void 0:l.nameInvoice,onChange:f,className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:!0})]})]}),d.jsx("hr",{}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 mt-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isStockable",className:"mr-2",checked:l.isStockable,onChange:p}),d.jsx("label",{htmlFor:"isStockable",className:"text-sm font-medium",children:"Is Stockable"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isKit",className:"mr-2",checked:l.isKit,onChange:p}),d.jsx("label",{htmlFor:"isKit",className:"text-sm font-medium",children:"Is Kit"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"isActive",className:"mr-2",checked:l.isActive,onChange:p}),d.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium",children:"Is Active"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(Ot,{type:"button",onClick:Ee,children:i?"Update Product":"Create Product"}),d.jsx(Ot,{variant:"secondary",onClick:ae,children:"Cancel"})]})]})})},sbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({customerType:r.customerType||"",isActive:r.isActive||!1});v.useEffect(()=>{s({customerType:r.customerType||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({customerType:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Type"}),d.jsx(be,{required:!0,value:n.customerType,placeholder:"Enter Customer Type",onChange:o=>s({...n,customerType:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},ibe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=s5(),f=e0e(),p=t0e(r),g=r0e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"customerType",headerName:"Customer Type"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{a||t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Customer Type"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"Customer_Type"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Customer Type":"Create Customer Type",dialogDescription:r?"Edit Customer Type here...":"Create Customer Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(sbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},obe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({code:r.code||"",sourceReference:r.ssourceReference||"",isActive:r.isActive||!1});v.useEffect(()=>{s({code:r.code||"",sourceReference:r.sourceReference||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({code:"",sourceReference:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.code,placeholder:"Enter Code",onChange:o=>s({...n,code:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsx(be,{required:!0,value:n.sourceReference,placeholder:"Enter Source of Reference",onChange:o=>s({...n,sourceReference:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},abe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=CR(),f=Xve(),p=Jve(r),g=Zve(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"code",headerName:"Code"},{field:"sourceReference",headerName:"Source Of Reference"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Source of Reference"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"Source_of_Reference"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit SourceOfReference":"Create SourceOfReference",dialogDescription:r?"Edit SourceOfReference here...":"Create SourceOfReference here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(obe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},lbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{var f;const[n,s]=v.useState({referenceDetail:r.referenceDetail||"",sourceReference:r.sourceReference||null,isActive:r.isActive||!1}),{data:i,isError:o,isLoading:a}=CR(),l=(i==null?void 0:i.data)||[];console.log(l),v.useEffect(()=>{s({referenceDetail:r.referenceDetail||"",sourceReference:r.sourceReference||null,isActive:r.isActive||!1})},[r]);const u=p=>{p.preventDefault(),console.log("Form Data Submitted:",n),e(n),s({referenceDetail:"",sourceReference:null,isActive:!1})};return d.jsx("form",{id:t,onSubmit:u,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsx(be,{required:!0,value:n.referenceDetail,placeholder:"Enter Reference Detail",onChange:p=>s({...n,referenceDetail:p.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs("select",{required:!0,className:"mt-1 w-full border border-gray-300 rounded-md p-2",value:((f=n.sourceReference)==null?void 0:f.id)||"",onChange:p=>{const g=l==null?void 0:l.find(C=>String(C.id)===p.target.value);s({...n,sourceReference:g||null})},disabled:a||o,children:[d.jsx("option",{value:"",children:"-- Select Source of Reference --"}),l==null?void 0:l.map(p=>d.jsx("option",{value:p.id,children:p.sourceReference},p.id))]}),o&&d.jsx("p",{className:"text-red-500",children:"Failed to load options"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:p=>s({...n,isActive:p.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},cbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=o5(),f=o0e(),p=a0e(r),g=l0e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"referenceDetail",headerName:"Reference Detail"},{field:"sourceReference.sourceReference",headerName:"Source Of Reference"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Reference Details"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"Reference_Details"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Reference Detail":"Create Reference Detail",dialogDescription:r?"Edit Reference Detail here...":"Create Reference Detail here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(lbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},ube=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({customerStatus:r.customerStatus||"",isActive:r.isActive||!1});v.useEffect(()=>{s({customerStatus:r.customerStatus||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({customerStatus:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Status"}),d.jsx(be,{required:!0,value:n.customerStatus,placeholder:"Enter Customer Status",onChange:o=>s({...n,customerStatus:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},dbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=i5(),f=n0e(),p=s0e(r),g=i0e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"customerStatus",headerName:"Customer Status"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Customer Status"}),d.jsx("div",{className:"p-6 ",children:d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"Customer_Status"})}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Customer Status":"Create Customer Status",dialogDescription:r?"Edit Customer Status here...":"Create Customer Status here...",formId:"form",width:"max-w-4xl",height:"h-auto",children:d.jsx(ube,{onSubmit:b,formId:"form",defaultValues:s})})]})},hbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({code:r.code||"",designation:r.designation||"",isActive:r.isActive||!1});v.useEffect(()=>{s({code:r.code||"",designation:r.designation||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({code:"",designation:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.code,placeholder:"Enter Code",onChange:o=>s({...n,code:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Designation"}),d.jsx(be,{required:!0,value:n.designation,placeholder:"Enter Designation",onChange:o=>s({...n,designation:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},fbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=a5(),f=c0e(),p=u0e(r),g=d0e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"code",headerName:"Code"},{field:"designation",headerName:"Designation"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Designation"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,exportFileName:"Designation",onAddClick:y,onEditClick:F,onDeleteClick:E})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Designation":"Create Designation",dialogDescription:r?"Edit Designation here...":"Create Designation here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(hbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},pbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({code:r.code||"",categoryName:r.categoryName||"",isActive:r.isActive||!1});v.useEffect(()=>{s({code:r.code||"",categoryName:r.categoryName||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({code:"",categoryName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.code,placeholder:"Enter Code",onChange:o=>s({...n,code:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Category Name"}),d.jsx(be,{required:!0,value:n.categoryName,placeholder:"Enter Category Name",onChange:o=>s({...n,categoryName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},gbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(0),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=XB(),f=B1e(),p=G1e(r),g=H1e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"code",headerName:"Code"},{field:"categoryName",headerName:"Category Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(0),t(!0)},w=()=>{t(!1)},b=R=>{console.log(r),r?(console.log("true"),p.mutate(R,{onSuccess:()=>{u()}})):(console.log("false"),console.log(R),f.mutate(R,{onSuccess:()=>{u()}})),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Item Category"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"Item_Category"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Item Category":"Create Item Category",dialogDescription:r?"Edit Item Category here...":"Create Item Category here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(pbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},mbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({typeCode:r.typeCode||"",typeName:r.typeName||"",isActive:r.isActive||!1});v.useEffect(()=>{s({typeCode:r.typeCode||"",typeName:r.typeName||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({typeCode:"",typeName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.typeCode,placeholder:"Enter Code",onChange:o=>s({...n,typeCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Item Type"}),d.jsx(be,{required:!0,value:n.typeName,placeholder:"Enter Item Type",onChange:o=>s({...n,typeName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},vbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=JB(),f=V1e(),p=W1e(r),g=U1e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"typeCode",headerName:"Item Code"},{field:"typeName",headerName:"Item Type"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Item Type"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"Item_Type"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Item Type":"Create Item Type",dialogDescription:r?"Edit Item Type here...":"Create Item Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(mbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},Cbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({statusCode:r.statusCode||"",statusName:r.statusName||"",isActive:r.isActive||!1});v.useEffect(()=>{s({statusCode:r.statusCode||"",statusName:r.statusName||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({statusCode:"",statusName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.statusCode,placeholder:"Enter Code",onChange:o=>s({...n,statusCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Item Status"}),d.jsx(be,{required:!0,value:n.statusName,placeholder:"Enter Item Status",onChange:o=>s({...n,statusName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},ybe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=rG(),f=ebe(),p=tbe(r),g=rbe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"statusCode",headerName:"Code"},{field:"statusName",headerName:"Status Name"},{field:"isActive",headerName:"Active Status",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Item Status"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"Item_Status"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Item Status":"Create Item Status",dialogDescription:r?"Edit Item Status here...":"Create Item Status here...",formId:"service-form",width:"70%",height:"100%",children:d.jsx(Cbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},Sbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({typeCode:r.typeCode||"",starRating:r.starRating||"",isActive:r.isActive||!1});v.useEffect(()=>{s({typeCode:r.typeCode||"",starRating:r.starRating||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({typeCode:"",starRating:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.typeCode,placeholder:"Enter Code",onChange:o=>s({...n,typeCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Star Rating"}),d.jsx(be,{value:n.starRating,placeholder:"Enter Star Rating",required:!0,onChange:o=>s({...n,starRating:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},wbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=ZB(),f=z1e(),p=$1e(r),g=K1e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"typeCode",headerName:"Type Code"},{field:"starRating",headerName:"Star Rating"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Star Rating"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"Star_Rating"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Star Rating":"Create Star Rating",dialogDescription:r?"Edit Star Rating here...":"Create Star Rating here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(Sbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},xbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({typeCode:r.typeCode||"",gasTypeName:r.gasTypeName||"",isActive:r.status||!1});v.useEffect(()=>{s({typeCode:r.typeCode||"",gasTypeName:r.gasTypeName||"",isActive:r.status||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({typeCode:"",gasTypeName:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.typeCode,placeholder:"Enter Code",onChange:o=>s({...n,typeCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Ref Gas Type"}),d.jsx(be,{required:!0,value:n.gasTypeName,placeholder:"Enter Ref Gas Type",onChange:o=>s({...n,gasTypeName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},bbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=eG(),f=q1e(),p=Y1e(r),g=Q1e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"typeCode",headerName:"Type Code"},{field:"gasTypeName",headerName:"Gas Type Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Ref Gas Type"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"RefGasType"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Ref Gas Type":"Create Ref Gas Type",dialogDescription:r?"Edit Ref Gas Type here...":"Create Ref Gas Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(xbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},Rbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({tonCode:r.tonCode||"",tonCapacityName:r.tonCapacityName||"",isActive:r.status||!1});v.useEffect(()=>{s({tonCode:r.tonCode||"",tonCapacityName:r.tonCapacityName||"",isActive:r.status||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({tonCode:"",tonCapacityName:"",isActive:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Code"}),d.jsx(be,{required:!0,value:n.tonCode,placeholder:"Enter Code",onChange:o=>s({...n,tonCode:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Ton Capacity"}),d.jsx(be,{required:!0,value:n.tonCapacityName,placeholder:"Enter Ton Capacity",onChange:o=>s({...n,tonCapacityName:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},Ebe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=tG(),f=X1e(),p=J1e(r),g=Z1e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"tonCode",headerName:"Ton Code"},{field:"tonCapacityName",headerName:"Ton Capacity Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Ton Capacity"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Ton Capacity":"Create Ton Capacity",dialogDescription:r?"Edit Ton Capacity here...":"Create Ton Capacity here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(Rbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},Fbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({symbol:r.symbol||"",uom:r.uom||"",isActive:r.status||!1});v.useEffect(()=>{s({symbol:r.symbol||"",uom:r.uom||"",isActive:r.status||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({symbol:"",uom:"",isActive:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Symbol"}),d.jsx(be,{required:!0,value:n.symbol,placeholder:"Enter Symbol",onChange:o=>s({...n,symbol:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Unit Of Measurements"}),d.jsx(be,{required:!0,value:n.uom,placeholder:"Enter Unit Of Measurements",onChange:o=>s({...n,uom:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",value:n.isActive,onChange:o=>s({...n,isActive:o.target.value})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},Tbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=JR(),f=Oxe(),p=kxe(r),g=Lxe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"symbol",headerName:"Symbol"},{field:"uom",headerName:"UoM Name"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Unit Of Measurements"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit UoM":"Create UoM",dialogDescription:r?"Edit UoM here...":"Create UoM here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(Fbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},Pbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({firstName:r.firstName||"",lastName:r.lastName||"",gender:r.gender||"",contactNo:r.contactNo||"",emailId:r.emailId||"",password:r.password||"",userName:r.userName||""});v.useEffect(()=>{s({firstName:r.firstName||"",lastName:r.lastName||"",gender:r.gender||"",contactNo:r.contactNo||"",emailId:r.emailId||"",password:r.password||"",userName:r.userName||""})},[r]);const i=o=>{o.preventDefault(),e(n),s({firstName:"",lastName:"",gender:"",contactNo:"",emailId:"",password:"",userName:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"First Name"}),d.jsx(be,{required:!0,value:n.firstName,placeholder:"Enter first Name",onChange:o=>s({...n,firstName:o.target.value}),className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"last Name"}),d.jsx(be,{required:!0,value:n.lastName,placeholder:"Enter last Name",onChange:o=>s({...n,lastName:o.target.value}),className:"mt-1 w-full border border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Mobile No"}),d.jsx(be,{required:!0,value:n.contactNo,placeholder:"Enter 10 digit Mobile No",pattern:"^\\d{10}$",onChange:o=>s({...n,contactNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Email"}),d.jsx(be,{type:"email",required:!0,value:n.emailId,placeholder:"Enter Email",onChange:o=>s({...n,emailId:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"User Name"}),d.jsx(be,{required:!0,value:n.userName,placeholder:"Enter User Name",onChange:o=>s({...n,userName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Password"}),d.jsx(be,{type:"password",required:!0,value:n.password,placeholder:"Enter Password",onChange:o=>s({...n,password:o.target.value})})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"radio",id:"male",name:"gender",value:"male",className:"mr-2",checked:n.gender==="male",onChange:o=>s({...n,gender:o.target.value})}),d.jsx("label",{htmlFor:"male",className:"text-sm font-medium",children:"Male"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"radio",id:"female",name:"gender",value:"female",className:"mr-2",checked:n.gender==="female",onChange:o=>s({...n,gender:o.target.value})}),d.jsx("label",{htmlFor:"female",className:"text-sm font-medium",children:"Female"})]})]})]})})})},Abe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=Vp(),f=P1e(),p=A1e(r),g=D1e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"firstName",headerName:"First Name"},{field:"lastName",headerName:"Last Name"},{field:"gender",headerName:"Gender"},{field:"contactNo",headerName:"Mobile No"},{field:"emailId",headerName:"Email"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{console.log("formdata",R),r?p.mutate(R,{onSuccess:()=>{u(),t(!1)}}):f.mutate(R,{onSuccess:()=>{u(),t(!1)}})},F=R=>{n(R.user_id),i(R),t(!0)},E=R=>{n(R.user_id),g.mutate(R.user_id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"User"}),d.jsx("div",{className:"p-6 ",children:d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"User"})}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit User":"Create User",dialogDescription:r?"Edit User here...":"Create User here...",formId:"service-form",width:"max-w-5xl",height:"h-auto",children:d.jsx(Pbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},wE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},xE=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},bE=()=>Er({queryKey:["useGetInstallationLocations"],queryFn:()=>_e("/api/installation-location/getAll")}),Dbe=()=>Ze({mutationFn:e=>_e("/api/installation-location/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:wE,onError:xE}),Mbe=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/installation-location/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{wE(r),t.invalidateQueries({queryKey:["useGetInstallationLocations"]})},onError:xE})},Nbe=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/installation-location/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetInstallationLocations"]}),wE(r.message)},onError:xE})},Ibe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({installationLocationId:r.installationLocationId||"",locationDescription:r.LocationDescription||"",isActive:r.isActive||!1});v.useEffect(()=>{s({installationLocationId:r.installationLocationId||"",locationDescription:r.LocationDescription||"",isActive:r.isActive||!1})},[r]);const i=o=>{o.preventDefault(),e(n),s({installationLocationId:"",locationDescription:"",isActive:!1})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"InstallationLocationId"}),d.jsx(be,{value:n.installationLocationId,placeholder:"Enter Code",onChange:o=>s({...n,installationLocationId:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Location Description"}),d.jsx(be,{value:n.locationDescription,placeholder:"Enter Category Name",onChange:o=>s({...n,locationDescription:o.target.value})})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",className:"mr-2",checked:n.isActive,onChange:o=>s({...n,isActive:o.target.checked})}),d.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Is Active"})]})]})})})},Obe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=bE(),f=Dbe(),p=Mbe(r),g=Nbe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"installationLocationId",headerName:"InstallationLocationId"},{field:"locationDescription",headerName:"Location Description"},{field:"isActive",headerName:"Status (isActive)",cellRenderer:R=>R.value?"Active":"Inactive"}],y=()=>{i(""),n(null),t(!0)},w=()=>{t(!1)},b=R=>{r?p.mutate(R,{onSuccess:()=>{u()}}):f.mutate(R,{onSuccess:()=>{u()}}),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Installation-Location"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E,exportFileName:"Installation_Location"})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Installation Location":"Create Installation Location",dialogDescription:r?"Edit Installation Location here...":"Create Installation Location here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(Ibe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},RE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},rC=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},nG=()=>Er({queryKey:["useGetDeliveryChallans"],queryFn:()=>_e("/api/delivery-challan/v1/getAll")}),sG=()=>Ze({mutationFn:e=>_e("/api/delivery-challan/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:RE,onError:rC}),iG=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/delivery-challan/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{RE(r),t.invalidateQueries({queryKey:["useGetDeliveryChallans"]})},onError:rC})},kbe=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/delivery-challan/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetDeliveryChallans"]}),RE(r.message)},onError:rC})},Lbe=()=>Ze({mutationFn:()=>_e("/api/delivery-challan/getNextChallanNo",{method:"GET"}),onError:rC}),_be=()=>{var Ee,xe,ae,Z,re,ue,z,N,O,H,G,J,oe,ve;const[e,t]=v.useState(null);let[r,n]=v.useState(null);const[s,i]=v.useState(!1),[o,a]=v.useState([]),[l,u]=v.useState([]),{mutate:f,data:p}=I0e(e),{mutate:g,data:C}=N0e(),{mutate:S,data:y}=Lbe(),w=sG(),b=iG(r),{data:F,refetch:E}=nG(),R=Ts(),A=new URLSearchParams(R.search),[D,M]=v.useState({id:"",deliveryChallanNo:"",invoiceNo:""});v.useEffect(()=>{g(),S()},[]),v.useEffect(()=>{r?I.setFieldValue("deliveryChallanNo",D.deliveryChallanNo):y!=null&&y.data&&I.setFieldValue("deliveryChallanNo",y==null?void 0:y.data)},[y]),v.useEffect(()=>{e&&(console.log("in invoice"),f())},[e]),v.useEffect(()=>{var X;if((X=p==null?void 0:p.data)!=null&&X.salesProductQuantities)if(console.log("1in sales",p),!r)a(p.data.salesProductQuantities),u(p.data.salesProductQuantities);else{console.log("in sales",p);const ne=o.map(Ne=>{var Qe;const Ae=(Qe=p==null?void 0:p.data)==null?void 0:Qe.salesProductQuantities.find(Je=>Je.product.id===Ne.product.id);return console.log(Ae,"matchin"),Ae?{...Ne,dispatchedQuantity:Ae.dispatchedQuantity,quantity:Ae.quantity}:Ne});a(ne),u(ne)}},[p]),v.useEffect(()=>{var X,ne,Ne,Ae,Qe;o&&!r&&(I.setFieldValue("productQuantities",o),I.setFieldValue("customerPoNo",((X=p==null?void 0:p.data)==null?void 0:X.poNo)||""),I.setFieldValue("salesPerson",((ne=p==null?void 0:p.data)==null?void 0:ne.contactPerson)||""),I.setFieldValue("name",((Ae=(Ne=p==null?void 0:p.data)==null?void 0:Ne.customer)==null?void 0:Ae.customerName)||""),I.setFieldValue("address",((Qe=p==null?void 0:p.data)==null?void 0:Qe.deliveryAddress)||""))},[o]),v.useEffect(()=>{let X=A.get("id");if(n(X),X&&F&&!s){const ne=F==null?void 0:F.data.find(Ne=>Ne.id.toString()===X);ne&&(console.log("chlla",ne),M(ne),u(ne==null?void 0:ne.productQuantities),a(ne==null?void 0:ne.productQuantities),t(ne==null?void 0:ne.invoiceNo),I.setValues({...I.initialValues,...ne}),i(!0)),console.log(ne)}},[F,A]);const I=_p({initialValues:{deliverBy:"",customerPoNo:"",name:"",address:"",jobId:"",invoiceNo:"",installationBy:"",salesPerson:"",deliveryChallanNo:"",localDateTime:"",storeInChargeId:{user_id:"",firstName:""},transporterId:{user_id:"",firstName:""},projectInChargeId:{user_id:"",firstName:""},authorizeDetailsById:{user_id:"",firstName:""},productQuantities:[{id:"",product:{id:"",productName:"",mrp:""},quantity:""}]},validationSchema:cr({deliverBy:it().required("Required"),customerPoNo:it().required("Required"),name:it().required("Required"),address:it().required("Required"),jobId:it().required("Required"),invoiceNo:it().required("Required"),installationBy:it().required("Required"),salesPerson:it().required("Required"),localDateTime:Lc().required("Date is required"),storeInChargeId:cr().shape({user_id:it().required("Store Incharge ID is required."),firstName:it().required("Store Incharge Name is required.")}).required("Store Incharge is required."),transporterId:cr().shape({user_id:it().required("Transporter is required."),firstName:it().required("Transporter Name is required.")}).required("Transporter is required."),projectInChargeId:cr().shape({user_id:it().required("ProjectIncharge is required."),firstName:it().required("ProjectIncharge Name is required.")}).required("ProjectIncharge is required."),authorizeDetailsById:cr().shape({user_id:it().required("AuthorizedPerson ID is required."),firstName:it().required("AuthorizedPerson is required.")}).required("AuthorizedPerson is required.")}),onSubmit:X=>{r?(console.log("in update",r,X),b.mutate(X,{onSuccess:()=>{E(),j("/app/delivery-challan")}}),r=null):(console.log("Form submitted:",X),w.mutate(X,{onSuccess:()=>{E(),j("/app/delivery-challan")}}))}});v.useEffect(()=>{I.setFieldValue("productQuantities",o)},[o]),v.useEffect(()=>{},[(Ee=I.values)==null?void 0:Ee.invoiceNo]);const{data:L}=Vp(),j=jn(),W=()=>{j("/app/delivery-challan")},B=X=>{console.log("Removing index:",X);const ne=o.filter((Ae,Qe)=>Qe!==X),Ne=l.filter((Ae,Qe)=>Qe!==X);a(ne),u(Ne),I.setFieldValue("productQuantities",ne),console.log("Updated Quantities:",ne)},ie={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},Se=X=>{X.preventDefault(),console.log("action handle submit"),I.handleSubmit()};return d.jsx("form",{onSubmit:Se,children:d.jsx(Gs.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsxs(Gs.div,{className:"max-w-5xl mx-auto border p-4 sm:p-6 shadow-md rounded-md",variants:ie,initial:"hidden",animate:"visible",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"Delivery Challan"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mb-6",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Invoice No"}),d.jsxs(pR,{onValueChange:X=>{I.setFieldValue("invoiceNo",X),t(X)},value:String((xe=I.values)==null?void 0:xe.invoiceNo),children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:C==null?void 0:C.data.map(X=>d.jsx(Xt,{value:String(X),children:X},X))})]}),I.touched.invoiceNo&&I.errors.invoiceNo&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:I.errors.invoiceNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Challan No"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1",disabled:!0,value:I.values.deliveryChallanNo||""}),I.touched.deliveryChallanNo&&I.errors.deliveryChallanNo&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.deliveryChallanNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Name"}),d.jsx(be,{type:"text",name:"name",value:I.values.name,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.name&&I.errors.name&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Sales Persons"}),d.jsx(be,{type:"text",name:"salesPerson",value:I.values.salesPerson,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.salesPerson&&I.errors.salesPerson&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.salesPerson})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Installed By"}),d.jsx(be,{type:"text",name:"installationBy",value:I.values.installationBy,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.installationBy&&I.errors.installationBy&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.installationBy})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Address"}),d.jsx("textarea",{name:"address",value:I.values.address,onChange:I.handleChange,className:"mt-1 w-full p-2 border rounded-md",rows:1}),I.touched.address&&I.errors.address&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.address})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Deliver By"}),d.jsx(be,{type:"text",name:"deliverBy",value:I.values.deliverBy,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.deliverBy&&I.errors.deliverBy&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.deliverBy})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Job Id"}),d.jsx(be,{type:"number",name:"jobId",min:0,value:I.values.jobId,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.jobId&&I.errors.jobId&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.jobId})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"CustomerPoNo"}),d.jsx(be,{type:"number",name:"customerPoNo",value:I.values.customerPoNo,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.customerPoNo&&I.errors.customerPoNo&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.customerPoNo})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium",children:"Date"}),d.jsx(be,{type:"date",name:"localDateTime",value:I.values.localDateTime,onChange:I.handleChange,className:"mt-1 w-full"}),I.touched.localDateTime&&I.errors.localDateTime&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.localDateTime})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Store Incharge"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((ae=I.values.storeInChargeId)==null?void 0:ae.firstName)||"Select Incharge...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Inch..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(Z=L==null?void 0:L.data)==null?void 0:Z.map(X=>{var ne;return d.jsxs(ns,{value:X.firstName,onSelect:()=>I.setFieldValue("storeInChargeId",X),children:[X.firstName,d.jsx(On,{className:((ne=I.values.storeInChargeId)==null?void 0:ne.user_id)===X.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},X.user_id)})})]})]})})]}),I.touched.storeInChargeId&&d.jsx(d.Fragment,{children:((re=I.errors.storeInChargeId)==null?void 0:re.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.storeInChargeId.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Authorized By"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((ue=I.values.authorizeDetailsById)==null?void 0:ue.firstName)||"Select Authorized Person Name...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Inch..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(z=L==null?void 0:L.data)==null?void 0:z.map(X=>{var ne;return d.jsxs(ns,{value:X.firstName,onSelect:()=>I.setFieldValue("authorizeDetailsById",X),children:[X.firstName,d.jsx(On,{className:((ne=I.values.authorizeDetailsById)==null?void 0:ne.user_id)===X.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},X.user_id)})})]})]})})]}),I.touched.authorizeDetailsById&&d.jsx(d.Fragment,{children:((N=I.errors.authorizeDetailsById)==null?void 0:N.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.authorizeDetailsById.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Transporter Detail"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((O=I.values.transporterId)==null?void 0:O.firstName)||"Select Transporter Person Name...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Transporter..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(H=L==null?void 0:L.data)==null?void 0:H.map(X=>{var ne;return d.jsxs(ns,{value:X.firstName,onSelect:()=>I.setFieldValue("transporterId",X),children:[X.firstName,d.jsx(On,{className:((ne=I.values.transporterId)==null?void 0:ne.user_id)===X.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},X.user_id)})})]})]})})]}),I.touched.transporterId&&d.jsx(d.Fragment,{children:((G=I.errors.transporterId)==null?void 0:G.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.transporterId.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Project InCharge"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((J=I.values.projectInChargeId)==null?void 0:J.firstName)||"Select Project Incharge  Name...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Inch..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(oe=L==null?void 0:L.data)==null?void 0:oe.map(X=>{var ne;return d.jsxs(ns,{value:X.firstName,onSelect:()=>I.setFieldValue("projectInChargeId",X),children:[X.firstName,d.jsx(On,{className:((ne=I.values.projectInChargeId)==null?void 0:ne.user_id)===X.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},X.user_id)})})]})]})})]}),I.touched.projectInChargeId&&d.jsx(d.Fragment,{children:((ve=I.errors.projectInChargeId)==null?void 0:ve.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:I.errors.projectInChargeId.firstName})})]})]}),d.jsx("div",{className:"overflow-x-auto ",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200   mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100  dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2",children:"Product Name"}),d.jsx("th",{className:"border px-4 py-2",children:"Total Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"Dispatched Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"Enter Quantity"}),d.jsx("th",{className:"border px-4 py-2",children:"Action"})]})}),d.jsx("tbody",{children:l==null?void 0:l.map((X,ne)=>{var Ne,Ae;return d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2 text-center",children:ne+1}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("div",{children:(Ne=X.product)==null?void 0:Ne.productName})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("div",{children:X.quantity})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("div",{children:X==null?void 0:X.dispatchedQuantity})}),d.jsx("td",{className:"border px-1 py-1 text-center",children:d.jsx("input",{min:0,max:r?"":Number(X==null?void 0:X.quantity)-(X==null?void 0:X.dispatchedQuantity),type:"number",className:"w-full border rounded-md px-2 py-1",value:((Ae=o[ne])==null?void 0:Ae.quantity)||0,onChange:Qe=>{const Je=Qe.target.value,ft=[...o];ft[ne]={...X,quantity:Je},a(ft),I.setFieldValue("productQuantities",ft)}})}),d.jsx("td",{className:"border px-2 py-2 text-center",children:d.jsx("button",{type:"button",className:"text-red-500",onClick:()=>B(ne),children:"Remove"})})]},X==null?void 0:X.id)})})]})}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(Ot,{type:"button",variant:"secondary",onClick:W,children:"Cancel"}),d.jsx(Ot,{type:"submit",children:r?"Update Challan":"Create Challan"})]})]})})})},jbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});v.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(eh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},Bbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=nG(),f=sG(),p=iG(r),g=kbe(r),C=(o==null?void 0:o.data)||[],S=jn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"name",headerName:"Name"},{field:"address",headerName:"Address"},{field:"customerPoNo",headerName:"PoNo"},{field:"deliveryChallanNo",headerName:"ChallanNo"},{field:"invoiceNo",headerName:"Invoice No"},{field:"storeInChargeId.firstName",headerName:"Store Incharge"},{field:"authorizeDetailsById.firstName",headerName:"AuthorizedBy"},{field:"salesPerson",headerName:"Sales Person"},{field:"installationBy",headerName:"InstallationBy"},{field:"transporterId.firstName",headerName:"Transporter"}],w=()=>{i(""),n(null),S("/app/delivery-challan/delivery-challan-form")},b=()=>{S("/app/delivery-challan")},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},E=A=>{n(A.id),i(A),S(`/app/delivery-challan/delivery-challan-form?id=${A.id}`)},R=A=>{n(A.id),g.mutate(A.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Delivery Challan"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:E,onDeleteClick:R,exportFileName:"Delivery_Challan"})]}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"form",width:"100%",height:"100%",children:d.jsx(jbe,{onSubmit:F,formId:"form",defaultValues:s})})]})};var oG=(e=>(e.COMPLETE="COMPLETE",e.WIP="WIP",e))(oG||{});const Gbe=({installationProductQuantities:e=[],products:t=[],onRowsChange:r})=>{const[n,s]=v.useState([{id:Date.now(),product:{id:"",productName:""},quantity:1}]);v.useEffect(()=>{e.length>0&&s(e)},[e]);const i=(l,u,f)=>{const p=n.map(g=>g.id===l?{...g,product:u==="product"?f:g.product,quantity:u==="quantity"?Number(f):g.quantity}:g);s(p),r(p)},o=()=>{const l={id:Date.now(),product:{id:"",productName:""},quantity:1};s(u=>{const f=[...u,l];return r(f),f})},a=l=>{s(u=>{const f=u.filter(p=>p.id!==l);return r(f),f})};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Products"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2 text-left",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Product"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Quantity"}),d.jsx("th",{className:"border px-4 py-2 text-center",children:"Actions"})]})}),d.jsx("tbody",{children:n.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:u+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsxs("select",{className:"border rounded-md px-2 py-1 w-full bg-transparent",value:l.product.id||"",onChange:f=>{const p=t.find(g=>g.id.toString()===f.target.value);p&&i(l.id,"product",p)},children:[d.jsx("option",{value:"",children:"Select Product"}),t.map(f=>d.jsx("option",{value:f.id,children:f.productName},f.id))]})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",className:"border rounded-md px-2 py-1 w-20 bg-transparent",min:1,value:l.quantity,onChange:f=>i(l.id,"quantity",Number(f.target.value))})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("button",{onClick:()=>a(l.id),className:"text-red-500 hover:underline",children:"Remove"})})]},l.id))})]})}),d.jsx("button",{type:"button",onClick:o,className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",children:"Add Product"})]})},aG=({columns:e,data:t})=>d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsx("tr",{className:"bg-gray-100 dark:bg-gray-800",children:e.map(r=>d.jsx("th",{className:"border px-4 py-2",children:r.label},r.key))})}),d.jsx("tbody",{children:t.map((r,n)=>d.jsx("tr",{children:e.map(s=>d.jsx("td",{className:"border px-4 py-2",children:s.render?s.render(r,n):r[s.key]},s.key))},r.id))})]})}),EE=e=>{nt.success((e==null?void 0:e.message)||"Operation Successful")},Wp=e=>{nt.error((e==null?void 0:e.message)||"Operation Failed")},Hbe=()=>Er({queryKey:["useGetInstallations"],queryFn:()=>_e("/api/installation/v1/getAll")}),lG=()=>Ze({mutationFn:e=>_e("/api/installation/create",{method:"POST",body:JSON.stringify(e)}),onSuccess:EE,onError:Wp}),cG=e=>{const t=At();return Ze({mutationFn:r=>_e(`/api/installation/update/${e}`,{method:"PUT",body:JSON.stringify(r)}),onSuccess:r=>{EE(r),t.invalidateQueries({queryKey:["useGetInstallations"]})},onError:Wp})},Vbe=e=>{const t=At();return Ze({mutationFn:()=>_e(`/api/installation/deleteById/${e}`,{method:"DELETE"}),onSuccess:r=>{t.invalidateQueries({queryKey:["useGetInstallations"]}),EE(r.message)},onError:Wp})},Wbe=()=>Ze({mutationFn:()=>_e("/api/installation/getNextInstallationNo",{method:"GET"}),onError:Wp}),Ube=e=>Ze({mutationFn:()=>_e(`/api/installation/getById/${e}`,{method:"GET"}),onError:Wp}),zbe=()=>{var O,H,G,J,oe,ve,X,ne,Ne,Ae,Qe,Je,ft,xt,We;let[e,t]=v.useState(null);const[r,n]=v.useState(!1),[s,i]=v.useState(null),[o,a]=v.useState(!1),[l,u]=v.useState(0),f=jn(),p=Object.values(oG),[g,C]=v.useState([]),{data:S}=q0(),{data:y}=U0(),{data:w}=bE(),{data:b}=Vp(),{mutate:F,data:E}=Wbe(),R=lG(),A=cG(e),{mutate:D,data:M}=Ube(e),I=Ts(),L=new URLSearchParams(I.search);v.useEffect(()=>{F()},[]),v.useEffect(()=>{e==null&&B.setFieldValue("installationReportNo",E==null?void 0:E.data)},[E,e]),v.useEffect(()=>{let le=L.get("id");console.log("idaaa",le),t(le),console.log("ida=",e),le&&n(!0)},[L]),v.useEffect(()=>{r&&D()},[r]),v.useEffect(()=>{if(M){console.log(M==null?void 0:M.data);const le=M==null?void 0:M.data,Ke=le==null?void 0:le.installationProduct,ct=le==null?void 0:le.attachments;B.setFieldValue("installationProduct",Ke),B.setFieldValue("attachments",ct),B.setFieldValue("installationReportNo",le==null?void 0:le.installationReportNo),C(Ke),ae(ct),B.setValues({...B.initialValues,...M==null?void 0:M.data})}},[M]);const j={installationReportNo:"",installationDate:"",customer:{id:"",customerName:""},installationLocations:[],installationStatus:"",installationVerifiedBy:{user_id:"",firstName:""},installationDoneBy:{user_id:"",firstName:""},installationRemark:"",poId:"",installationProduct:[{product:{productName:"",id:""},quantity:""}],attachments:[],isAgainstPo:!1,isExtraActivitiesCarriedOut:!1},W=cr().shape({installationReportNo:it().required("Service number is required"),installationDate:Lc().required("Service date is required"),installationRemark:it().required("Remark is required"),installationStatus:it().required("Status is required"),poId:it().required("Order Id is required"),customer:cr().shape({id:it().required("Client is required."),customerName:it().required("Client is required.")}).required("Client  is required."),installationDoneBy:cr().shape({user_id:it().required("User ID is required."),firstName:it().required("User Name is required.")}).required("User is required."),installationVerifiedBy:cr().shape({user_id:it().required("User Verifier is required."),firstName:it().required("User Verifier Name is required.")}).required("User Verifier is required.")}),B=_p({initialValues:j,validationSchema:W,onSubmit:le=>{e?(console.log("update",le),A.mutate(le,{onSuccess:()=>{f("/app/installation")}}),e=null):(console.log("Form submitted:",le),R.mutate(le,{onSuccess:()=>{f("/app/installation")}}))}});v.useEffect(()=>{console.log("instllation",B.values.installationLocations)},[B.values.installationLocations]);const ie=le=>{console.log("Updated Rows:",le),B.setFieldValue("installationProduct",le)},Se=async()=>{if(!s){nt.error("Please select a file to upload.");return}console.log("upload successful"),a(!0),u(0);const le=new FormData;le.append("file",s);try{const Ke=await fetch(`${xc}/api/installation/uploadFile`,{method:"POST",body:le});if(Ke.ok){const ct=await Ke.json();nt.success("File uploaded successfully.");const Nt=[...B.values.attachments||[],ct==null?void 0:ct.data];ae(Nt),B.setFieldValue("attachments",Nt),console.log("Updated Formik Attachments:",B.values.attachments),console.log("Updated local uploadedData:",xe)}else{const ct=await Ke.json();nt.error(`Upload failed: ${ct.message||"Unknown error"}`)}}catch(Ke){console.error("Error uploading file:",Ke),nt.error("An error occurred while uploading the file.")}finally{a(!1),u(0)}},Ee=async(le,Ke)=>{le.preventDefault();try{const ct=`${xc}/api/resources/serveFile?filePath=${encodeURIComponent(Ke)}`,Nt=await fetch(ct,{method:"GET"});if(Nt.ok){const de=await Nt.blob(),He=URL.createObjectURL(de);window.open(He,"_blank"),setTimeout(()=>URL.revokeObjectURL(He),6e4)}else nt.error("API Error: "+Nt.statusText)}catch(ct){nt.error("Fetch Error: "+ct.message)}},[xe,ae]=v.useState([]),Z=le=>{var ct;const Ke=(ct=le.target.files)==null?void 0:ct[0];Ke&&i(Ke)},re=le=>{const Ke=xe.filter(ct=>ct.id!==le);ae(Ke),console.log(""),B.setFieldValue("attachments",Ke)},ue=()=>{f("/app/installation")},z={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},N=le=>{le.preventDefault(),console.log("action handle submit"),B.handleSubmit(),console.log(B.errors)};return d.jsx("form",{onSubmit:N,children:d.jsx(Gs.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsxs(Gs.div,{className:"max-w-5xl mx-auto border p-4 sm:p-6 shadow-md rounded-md",variants:z,initial:"hidden",animate:"visible",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"Installation Form"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-2 mb-6",children:[d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Date"}),d.jsx(be,{type:"date",className:"w-full",name:"installationDate",onChange:B.handleChange,value:B.values.installationDate}),B.touched.installationDate&&B.errors.installationDate&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.installationDate})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Report No"}),d.jsx(be,{type:"text",className:"w-full",placeholder:"Enter Report No",name:"installationReportNo",readOnly:!0,value:B.values.installationReportNo}),B.touched.installationReportNo&&typeof B.errors.installationReportNo&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.installationReportNo})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Customer"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((O=B.values.customer)==null?void 0:O.customerName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Inch..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(H=y==null?void 0:y.data)==null?void 0:H.map(le=>{var Ke;return d.jsxs(ns,{value:le==null?void 0:le.customerName,onSelect:()=>B.setFieldValue("customer",le),children:[le==null?void 0:le.customerName,d.jsx(On,{className:((Ke=B.values.customer)==null?void 0:Ke.id)===le.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},le.id)})})]})]})})]}),B.touched.customer&&d.jsx(d.Fragment,{children:((G=B.errors.customer)==null?void 0:G.customerName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(J=B.errors.customer)==null?void 0:J.customerName})})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-sm font-medium text-700",children:"Installation Locations"}),d.jsxs(gv,{children:[d.jsx(mv,{asChild:!0,children:d.jsx(Ot,{variant:"outline",className:"bg-transparent",children:((oe=B.values.installationLocations)==null?void 0:oe.length)>0?B.values.installationLocations.map(le=>le.installationLocationId).join(" , "):"Select Locations..."})}),d.jsxs(jf,{className:"w-56",children:[d.jsx(Zk,{children:"Installation Locations"}),d.jsx(eL,{}),(ve=w==null?void 0:w.data)==null?void 0:ve.map(le=>{const Ke=Array.isArray(B.values.installationLocations)?B.values.installationLocations:[],ct=Ke.some(de=>de.id===le.id),Nt=()=>{const de=ct?Ke.filter(He=>He.id!==le.id):[...Ke,le];B.setFieldValue("installationLocations",de)};return d.jsx(Z1,{checked:ct,onCheckedChange:Nt,children:le.installationLocationId},le.id)})]})]})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Verified By"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((X=B.values.installationVerifiedBy)==null?void 0:X.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Name..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(ne=b==null?void 0:b.data)==null?void 0:ne.map(le=>{var Ke;return d.jsxs(ns,{value:le.firstName,onSelect:()=>B.setFieldValue("installationVerifiedBy",le),children:[le.firstName,d.jsx(On,{className:((Ke=B.values.installationVerifiedBy)==null?void 0:Ke.user_id)===le.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},le.user_id)})})]})]})})]}),B.touched.installationVerifiedBy&&d.jsx(d.Fragment,{children:((Ne=B.errors.installationVerifiedBy)==null?void 0:Ne.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(Ae=B.errors.installationVerifiedBy)==null?void 0:Ae.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Done By"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((Qe=B.values.installationDoneBy)==null?void 0:Qe.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Name..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(Je=b==null?void 0:b.data)==null?void 0:Je.map(le=>{var Ke;return d.jsxs(ns,{value:le.firstName,onSelect:()=>B.setFieldValue("installationDoneBy",le),children:[le.firstName,d.jsx(On,{className:((Ke=B.values.installationDoneBy)==null?void 0:Ke.user_id)===le.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},le.user_id)})})]})]})})]}),B.touched.installationDoneBy&&d.jsx(d.Fragment,{children:((ft=B.errors.installationDoneBy)==null?void 0:ft.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(xt=B.errors.installationDoneBy)==null?void 0:xt.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Status"}),d.jsxs(wt,{onValueChange:le=>{B.setFieldValue("installationStatus",le)},value:(We=B.values)==null?void 0:We.installationStatus,children:[d.jsx(Ct,{children:d.jsx(St,{placeholder:"Select an option"})}),d.jsx(yt,{children:p.map(le=>d.jsx(Xt,{value:le,children:le},le))})]}),B.touched.installationStatus&&B.errors.installationStatus&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:B.errors.installationStatus})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation Remarks"}),d.jsx(be,{type:"text",className:"w-full",onChange:B.handleChange,value:B.values.installationRemark,name:"installationRemark",placeholder:"Enter Installation Remarks"}),B.touched.installationRemark&&B.errors.installationRemark&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.installationRemark})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"PO Id"}),d.jsx(be,{type:"text",className:"w-full",placeholder:"Enter PO ID",value:B.values.poId,onChange:B.handleChange,name:"poId"}),B.touched.poId&&B.errors.poId&&d.jsx("p",{className:"text-red-500 text-sm",children:B.errors.poId})]})]}),d.jsx(Gbe,{installationProductQuantities:e?g:[],products:S==null?void 0:S.data,onRowsChange:ie}),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Upload Files"}),d.jsx("input",{type:"file",className:"flex-1 p-2 text-xs border-none outline-none",onChange:Z,disabled:o})]}),o&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{children:"Uploading..."}),d.jsx("progress",{value:l,max:"100",className:"w-full"})]}),d.jsxs(Ot,{onClick:Se,disabled:o,className:"h-[35px] text-sm px-10 py-2 rounded-md mt-2 mb-4",children:[" ",o?"Uploading...":"Upload"]})]}),d.jsx(aG,{columns:[{key:"index",label:"Sr.No",render:(le,Ke)=>Ke+1},{key:"location",label:"File Name",render:le=>d.jsx("a",{href:le.location,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",onClick:Ke=>Ee&&Ee(Ke,le.location),children:le.location})},{key:"docType",label:"Doctype",render:le=>{var Ke;return(Ke=le.docType)==null?void 0:Ke.docType}},{key:"actions",label:"Actions",render:le=>d.jsx("button",{className:"text-red-500",onClick:()=>re&&re(le.id),children:"Remove"})}],data:xe}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",name:"isExtraActivitiesCarriedOut",className:"mr-2",checked:B.values.isExtraActivitiesCarriedOut,onChange:B.handleChange}),d.jsxs("label",{htmlFor:"status",className:"text-sm font-medium",children:[" ","Is Extra Activities Carried Out"," "]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",name:"isAgainstPo",className:"mr-2",checked:B.values.isAgainstPo,onChange:()=>B.setFieldValue("isAgainstPo",!B.values.isAgainstPo)}),d.jsxs("label",{htmlFor:"status",className:"text-sm font-medium",children:["Is Against Po"," "]})]}),d.jsxs(Ot,{type:"button",variant:"secondary",onClick:ue,children:[" ","Cancel"]}),d.jsx(Ot,{type:"submit",children:e?"Update":"Create"})]})]})})})},$be=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({CustomerType:r.CustomerType||"",CustomerStatus:r.CustomerStatus||"",SourceOfReference:r.SourceOfReference||"",ReferenceDetail:r.ReferenceDetail||"",ReferenceRemark:r.ReferenceRemark||"",CustomerName:r.CustomerName||"",GSTNo:r.GSTNo||"",PANNo:r.PANNo||"",AddressLine1:r.AddressLine1||"",AddressLine2:r.AddressLine2||"",AddressLine3:r.AddressLine3||"",Country:r.Country||"",State:r.State||"",City:r.City||"",Area:r.Area||"",Pincode:r.Pincode||"",ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}],CustomerWeightage:r.CustomerWeightage||"",Status:r.Status||!1});v.useEffect(()=>{s({...r,ContactPersons:r.ContactPersons||[{name:"",designation:"",contactNo:"",email:""}]})},[r]);const i=o=>{o.preventDefault(),e(n)};return d.jsx("form",{id:t,onSubmit:i,children:d.jsxs(eh,{className:"h-[350px] w-full rounded-md border p-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-2 mr-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Type"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Type"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Select Customer Status"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Customer Status"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Source of Reference"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Source of Reference"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Detail"}),d.jsxs(wt,{children:[d.jsx(Ct,{className:"w-full",children:d.jsx(St,{placeholder:"Enter Reference Detail"})}),d.jsx(yt,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Reference Remark"}),d.jsx(be,{value:n.ReferenceRemark,placeholder:"Enter Reference Remark",onChange:o=>s({...n,ReferenceRemark:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Name"}),d.jsx(be,{value:n.CustomerName,placeholder:"Enter Customer Name",onChange:o=>s({...n,CustomerName:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"GST No"}),d.jsx(be,{value:n.GSTNo,placeholder:"Enter GST No",onChange:o=>s({...n,GSTNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"PAN No"}),d.jsx(be,{value:n.PANNo,placeholder:"Enter PAN No",onChange:o=>s({...n,PANNo:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 1"}),d.jsx(be,{value:n.AddressLine1,placeholder:"Enter Address Line 1",onChange:o=>s({...n,AddressLine1:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Address Line 2"}),d.jsx(be,{value:n.AddressLine2,placeholder:"Enter Address Line 2",onChange:o=>s({...n,AddressLine2:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Country"}),d.jsx(be,{value:n.Country,placeholder:"Enter Country",onChange:o=>s({...n,Country:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"City"}),d.jsx(be,{value:n.City,placeholder:"Enter City",onChange:o=>s({...n,City:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Area"}),d.jsx(be,{value:n.Area,placeholder:"Enter Area",onChange:o=>s({...n,Area:o.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Pincode"}),d.jsx(be,{value:n.Pincode,placeholder:"Enter Pincode",onChange:o=>s({...n,Pincode:o.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Customer Weightage"}),d.jsx(be,{value:n.CustomerWeightage,placeholder:"Enter Weightage",onChange:o=>s({...n,CustomerWeightage:o.target.value})})]}),d.jsx("div",{className:"space-y-2  mt-2",children:d.jsxs(ce,{children:[d.jsx("input",{type:"checkbox",checked:n.Status,onChange:o=>s({...n,Status:o.target.checked})}),"Active"]})})]})})},Kbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=Hbe(),f=lG(),p=cG(r),g=Vbe(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=jn(),y=[{field:"srNo",headerName:"Sr No.",cellRenderer:A=>A.node.rowIndex+1},{field:"installationReportNo",headerName:"Report No."},{field:"installationDate",headerName:"Date"},{field:"poId",headerName:"PoId"},{field:"customer.customerName",headerName:"Customer"},{field:"installationDoneBy.firstName",headerName:"Inst Done By"},{field:"installationVerifiedBy.firstName",headerName:"Verified By"},{field:"installationStatus",headerName:"Status"},{field:"installationRemark",headerName:"Remark"}],w=()=>{i(""),n(null),S("/app/installation/installation-form")},b=()=>{S("/app/installation")},F=A=>{r?p.mutate(A,{onSuccess:()=>{u()}}):f.mutate(A,{onSuccess:()=>{u()}}),t(!1)},E=A=>{n(A.id),i(A),S(`/app/installation/installation-form?id=${A.id}`)},R=A=>{n(A.id),g.mutate(A.id,{onSuccess:()=>{u()}})};return d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Installation"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:y,isLoading:a,onAddClick:w,onEditClick:E,onDeleteClick:R,exportFileName:"Installation"})]}),d.jsx(Nr,{isOpen:e,onClose:b,dialogTitle:r?"Edit Customer List":"Create Customer",dialogDescription:r?"Edit your Customer List details here...":"Create Customer here...",formId:"form",width:"100%",height:"100%",children:d.jsx($be,{onSubmit:F,formId:"form",defaultValues:s})})]})},qbe=({materialQuantities:e=[],materials:t=[],onRowsChange:r})=>{const[n,s]=v.useState([{id:Date.now(),material:{id:"",materialName:""},quantity:1}]);v.useEffect(()=>{e.length>0&&s(e)},[e]);const i=(l,u,f)=>{const p=n.map(g=>g.id===l?{...g,material:u==="material"?f:g.material,quantity:u==="quantity"?Number(f):g.quantity}:g);s(p),r(p)},o=()=>{const l={id:Date.now(),material:{id:"",materialName:""},quantity:1};s(u=>{const f=[...u,l];return r(f),f})},a=l=>{s(u=>{const f=u.filter(p=>p.id!==l);return r(f),f})};return d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Materials"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse border border-gray-200 mb-6",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[d.jsx("th",{className:"border px-4 py-2 text-left",children:"Sr.No"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Material"}),d.jsx("th",{className:"border px-4 py-2 text-left",children:"Quantity"}),d.jsx("th",{className:"border px-4 py-2 text-center",children:"Actions"})]})}),d.jsx("tbody",{children:n.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:u+1}),d.jsx("td",{className:"border px-4 py-2",children:d.jsxs("select",{className:"border rounded-md px-2 py-1 w-full bg-transparent",value:l.material.id||"",onChange:f=>{const p=t.find(g=>g.id.toString()===f.target.value);p&&i(l.id,"material",p)},children:[d.jsx("option",{value:"",children:"Select Material"}),t.map(f=>d.jsx("option",{value:f.id,children:f.materialName},f.id))]})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("input",{type:"number",className:"border rounded-md px-2 py-1 w-20 bg-transparent",min:1,value:l.quantity,onChange:f=>i(l.id,"quantity",Number(f.target.value))})}),d.jsx("td",{className:"border px-4 py-2 text-center",children:d.jsx("button",{onClick:()=>a(l.id),className:"text-red-500 hover:underline",children:"Remove"})})]},l.id))})]})}),d.jsx(Ot,{type:"button",onClick:o,className:"h-[35px] text-sm px-10 py-2 rounded-md",children:"Add Material"})]})},Ybe=()=>{var O,H,G,J,oe,ve,X,ne,Ne,Ae,Qe,Je,ft,xt,We,le,Ke,ct,Nt,de,He,Ue,tt,rt,gt,Vt,zr;let[e,t]=v.useState(null);const[r,n]=v.useState(!1),[s,i]=v.useState([]),o=jn(),{data:a}=bE(),{data:l}=U0(),{data:u}=Vp(),{data:f}=q0(),{data:p}=j5(),{mutate:g,data:C}=Hxe(),{mutate:S,data:y}=Vxe(e),w=bB(),b=RB(e),F=Ts(),E=new URLSearchParams(F.search);v.useEffect(()=>{g()},[]),v.useEffect(()=>{(e||C!=null&&C.data)&&D.setFieldValue("serviceNo",C==null?void 0:C.data)},[C]),v.useEffect(()=>{let Oe=E.get("id");console.log("idaaa",Oe),t(Oe),console.log("ida=",e),Oe&&n(!0)},[E]),v.useEffect(()=>{r&&S()},[r]),v.useEffect(()=>{if(y){console.log(y==null?void 0:y.data);const Oe=y==null?void 0:y.data,vt=Oe==null?void 0:Oe.materialQuantity,ur=Oe==null?void 0:Oe.attachments;D.setFieldValue("materialQuantity",vt),D.setFieldValue("attachments",ur),D.setFieldValue("serviceDate",Oe==null?void 0:Oe.serviceDate),i(vt),Ee(ur),D.setValues({...D.initialValues,...y==null?void 0:y.data})}},[y]);const R={serviceNo:"",contactPerson:"",serviceDate:"",client:{id:"",customerName:""},product:{id:"",productName:""},installationLocation:{id:"",installationLocationId:""},problem:"",actionTaken:"",serviceManager:{user_id:"",firstName:""},serviceProvidedBy:{user_id:"",firstName:""},supportedBy:{user_id:"",firstName:""},natureOfService:{natureOfService:""},natureOfComplaint:{natureOfComplaint:""},materialQuantity:[{material:{materialName:"",id:""},quantity:""}],attachments:[],isApproved:!1},A=cr().shape({serviceNo:it().required("Service number is required"),contactPerson:it().required("Contact person is required"),serviceDate:Lc().required("Service date is required"),client:cr().shape({id:it().required("Client is required."),customerName:it().required("Client is required.")}).required("Client  is required."),product:cr().shape({id:it().required("Product is required."),productName:it().required("Product is required.")}).required("Product is required."),problem:it().required("Problem description is required"),actionTaken:it().required("Action taken is required"),installationLocation:cr().shape({installationLocationId:it().required("InstallationId  is required.")}).required("InstallationId  is required."),serviceManager:cr().shape({user_id:it().required("Manager ID is required."),firstName:it().required("Manager Name is required.")}).required("Manager is required."),serviceProvidedBy:cr().shape({user_id:it().required("Service Provider is required."),firstName:it().required("Service Provider Name is required.")}).required("Service Provider is required."),supportedBy:cr().shape({user_id:it().required("Support Person is required."),firstName:it().required("Support Person Name is required.")}).required("Support Person is required."),natureOfService:cr().shape({natureOfService:it().required("Nature of service is required")}).required("Nature of service is required"),natureOfComplaint:cr().shape({natureOfComplaint:it().required("Nature of complaint is required")}).required("Nature of complaint is required")}),D=_p({initialValues:R,validationSchema:A,onSubmit:Oe=>{e?(b.mutate(Oe,{onSuccess:()=>{o("/app/services")}}),e=null):(console.log("Form submitted:",Oe),w.mutate(Oe,{onSuccess:()=>{o("/app/services")}}))}}),[M,I]=v.useState(null),[L,j]=v.useState(!1),[W,B]=v.useState(0),ie=Oe=>{var ur;const vt=(ur=Oe.target.files)==null?void 0:ur[0];vt&&I(vt)},[Se,Ee]=v.useState([]),xe=async()=>{if(!M){nt.error("Please select a file to upload.");return}console.log("upload successful"),j(!0),B(0);const Oe=new FormData;Oe.append("file",M);try{const vt=await fetch(`${xc}/api/services/uploadFile`,{method:"POST",body:Oe});if(vt.ok){const ur=await vt.json();nt.success("File uploaded successfully.");const nn=[...D.values.attachments||[],ur==null?void 0:ur.data];Ee(nn),D.setFieldValue("attachments",nn),console.log("Updated Formik Attachments:",D.values.attachments),console.log("Updated local uploadedData:",Se)}else{const ur=await vt.json();nt.error(`Upload failed: ${ur.message||"Unknown error"}`)}}catch(vt){console.error("Error uploading file:",vt),nt.error("An error occurred while uploading the file.")}finally{j(!1),B(0)}},ae=Oe=>{const vt=Se.filter(ur=>ur.id!==Oe);Ee(vt),console.log(),D.setFieldValue("attachments",vt)},Z=Oe=>{console.log("Updated Rows:",Oe),D.setFieldValue("materialQuantity",Oe)},re=async(Oe,vt)=>{Oe.preventDefault();try{const ur=`${xc}/api/resources/serveFile?filePath=${encodeURIComponent(vt)}`,nn=await fetch(ur,{method:"GET"});if(nn.ok){const Qs=await nn.blob(),Me=URL.createObjectURL(Qs);window.open(Me,"_blank"),setTimeout(()=>URL.revokeObjectURL(Me),6e4)}else nt.error("API Error: "+nn.statusText)}catch(ur){nt.error("Fetch Error: "+ur.message)}},ue=()=>{o("/app/services")},z={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}},N=Oe=>{Oe.preventDefault(),console.log("action handle submit"),D.handleSubmit(),console.log("Formik Errors:",D.errors),console.log("Formik Touched:",D.touched)};return d.jsx(Gs.div,{className:"p-4 sm:p-6 bg-gray-100 dark:bg-gray-900 min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(Gs.div,{className:"max-w-5xl mx-auto border p-4 sm:p-6 shadow-md rounded-md",variants:z,initial:"hidden",animate:"visible",children:d.jsxs("form",{onSubmit:N,className:"grid gap-4",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"Service Form"}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-2 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Services No"}),d.jsx("input",{type:"text",className:"w-full border rounded-md px-2 py-1 bg-transparent",disabled:!0,name:"serviceNo",value:D.values.serviceNo||""}),D.touched.serviceNo&&D.errors.serviceNo&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.serviceNo})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"ServiceDate"}),d.jsx(be,{type:"date",name:"serviceDate",className:"w-full",onChange:D.handleChange,onBlur:D.handleBlur,value:D.values.serviceDate}),D.touched.serviceDate&&D.errors.serviceDate&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.serviceDate})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Client"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((O=D.values.client)==null?void 0:O.customerName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Inch..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(H=l==null?void 0:l.data)==null?void 0:H.map(Oe=>{var vt;return d.jsxs(ns,{value:Oe==null?void 0:Oe.customerName,onSelect:()=>D.setFieldValue("client",Oe),children:[Oe==null?void 0:Oe.customerName,d.jsx(On,{className:((vt=D.values.client)==null?void 0:vt.id)===Oe.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.id)})})]})]})})]}),D.touched.client&&d.jsx(d.Fragment,{children:((G=D.errors.client)==null?void 0:G.customerName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(J=D.errors.client)==null?void 0:J.customerName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Contact Person"}),d.jsx(be,{type:"text",name:"contactPerson",className:"w-full",placeholder:"Enter Contact Person",onChange:D.handleChange,onBlur:D.handleBlur,value:D.values.contactPerson}),D.touched.contactPerson&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.contactPerson})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Service Provided By"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((oe=D.values.serviceProvidedBy)==null?void 0:oe.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Inch..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(ve=u==null?void 0:u.data)==null?void 0:ve.map(Oe=>{var vt;return d.jsxs(ns,{value:Oe.firstName,onSelect:()=>D.setFieldValue("serviceProvidedBy",Oe),children:[Oe.firstName,d.jsx(On,{className:((vt=D.values.serviceProvidedBy)==null?void 0:vt.user_id)===Oe.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.user_id)})})]})]})})]}),D.touched.serviceProvidedBy&&d.jsx(d.Fragment,{children:((X=D.errors.serviceProvidedBy)==null?void 0:X.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(ne=D.errors.serviceProvidedBy)==null?void 0:ne.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Supported By"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((Ne=D.values.supportedBy)==null?void 0:Ne.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Inch..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(Ae=u==null?void 0:u.data)==null?void 0:Ae.map(Oe=>{var vt;return d.jsxs(ns,{value:Oe.firstName,onSelect:()=>D.setFieldValue("supportedBy",Oe),children:[Oe.firstName,d.jsx(On,{className:((vt=D.values.supportedBy)==null?void 0:vt.user_id)===Oe.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.user_id)})})]})]})})]}),D.touched.supportedBy&&d.jsx(d.Fragment,{children:((Qe=D.errors.supportedBy)==null?void 0:Qe.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(Je=D.errors.supportedBy)==null?void 0:Je.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Service Manager"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((ft=D.values.serviceManager)==null?void 0:ft.firstName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Inch..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(xt=u==null?void 0:u.data)==null?void 0:xt.map(Oe=>{var vt;return d.jsxs(ns,{value:Oe.firstName,onSelect:()=>D.setFieldValue("serviceManager",Oe),children:[Oe.firstName,d.jsx(On,{className:((vt=D.values.serviceManager)==null?void 0:vt.user_id)===Oe.user_id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.user_id)})})]})]})})]}),D.touched.serviceManager&&d.jsx(d.Fragment,{children:((We=D.errors.serviceManager)==null?void 0:We.firstName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(le=D.errors.serviceManager)==null?void 0:le.firstName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Nature Of Service"}),d.jsx(be,{type:"text",name:"natureOfService.natureOfService",className:"w-full",placeholder:"Enter Nature Of Service",value:D.values.natureOfService.natureOfService,onChange:D.handleChange}),D.touched.natureOfService&&typeof D.errors.natureOfService&&d.jsx("p",{className:"text-red-500 text-sm",children:(Ke=D.errors.natureOfService)==null?void 0:Ke.natureOfService})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Nature Of Complaint"}),d.jsx(be,{type:"text",name:"natureOfComplaint.natureOfComplaint",className:"w-full",placeholder:"Enter Nature Of Complaint",value:D.values.natureOfComplaint.natureOfComplaint,onChange:D.handleChange}),D.touched.natureOfComplaint&&typeof D.errors.natureOfComplaint&&d.jsx("p",{className:"text-red-500 text-sm",children:(ct=D.errors.natureOfComplaint)==null?void 0:ct.natureOfComplaint})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Item "}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((Nt=D.values.product)==null?void 0:Nt.productName)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Opti..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(de=f==null?void 0:f.data)==null?void 0:de.map(Oe=>{var vt;return d.jsxs(ns,{value:Oe==null?void 0:Oe.id,onSelect:()=>D.setFieldValue("product",Oe),children:[Oe==null?void 0:Oe.productName,d.jsx(On,{className:((vt=D.values.product)==null?void 0:vt.productName)===Oe.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.id)})})]})]})})]}),D.touched.product&&d.jsx(d.Fragment,{children:((He=D.errors.product)==null?void 0:He.productName)&&d.jsx("p",{className:"text-red-500 text-sm",children:(Ue=D.errors.product)==null?void 0:Ue.productName})})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Installation ID"}),d.jsxs(ws,{children:[d.jsx(xs,{asChild:!0,children:d.jsxs(Ot,{variant:"outline",className:"w-full justify-between bg-transparent",children:[((tt=D.values.installationLocation)==null?void 0:tt.installationLocationId)||"Select Option...",d.jsx(ys,{className:"opacity-50"})]})}),d.jsx(Xn,{className:"w-[320px] p-0",children:d.jsxs(Jn,{children:[d.jsx(Zn,{placeholder:"Search Opti..."}),d.jsxs(es,{children:[d.jsx(ts,{children:"No data found."}),d.jsx(rs,{children:(rt=a==null?void 0:a.data)==null?void 0:rt.map(Oe=>{var vt;return d.jsxs(ns,{value:Oe==null?void 0:Oe.installationLocationId,onSelect:()=>D.setFieldValue("installationLocation",Oe),children:[Oe==null?void 0:Oe.installationLocationId,d.jsx(On,{className:((vt=D.values.installationLocation)==null?void 0:vt.installationLocationId)===Oe.id?"ml-auto opacity-100":"ml-auto opacity-0"})]},Oe.id)})})]})]})})]}),D.touched.installationLocation&&d.jsx(d.Fragment,{children:((gt=D.errors.installationLocation)==null?void 0:gt.installationLocationId)&&d.jsxs("p",{className:"text-red-500 text-sm",children:[(Vt=D.errors.installationLocation)==null?void 0:Vt.installationLocationId,(zr=D.errors.installationLocation)==null?void 0:zr.id]})})]})]}),d.jsx(qbe,{materialQuantities:s,materials:p==null?void 0:p.data,onRowsChange:Z}),d.jsxs("div",{children:[d.jsx(ce,{children:"Problem"}),d.jsx("textarea",{className:"w-full p-2 bg-transparent border rounded-md",name:"problem",placeholder:"Enter Problem",value:D.values.problem,onChange:D.handleChange}),D.touched.problem&&D.errors.problem&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.problem})]}),d.jsxs("div",{children:[d.jsx(ce,{children:"Action Taken"}),d.jsx("textarea",{className:"w-full p-2 bg-transparent border rounded-md",name:"actionTaken",placeholder:"Enter ActionTaken",value:D.values.actionTaken,onChange:D.handleChange}),D.touched.actionTaken&&D.errors.actionTaken&&d.jsx("p",{className:"text-red-500 text-sm",children:D.errors.actionTaken})]}),d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block font-medium",children:"Upload Files"}),d.jsx("input",{type:"file",className:"flex-1 p-2 text-xs border-none outline-none",onChange:ie,disabled:L})]}),L&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{children:"Uploading..."}),d.jsx("progress",{value:W,max:"100",className:"w-full"})]}),d.jsxs(Ot,{onClick:xe,disabled:L,className:"h-[35px] text-sm px-10 py-2 rounded-md",children:[" ",L?"Uploading...":"Upload"]})]}),d.jsx(aG,{columns:[{key:"index",label:"Sr.No",render:(Oe,vt)=>vt+1},{key:"location",label:"File Name",render:Oe=>d.jsx("a",{href:Oe.location,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",onClick:vt=>re&&re(vt,Oe.location),children:Oe.location})},{key:"docType",label:"Doctype",render:Oe=>{var vt;return(vt=Oe.docType)==null?void 0:vt.docType}},{key:"actions",label:"Actions",render:Oe=>d.jsx("button",{className:"text-red-500",onClick:()=>ae&&ae(Oe.id),children:"Remove"})}],data:Se}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"status",name:"isApproved",className:"mr-2",checked:D.values.isApproved,onChange:D.handleChange}),d.jsxs("label",{htmlFor:"status",className:"text-sm font-medium",children:[" ","Is Aprroved"," "]})]}),d.jsx(Ot,{className:"bg-gray-300 hover:bg-gray-400 text-gray-600 px-4 py-2 rounded-md",type:"button",onClick:ue,children:"Cancel"}),d.jsx(Ot,{type:"submit",children:e?"Update":"Create"})]})]})})})},Qbe=({text:e})=>d.jsxs(J1,{className:"text-red-500 text-sm",children:[e," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),Xbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({brandName:r.brandName||""});v.useEffect(()=>{s({brandName:r.brandName||""})},[r]);const i=o=>{o.preventDefault(),e(n),s({brandName:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Brand Name"}),d.jsx(Qbe,{text:"Required"}),d.jsx(be,{required:!0,value:n.brandName,placeholder:"Enter Brand Name",onChange:o=>s({...n,brandName:o.target.value})})]})})})})},Jbe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(0),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=QB(),f=L1e(),p=_1e(r),g=j1e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"brandName",headerName:"Brand Name"}],y=()=>{i(""),n(0),t(!0)},w=()=>{t(!1)},b=R=>{console.log(r),r?(console.log("true"),p.mutate(R,{onSuccess:()=>{u(),t(!1)}})):(console.log("false"),console.log(R),f.mutate(R,{onSuccess:()=>{u(),t(!1)}}))},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Brand Names"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Brand Name":"Create Brand Name",dialogDescription:r?"Edit Brand Name here...":"Create Brand Name here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(Xbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},Zbe=({onSubmit:e,formId:t,defaultValues:r={}})=>{const[n,s]=v.useState({name:r.name||""});v.useEffect(()=>{s({name:r.name||""})},[r]);const i=o=>{o.preventDefault(),e(n),s({name:""})};return d.jsx("form",{id:t,onSubmit:i,children:d.jsx("div",{className:"space-y-4",children:d.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ce,{children:"Order Type"}),d.jsx(be,{required:!0,value:n.name,placeholder:"Enter Order Type",onChange:o=>s({...n,name:o.target.value})})]})})})})},eRe=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(0),[s,i]=v.useState(""),{data:o,isLoading:a,isError:l,refetch:u}=YB(),f=N1e(),p=I1e(r),g=O1e(r),C=(o==null?void 0:o.data)||[];console.log("rowData",o);const S=[{field:"srNo",headerName:"Sr No.",cellRenderer:R=>R.node.rowIndex+1},{field:"name",headerName:"Name"}],y=()=>{i(""),n(0),t(!0)},w=()=>{t(!1)},b=R=>{console.log(r),r?(console.log("true"),p.mutate(R,{onSuccess:()=>{u()}})):(console.log("false"),console.log(R),f.mutate(R,{onSuccess:()=>{u()}})),t(!1)},F=R=>{n(R.id),i(R),t(!0)},E=R=>{n(R.id),g.mutate(R.id,{onSuccess:()=>{u()}})};return a?d.jsx(Qr,{}):l?d.jsx("div",{children:"Error loading data"}):d.jsxs("div",{children:[d.jsx("h1",{className:"heading-primary",children:"Order Type"}),d.jsxs("div",{className:"p-6 ",children:[" ",d.jsx(Mr,{rowData:C,colDefs:S,isLoading:a,onAddClick:y,onEditClick:F,onDeleteClick:E})]}),d.jsx(Nr,{isOpen:e,onClose:w,dialogTitle:r?"Edit Order Type":"Create Order Type",dialogDescription:r?"Edit Order Type here...":"Create Order Type here...",formId:"service-form",width:"max-w-4xl",height:"h-auto",children:d.jsx(Zbe,{onSubmit:b,formId:"service-form",defaultValues:s})})]})},FM=[{name:"Manrope",class:"font-manrope",css:"Manrope, sans-serif"},{name:"Inter",class:"font-inter",css:"Inter, sans-serif"},{name:"Poppins",class:"font-poppins",css:"Poppins, sans-serif"},{name:"Roboto",class:"font-roboto",css:"Roboto, sans-serif"},{name:"Raleway",class:"font-raleway",css:"Raleway, sans-serif"}],TM=[{name:"Blue",color:"#3b82f6",value:"theme-blue"},{name:"Green",color:"#10b981",value:"theme-green"},{name:"Purple",color:"#8b5cf6",value:"theme-purple"},{name:"Red",color:"#ef4444",value:"theme-red"}],tRe=()=>{const{theme:e,setTheme:t}=W1(),[r,n]=v.useState("font-manrope"),[s,i]=v.useState("theme-blue");v.useEffect(()=>{const u=localStorage.getItem("font-class")||"font-manrope",f=localStorage.getItem("color-theme")||"theme-blue";o(u),a(f)},[]);const o=u=>{FM.forEach(f=>{document.documentElement.classList.remove(f.class)}),document.documentElement.classList.add(u),localStorage.setItem("font-class",u),n(u)},a=u=>{TM.forEach(f=>{document.documentElement.classList.remove(f.value)}),document.documentElement.classList.add(u),localStorage.setItem("color-theme",u),i(u)},l=u=>{t(u),localStorage.setItem("theme-mode",u)};return d.jsxs("div",{className:"p-8 max-w-4xl mx-auto bg-background text-foreground",children:[d.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Appearance"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Customize the appearance of the app. Automatically switch between day and night themes."}),d.jsx("hr",{className:"border-border mb-6"}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Font"}),d.jsx("p",{className:"text-muted-foreground mb-3",children:"Set the font you want to use in the dashboard."}),d.jsxs(wt,{value:r,onValueChange:o,children:[d.jsx(Ct,{className:"w-64",children:d.jsx(St,{placeholder:"Select font"})}),d.jsx(yt,{children:FM.map(u=>d.jsx(Xt,{value:u.class,style:{fontFamily:u.css},children:u.name},u.class))})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Theme"}),d.jsx("p",{className:"text-muted-foreground mb-3",children:"Select the theme for the dashboard."}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{onClick:()=>l("light"),className:`border-2 p-2 rounded-lg cursor-pointer transition-all ${e==="light"?"border-foreground":"border-border"}`,children:[d.jsxs("div",{className:"w-32 h-20 bg-white rounded-md p-2 space-y-2",children:[d.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]}),d.jsx("p",{className:"text-sm mt-2 text-center",children:"Light"})]}),d.jsxs("div",{onClick:()=>l("dark"),className:`border-2 p-2 rounded-lg cursor-pointer transition-all ${e==="dark"?"border-foreground":"border-border"}`,children:[d.jsxs("div",{className:"w-32 h-20 bg-[#0f172a] rounded-md p-2 space-y-2",children:[d.jsx("div",{className:"h-3 bg-slate-500 rounded w-3/4"}),d.jsx("div",{className:"h-3 bg-slate-500 rounded w-full"}),d.jsx("div",{className:"h-3 bg-slate-500 rounded w-5/6"})]}),d.jsx("p",{className:"text-sm mt-2 text-center",children:"Dark"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Color Theme"}),d.jsx("p",{className:"text-muted-foreground mb-3",children:"Choose the primary accent color for the dashboard."}),d.jsx("div",{className:"flex gap-4 flex-wrap",children:TM.map(u=>d.jsx("div",{onClick:()=>a(u.value),className:`w-10 h-10 rounded-full cursor-pointer border-2 transition-all ${s===u.value?"border-foreground scale-110":"border-border"}`,style:{backgroundColor:u.color}},u.value))})]}),d.jsx("button",{className:"mt-4 px-6 py-2 rounded-md bg-primary text-primary-foreground font-semibold shadow hover:opacity-90 transition-all",children:"Update preferences"})]})]})},rRe=()=>d.jsx(DH,{children:d.jsx(SH,{children:d.jsxs(Q8,{children:[d.jsx(Kt,{path:"/",element:d.jsx(J9,{})}),d.jsx(Kt,{path:"/app/home",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Z9,{})})})}),d.jsx(Kt,{path:"/app/customer-list",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(l5,{})})})}),d.jsx(Kt,{path:"/app/sales",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Wxe,{})})})}),d.jsx(Kt,{path:"/app/sales/createform",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(k1e,{})})})}),d.jsx(Kt,{path:"/app/product-list",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(_5,{})})})}),d.jsx(Kt,{path:"/app/customer-type",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(ibe,{})})})}),d.jsx(Kt,{path:"/app/product-list/productform",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(nbe,{})})})}),d.jsx(Kt,{path:"/app/SourceOfReference",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(abe,{})})})}),d.jsx(Kt,{path:"/app/reference-details",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(cbe,{})})})}),d.jsx(Kt,{path:"/app/customer-status",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(dbe,{})})})}),d.jsx(Kt,{path:"/app/designation",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(fbe,{})})})}),d.jsx(Kt,{path:"/app/item-category",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(gbe,{})})})}),d.jsx(Kt,{path:"/app/item-type",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(vbe,{})})})}),d.jsx(Kt,{path:"/app/order-type",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(eRe,{})})})}),d.jsx(Kt,{path:"/app/item-status",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(ybe,{})})})}),d.jsx(Kt,{path:"/app/star-rating",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(wbe,{})})})}),d.jsx(Kt,{path:"/app/ref-gas-type",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(bbe,{})})})}),d.jsx(Kt,{path:"/app/ton-capacity",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Ebe,{})})})}),d.jsx(Kt,{path:"/app/material",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(xB,{})})})}),d.jsx(Kt,{path:"/app/unit-of-measurements",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Tbe,{})})})}),d.jsx(Kt,{path:"/app/brand-name",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Jbe,{})})})}),d.jsx(Kt,{path:"/app/user",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Abe,{})})})}),d.jsx(Kt,{path:"/app/installation-location",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Obe,{})})})}),d.jsx(Kt,{path:"/app/delivery-challan",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Bbe,{})})})}),d.jsx(Kt,{path:"/app/delivery-challan/delivery-challan-form",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(_be,{})})})}),d.jsx(Kt,{path:"/app/installation",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Kbe,{})})})}),d.jsx(Kt,{path:"/app/installation/installation-form",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(zbe,{})})})}),d.jsx(Kt,{path:"/app/services",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(EB,{})})})}),d.jsx(Kt,{path:"/app/services/services-form",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(Ybe,{})})})}),d.jsx(Kt,{path:"/app/appearance",element:d.jsx(Zt,{children:d.jsx(er,{children:d.jsx(tRe,{})})})})]})})}),nRe=new N9;n8.createRoot(document.getElementById("root")).render(d.jsx(v.StrictMode,{children:d.jsxs(_q,{attribute:"class",enableSystem:!1,defaultTheme:"dark",children:[d.jsx(MV,{}),d.jsx(_9,{client:nRe,children:d.jsx(rRe,{})})]})}))});export default sRe();
